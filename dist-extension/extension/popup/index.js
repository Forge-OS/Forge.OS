(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var jd={exports:{}},es={},Rd={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=Symbol.for("react.element"),qm=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),rh=Symbol.for("react.provider"),oh=Symbol.for("react.context"),ih=Symbol.for("react.forward_ref"),sh=Symbol.for("react.suspense"),lh=Symbol.for("react.memo"),ah=Symbol.for("react.lazy"),Fu=Symbol.iterator;function uh(e){return e===null||typeof e!="object"?null:(e=Fu&&e[Fu]||e["@@iterator"],typeof e=="function"?e:null)}var Od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ld=Object.assign,Dd={};function br(e,t,n){this.props=e,this.context=t,this.refs=Dd,this.updater=n||Od}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bd(){}bd.prototype=br.prototype;function pa(e,t,n){this.props=e,this.context=t,this.refs=Dd,this.updater=n||Od}var ma=pa.prototype=new bd;ma.constructor=pa;Ld(ma,br.prototype);ma.isPureReactComponent=!0;var Uu=Array.isArray,zd=Object.prototype.hasOwnProperty,ha={current:null},Md={key:!0,ref:!0,__self:!0,__source:!0};function Fd(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)zd.call(t,r)&&!Md.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:Lo,type:e,key:i,ref:s,props:o,_owner:ha.current}}function ch(e,t){return{$$typeof:Lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ga(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lo}function dh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Bu=/\/+/g;function Es(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dh(""+e.key):t.toString(36)}function ai(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Lo:case qm:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Es(s,0):r,Uu(o)?(n="",e!=null&&(n=e.replace(Bu,"$&/")+"/"),ai(o,t,n,"",function(d){return d})):o!=null&&(ga(o)&&(o=ch(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Bu,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Uu(e))for(var u=0;u<e.length;u++){i=e[u];var c=r+Es(i,u);s+=ai(i,t,n,c,o)}else if(c=uh(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=r+Es(i,u++),s+=ai(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Bo(e,t,n){if(e==null)return e;var r=[],o=0;return ai(e,r,"","",function(i){return t.call(n,i,o++)}),r}function fh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ze={current:null},ui={transition:null},ph={ReactCurrentDispatcher:Ze,ReactCurrentBatchConfig:ui,ReactCurrentOwner:ha};function Ud(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Bo,forEach:function(e,t,n){Bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bo(e,function(){t++}),t},toArray:function(e){return Bo(e,function(t){return t})||[]},only:function(e){if(!ga(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=br;Z.Fragment=eh;Z.Profiler=nh;Z.PureComponent=pa;Z.StrictMode=th;Z.Suspense=sh;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ph;Z.act=Ud;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ld({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=ha.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)zd.call(t,c)&&!Md.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Lo,type:e.type,key:o,ref:i,props:r,_owner:s}};Z.createContext=function(e){return e={$$typeof:oh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rh,_context:e},e.Consumer=e};Z.createElement=Fd;Z.createFactory=function(e){var t=Fd.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:ih,render:e}};Z.isValidElement=ga;Z.lazy=function(e){return{$$typeof:ah,_payload:{_status:-1,_result:e},_init:fh}};Z.memo=function(e,t){return{$$typeof:lh,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ui.transition;ui.transition={};try{e()}finally{ui.transition=t}};Z.unstable_act=Ud;Z.useCallback=function(e,t){return Ze.current.useCallback(e,t)};Z.useContext=function(e){return Ze.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Ze.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Ze.current.useEffect(e,t)};Z.useId=function(){return Ze.current.useId()};Z.useImperativeHandle=function(e,t,n){return Ze.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Ze.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Ze.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Ze.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Ze.current.useReducer(e,t,n)};Z.useRef=function(e){return Ze.current.useRef(e)};Z.useState=function(e){return Ze.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Ze.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Ze.current.useTransition()};Z.version="18.3.1";Rd.exports=Z;var w=Rd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh=w,hh=Symbol.for("react.element"),gh=Symbol.for("react.fragment"),yh=Object.prototype.hasOwnProperty,vh=mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sh={key:!0,ref:!0,__self:!0,__source:!0};function Bd(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)yh.call(t,r)&&!Sh.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:hh,type:e,key:i,ref:s,props:o,_owner:vh.current}}es.Fragment=gh;es.jsx=Bd;es.jsxs=Bd;jd.exports=es;var l=jd.exports,$d={exports:{}},vt={},Kd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,b){var M=N.length;N.push(b);e:for(;0<M;){var X=M-1>>>1,V=N[X];if(0<o(V,b))N[X]=b,N[M]=V,M=X;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var b=N[0],M=N.pop();if(M!==b){N[0]=M;e:for(var X=0,V=N.length,U=V>>>1;X<U;){var re=2*(X+1)-1,J=N[re],Oe=re+1,F=N[Oe];if(0>o(J,M))Oe<V&&0>o(F,J)?(N[X]=F,N[Oe]=M,X=Oe):(N[X]=J,N[re]=M,X=re);else if(Oe<V&&0>o(F,M))N[X]=F,N[Oe]=M,X=Oe;else break e}}return b}function o(N,b){var M=N.sortIndex-b.sortIndex;return M!==0?M:N.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],d=[],g=1,m=null,h=3,v=!1,k=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var b=n(d);b!==null;){if(b.callback===null)r(d);else if(b.startTime<=N)r(d),b.sortIndex=b.expirationTime,t(c,b);else break;b=n(d)}}function S(N){if(E=!1,y(N),!k)if(n(c)!==null)k=!0,Ie(I);else{var b=n(d);b!==null&&oe(S,b.startTime-N)}}function I(N,b){k=!1,E&&(E=!1,p(C),C=-1),v=!0;var M=h;try{for(y(b),m=n(c);m!==null&&(!(m.expirationTime>b)||N&&!G());){var X=m.callback;if(typeof X=="function"){m.callback=null,h=m.priorityLevel;var V=X(m.expirationTime<=b);b=e.unstable_now(),typeof V=="function"?m.callback=V:m===n(c)&&r(c),y(b)}else r(c);m=n(c)}if(m!==null)var U=!0;else{var re=n(d);re!==null&&oe(S,re.startTime-b),U=!1}return U}finally{m=null,h=M,v=!1}}var _=!1,j=null,C=-1,W=5,K=-1;function G(){return!(e.unstable_now()-K<W)}function ve(){if(j!==null){var N=e.unstable_now();K=N;var b=!0;try{b=j(!0,N)}finally{b?de():(_=!1,j=null)}}else _=!1}var de;if(typeof f=="function")de=function(){f(ve)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Re=Ce.port2;Ce.port1.onmessage=ve,de=function(){Re.postMessage(null)}}else de=function(){x(ve,0)};function Ie(N){j=N,_||(_=!0,de())}function oe(N,b){C=x(function(){N(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,Ie(I))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var b=3;break;default:b=h}var M=h;h=b;try{return N()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,b){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=h;h=N;try{return b()}finally{h=M}},e.unstable_scheduleCallback=function(N,b,M){var X=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?X+M:X):M=X,N){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=M+V,N={id:g++,callback:b,priorityLevel:N,startTime:M,expirationTime:V,sortIndex:-1},M>X?(N.sortIndex=M,t(d,N),n(c)===null&&N===n(d)&&(E?(p(C),C=-1):E=!0,oe(S,M-X))):(N.sortIndex=V,t(c,N),k||v||(k=!0,Ie(I))),N},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(N){var b=h;return function(){var M=h;h=b;try{return N.apply(this,arguments)}finally{h=M}}}})(Wd);Kd.exports=Wd;var xh=Kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=w,yt=xh;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vd=new Set,ho={};function Yn(e,t){_r(e,t),_r(e+"Capture",t)}function _r(e,t){for(ho[e]=t,e=0;e<t.length;e++)Vd.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),al=Object.prototype.hasOwnProperty,Eh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$u={},Ku={};function kh(e){return al.call(Ku,e)?!0:al.call($u,e)?!1:Eh.test(e)?Ku[e]=!0:($u[e]=!0,!1)}function Ah(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Th(e,t,n,r){if(t===null||typeof t>"u"||Ah(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Je(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new Je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new Je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new Je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new Je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new Je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new Je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new Je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new Je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new Je(e,5,!1,e.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function va(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ya,va);Be[t]=new Je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ya,va);Be[t]=new Je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ya,va);Be[t]=new Je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new Je(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new Je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sa(e,t,n,r){var o=Be.hasOwnProperty(t)?Be[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Th(t,n,o,r)&&(n=null),r||o===null?kh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sn=wh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),or=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),xa=Symbol.for("react.strict_mode"),ul=Symbol.for("react.profiler"),Hd=Symbol.for("react.provider"),Gd=Symbol.for("react.context"),wa=Symbol.for("react.forward_ref"),cl=Symbol.for("react.suspense"),dl=Symbol.for("react.suspense_list"),Ea=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),Xd=Symbol.for("react.offscreen"),Wu=Symbol.iterator;function Ur(e){return e===null||typeof e!="object"?null:(e=Wu&&e[Wu]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,ks;function Yr(e){if(ks===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ks=t&&t[1]||""}return`
`+ks+e}var As=!1;function Ts(e,t){if(!e||As)return"";As=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,u=i.length-1;1<=s&&0<=u&&o[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(o[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||o[s]!==i[u]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{As=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yr(e):""}function Ih(e){switch(e.tag){case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return e=Ts(e.type,!1),e;case 11:return e=Ts(e.type.render,!1),e;case 1:return e=Ts(e.type,!0),e;default:return""}}function fl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ir:return"Fragment";case or:return"Portal";case ul:return"Profiler";case xa:return"StrictMode";case cl:return"Suspense";case dl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gd:return(e.displayName||"Context")+".Consumer";case Hd:return(e._context.displayName||"Context")+".Provider";case wa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ea:return t=e.displayName||null,t!==null?t:fl(e.type)||"Memo";case un:t=e._payload,e=e._init;try{return fl(e(t))}catch{}}return null}function _h(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fl(t);case 8:return t===xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function In(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ch(e){var t=Qd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ko(e){e._valueTracker||(e._valueTracker=Ch(e))}function Yd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pl(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=In(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zd(e,t){t=t.checked,t!=null&&Sa(e,"checked",t,!1)}function ml(e,t){Zd(e,t);var n=In(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hl(e,t.type,n):t.hasOwnProperty("defaultValue")&&hl(e,t.type,In(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hl(e,t,n){(t!=="number"||wi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zr=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+In(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function gl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(Zr(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:In(n)}}function Jd(e,t){var n=In(t.value),r=In(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wo,ef=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function go(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nh=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(e){Nh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eo[t]=eo[e]})});function tf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||eo.hasOwnProperty(e)&&eo[e]?(""+t).trim():t+"px"}function nf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=tf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Ph=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vl(e,t){if(t){if(Ph[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function Sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xl=null;function ka(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wl=null,xr=null,wr=null;function Qu(e){if(e=zo(e)){if(typeof wl!="function")throw Error(T(280));var t=e.stateNode;t&&(t=is(t),wl(e.stateNode,e.type,t))}}function rf(e){xr?wr?wr.push(e):wr=[e]:xr=e}function of(){if(xr){var e=xr,t=wr;if(wr=xr=null,Qu(e),t)for(e=0;e<t.length;e++)Qu(t[e])}}function sf(e,t){return e(t)}function lf(){}var Is=!1;function af(e,t,n){if(Is)return e(t,n);Is=!0;try{return sf(e,t,n)}finally{Is=!1,(xr!==null||wr!==null)&&(lf(),of())}}function yo(e,t){var n=e.stateNode;if(n===null)return null;var r=is(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var El=!1;if(en)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){El=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{El=!1}function jh(e,t,n,r,o,i,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(g){this.onError(g)}}var to=!1,Ei=null,ki=!1,kl=null,Rh={onError:function(e){to=!0,Ei=e}};function Oh(e,t,n,r,o,i,s,u,c){to=!1,Ei=null,jh.apply(Rh,arguments)}function Lh(e,t,n,r,o,i,s,u,c){if(Oh.apply(this,arguments),to){if(to){var d=Ei;to=!1,Ei=null}else throw Error(T(198));ki||(ki=!0,kl=d)}}function Zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function uf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yu(e){if(Zn(e)!==e)throw Error(T(188))}function Dh(e){var t=e.alternate;if(!t){if(t=Zn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Yu(o),e;if(i===r)return Yu(o),t;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function cf(e){return e=Dh(e),e!==null?df(e):null}function df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=df(e);if(t!==null)return t;e=e.sibling}return null}var ff=yt.unstable_scheduleCallback,Zu=yt.unstable_cancelCallback,bh=yt.unstable_shouldYield,zh=yt.unstable_requestPaint,Te=yt.unstable_now,Mh=yt.unstable_getCurrentPriorityLevel,Aa=yt.unstable_ImmediatePriority,pf=yt.unstable_UserBlockingPriority,Ai=yt.unstable_NormalPriority,Fh=yt.unstable_LowPriority,mf=yt.unstable_IdlePriority,ts=null,Vt=null;function Uh(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(ts,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Kh,Bh=Math.log,$h=Math.LN2;function Kh(e){return e>>>=0,e===0?32:31-(Bh(e)/$h|0)|0}var Vo=64,Ho=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ti(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~o;u!==0?r=Jr(u):(i&=s,i!==0&&(r=Jr(i)))}else s=n&~o,s!==0?r=Jr(s):i!==0&&(r=Jr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),o=1<<n,r|=e[n],t&=~o;return r}function Wh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-zt(i),u=1<<s,c=o[s];c===-1?(!(u&n)||u&r)&&(o[s]=Wh(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function Al(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hf(){var e=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),e}function _s(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Do(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function Hh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-zt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Ta(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ne=0;function gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yf,Ia,vf,Sf,xf,Tl=!1,Go=[],vn=null,Sn=null,xn=null,vo=new Map,So=new Map,dn=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ju(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(t.pointerId)}}function $r(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=zo(t),t!==null&&Ia(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Xh(e,t,n,r,o){switch(t){case"focusin":return vn=$r(vn,e,t,n,r,o),!0;case"dragenter":return Sn=$r(Sn,e,t,n,r,o),!0;case"mouseover":return xn=$r(xn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return vo.set(i,$r(vo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,So.set(i,$r(So.get(i)||null,e,t,n,r,o)),!0}return!1}function wf(e){var t=Dn(e.target);if(t!==null){var n=Zn(t);if(n!==null){if(t=n.tag,t===13){if(t=uf(n),t!==null){e.blockedOn=t,xf(e.priority,function(){vf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xl=r,n.target.dispatchEvent(r),xl=null}else return t=zo(n),t!==null&&Ia(t),e.blockedOn=n,!1;t.shift()}return!0}function qu(e,t,n){ci(e)&&n.delete(t)}function Qh(){Tl=!1,vn!==null&&ci(vn)&&(vn=null),Sn!==null&&ci(Sn)&&(Sn=null),xn!==null&&ci(xn)&&(xn=null),vo.forEach(qu),So.forEach(qu)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,Tl||(Tl=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Qh)))}function xo(e){function t(o){return Kr(o,e)}if(0<Go.length){Kr(Go[0],e);for(var n=1;n<Go.length;n++){var r=Go[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vn!==null&&Kr(vn,e),Sn!==null&&Kr(Sn,e),xn!==null&&Kr(xn,e),vo.forEach(t),So.forEach(t),n=0;n<dn.length;n++)r=dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)wf(n),n.blockedOn===null&&dn.shift()}var Er=sn.ReactCurrentBatchConfig,Ii=!0;function Yh(e,t,n,r){var o=ne,i=Er.transition;Er.transition=null;try{ne=1,_a(e,t,n,r)}finally{ne=o,Er.transition=i}}function Zh(e,t,n,r){var o=ne,i=Er.transition;Er.transition=null;try{ne=4,_a(e,t,n,r)}finally{ne=o,Er.transition=i}}function _a(e,t,n,r){if(Ii){var o=Il(e,t,n,r);if(o===null)zs(e,t,r,_i,n),Ju(e,r);else if(Xh(o,e,t,n,r))r.stopPropagation();else if(Ju(e,r),t&4&&-1<Gh.indexOf(e)){for(;o!==null;){var i=zo(o);if(i!==null&&yf(i),i=Il(e,t,n,r),i===null&&zs(e,t,r,_i,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else zs(e,t,r,null,n)}}var _i=null;function Il(e,t,n,r){if(_i=null,e=ka(r),e=Dn(e),e!==null)if(t=Zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=uf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _i=e,null}function Ef(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mh()){case Aa:return 1;case pf:return 4;case Ai:case Fh:return 16;case mf:return 536870912;default:return 16}default:return 16}}var mn=null,Ca=null,di=null;function kf(){if(di)return di;var e,t=Ca,n=t.length,r,o="value"in mn?mn.value:mn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return di=o.slice(e,1<r?1-r:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xo(){return!0}function ec(){return!1}function St(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xo:ec,this.isPropagationStopped=ec,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=St(zr),bo=ge({},zr,{view:0,detail:0}),Jh=St(bo),Cs,Ns,Wr,ns=ge({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wr&&(Wr&&e.type==="mousemove"?(Cs=e.screenX-Wr.screenX,Ns=e.screenY-Wr.screenY):Ns=Cs=0,Wr=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:Ns}}),tc=St(ns),qh=ge({},ns,{dataTransfer:0}),eg=St(qh),tg=ge({},bo,{relatedTarget:0}),Ps=St(tg),ng=ge({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),rg=St(ng),og=ge({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ig=St(og),sg=ge({},zr,{data:0}),nc=St(sg),lg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ag={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ug[e])?!!t[e]:!1}function Pa(){return cg}var dg=ge({},bo,{key:function(e){if(e.key){var t=lg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ag[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fg=St(dg),pg=ge({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rc=St(pg),mg=ge({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),hg=St(mg),gg=ge({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yg=St(gg),vg=ge({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sg=St(vg),xg=[9,13,27,32],ja=en&&"CompositionEvent"in window,no=null;en&&"documentMode"in document&&(no=document.documentMode);var wg=en&&"TextEvent"in window&&!no,Af=en&&(!ja||no&&8<no&&11>=no),oc=" ",ic=!1;function Tf(e,t){switch(e){case"keyup":return xg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function If(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function Eg(e,t){switch(e){case"compositionend":return If(t);case"keypress":return t.which!==32?null:(ic=!0,oc);case"textInput":return e=t.data,e===oc&&ic?null:e;default:return null}}function kg(e,t){if(sr)return e==="compositionend"||!ja&&Tf(e,t)?(e=kf(),di=Ca=mn=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Af&&t.locale!=="ko"?null:t.data;default:return null}}var Ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ag[e.type]:t==="textarea"}function _f(e,t,n,r){rf(r),t=Ci(t,"onChange"),0<t.length&&(n=new Na("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ro=null,wo=null;function Tg(e){Mf(e,0)}function rs(e){var t=ur(e);if(Yd(t))return e}function Ig(e,t){if(e==="change")return t}var Cf=!1;if(en){var js;if(en){var Rs="oninput"in document;if(!Rs){var lc=document.createElement("div");lc.setAttribute("oninput","return;"),Rs=typeof lc.oninput=="function"}js=Rs}else js=!1;Cf=js&&(!document.documentMode||9<document.documentMode)}function ac(){ro&&(ro.detachEvent("onpropertychange",Nf),wo=ro=null)}function Nf(e){if(e.propertyName==="value"&&rs(wo)){var t=[];_f(t,wo,e,ka(e)),af(Tg,t)}}function _g(e,t,n){e==="focusin"?(ac(),ro=t,wo=n,ro.attachEvent("onpropertychange",Nf)):e==="focusout"&&ac()}function Cg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rs(wo)}function Ng(e,t){if(e==="click")return rs(t)}function Pg(e,t){if(e==="input"||e==="change")return rs(t)}function jg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:jg;function Eo(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!al.call(t,o)||!Ft(e[o],t[o]))return!1}return!0}function uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cc(e,t){var n=uc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uc(n)}}function Pf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jf(){for(var e=window,t=wi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wi(e.document)}return t}function Ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rg(e){var t=jf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pf(n.ownerDocument.documentElement,n)){if(r!==null&&Ra(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=cc(n,i);var s=cc(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Og=en&&"documentMode"in document&&11>=document.documentMode,lr=null,_l=null,oo=null,Cl=!1;function dc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cl||lr==null||lr!==wi(r)||(r=lr,"selectionStart"in r&&Ra(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oo&&Eo(oo,r)||(oo=r,r=Ci(_l,"onSelect"),0<r.length&&(t=new Na("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function Qo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Os={},Rf={};en&&(Rf=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function os(e){if(Os[e])return Os[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rf)return Os[e]=t[n];return e}var Of=os("animationend"),Lf=os("animationiteration"),Df=os("animationstart"),bf=os("transitionend"),zf=new Map,fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){zf.set(e,t),Yn(t,[e])}for(var Ls=0;Ls<fc.length;Ls++){var Ds=fc[Ls],Lg=Ds.toLowerCase(),Dg=Ds[0].toUpperCase()+Ds.slice(1);Cn(Lg,"on"+Dg)}Cn(Of,"onAnimationEnd");Cn(Lf,"onAnimationIteration");Cn(Df,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(bf,"onTransitionEnd");_r("onMouseEnter",["mouseout","mouseover"]);_r("onMouseLeave",["mouseout","mouseover"]);_r("onPointerEnter",["pointerout","pointerover"]);_r("onPointerLeave",["pointerout","pointerover"]);Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bg=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function pc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lh(r,t,void 0,e),e.currentTarget=null}function Mf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&o.isPropagationStopped())break e;pc(o,u,d),i=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&o.isPropagationStopped())break e;pc(o,u,d),i=c}}}if(ki)throw e=kl,ki=!1,kl=null,e}function ue(e,t){var n=t[Ol];n===void 0&&(n=t[Ol]=new Set);var r=e+"__bubble";n.has(r)||(Ff(t,e,2,!1),n.add(r))}function bs(e,t,n){var r=0;t&&(r|=4),Ff(n,e,r,t)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function ko(e){if(!e[Yo]){e[Yo]=!0,Vd.forEach(function(n){n!=="selectionchange"&&(bg.has(n)||bs(n,!1,e),bs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yo]||(t[Yo]=!0,bs("selectionchange",!1,t))}}function Ff(e,t,n,r){switch(Ef(t)){case 1:var o=Yh;break;case 4:o=Zh;break;default:o=_a}n=o.bind(null,t,n,e),o=void 0,!El||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function zs(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;u!==null;){if(s=Dn(u),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}u=u.parentNode}}r=r.return}af(function(){var d=i,g=ka(n),m=[];e:{var h=zf.get(e);if(h!==void 0){var v=Na,k=e;switch(e){case"keypress":if(fi(n)===0)break e;case"keydown":case"keyup":v=fg;break;case"focusin":k="focus",v=Ps;break;case"focusout":k="blur",v=Ps;break;case"beforeblur":case"afterblur":v=Ps;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=hg;break;case Of:case Lf:case Df:v=rg;break;case bf:v=yg;break;case"scroll":v=Jh;break;case"wheel":v=Sg;break;case"copy":case"cut":case"paste":v=ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=rc}var E=(t&4)!==0,x=!E&&e==="scroll",p=E?h!==null?h+"Capture":null:h;E=[];for(var f=d,y;f!==null;){y=f;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,p!==null&&(S=yo(f,p),S!=null&&E.push(Ao(f,S,y)))),x)break;f=f.return}0<E.length&&(h=new v(h,k,null,n,g),m.push({event:h,listeners:E}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==xl&&(k=n.relatedTarget||n.fromElement)&&(Dn(k)||k[tn]))break e;if((v||h)&&(h=g.window===g?g:(h=g.ownerDocument)?h.defaultView||h.parentWindow:window,v?(k=n.relatedTarget||n.toElement,v=d,k=k?Dn(k):null,k!==null&&(x=Zn(k),k!==x||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=d),v!==k)){if(E=tc,S="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(E=rc,S="onPointerLeave",p="onPointerEnter",f="pointer"),x=v==null?h:ur(v),y=k==null?h:ur(k),h=new E(S,f+"leave",v,n,g),h.target=x,h.relatedTarget=y,S=null,Dn(g)===d&&(E=new E(p,f+"enter",k,n,g),E.target=y,E.relatedTarget=x,S=E),x=S,v&&k)t:{for(E=v,p=k,f=0,y=E;y;y=er(y))f++;for(y=0,S=p;S;S=er(S))y++;for(;0<f-y;)E=er(E),f--;for(;0<y-f;)p=er(p),y--;for(;f--;){if(E===p||p!==null&&E===p.alternate)break t;E=er(E),p=er(p)}E=null}else E=null;v!==null&&mc(m,h,v,E,!1),k!==null&&x!==null&&mc(m,x,k,E,!0)}}e:{if(h=d?ur(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var I=Ig;else if(sc(h))if(Cf)I=Pg;else{I=Cg;var _=_g}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=Ng);if(I&&(I=I(e,d))){_f(m,I,n,g);break e}_&&_(e,h,d),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&hl(h,"number",h.value)}switch(_=d?ur(d):window,e){case"focusin":(sc(_)||_.contentEditable==="true")&&(lr=_,_l=d,oo=null);break;case"focusout":oo=_l=lr=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,dc(m,n,g);break;case"selectionchange":if(Og)break;case"keydown":case"keyup":dc(m,n,g)}var j;if(ja)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else sr?Tf(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Af&&n.locale!=="ko"&&(sr||C!=="onCompositionStart"?C==="onCompositionEnd"&&sr&&(j=kf()):(mn=g,Ca="value"in mn?mn.value:mn.textContent,sr=!0)),_=Ci(d,C),0<_.length&&(C=new nc(C,e,null,n,g),m.push({event:C,listeners:_}),j?C.data=j:(j=If(n),j!==null&&(C.data=j)))),(j=wg?Eg(e,n):kg(e,n))&&(d=Ci(d,"onBeforeInput"),0<d.length&&(g=new nc("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:d}),g.data=j))}Mf(m,t)})}function Ao(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ci(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=yo(e,n),i!=null&&r.unshift(Ao(e,i,o)),i=yo(e,t),i!=null&&r.push(Ao(e,i,o))),e=e.return}return r}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mc(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,o?(c=yo(n,i),c!=null&&s.unshift(Ao(n,c,u))):o||(c=yo(n,i),c!=null&&s.push(Ao(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var zg=/\r\n?/g,Mg=/\u0000|\uFFFD/g;function hc(e){return(typeof e=="string"?e:""+e).replace(zg,`
`).replace(Mg,"")}function Zo(e,t,n){if(t=hc(t),hc(e)!==t&&n)throw Error(T(425))}function Ni(){}var Nl=null,Pl=null;function jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rl=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,gc=typeof Promise=="function"?Promise:void 0,Ug=typeof queueMicrotask=="function"?queueMicrotask:typeof gc<"u"?function(e){return gc.resolve(null).then(e).catch(Bg)}:Rl;function Bg(e){setTimeout(function(){throw e})}function Ms(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);xo(t)}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Mr,To="__reactProps$"+Mr,tn="__reactContainer$"+Mr,Ol="__reactEvents$"+Mr,$g="__reactListeners$"+Mr,Kg="__reactHandles$"+Mr;function Dn(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yc(e);e!==null;){if(n=e[Kt])return n;e=yc(e)}return t}e=n,n=e.parentNode}return null}function zo(e){return e=e[Kt]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function is(e){return e[To]||null}var Ll=[],cr=-1;function Nn(e){return{current:e}}function ce(e){0>cr||(e.current=Ll[cr],Ll[cr]=null,cr--)}function le(e,t){cr++,Ll[cr]=e.current,e.current=t}var _n={},Ge=Nn(_n),st=Nn(!1),Wn=_n;function Cr(e,t){var n=e.type.contextTypes;if(!n)return _n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function lt(e){return e=e.childContextTypes,e!=null}function Pi(){ce(st),ce(Ge)}function vc(e,t,n){if(Ge.current!==_n)throw Error(T(168));le(Ge,t),le(st,n)}function Uf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(T(108,_h(e)||"Unknown",o));return ge({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,Wn=Ge.current,le(Ge,e),le(st,st.current),!0}function Sc(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=Uf(e,t,Wn),r.__reactInternalMemoizedMergedChildContext=e,ce(st),ce(Ge),le(Ge,e)):ce(st),le(st,n)}var Yt=null,ss=!1,Fs=!1;function Bf(e){Yt===null?Yt=[e]:Yt.push(e)}function Wg(e){ss=!0,Bf(e)}function Pn(){if(!Fs&&Yt!==null){Fs=!0;var e=0,t=ne;try{var n=Yt;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yt=null,ss=!1}catch(o){throw Yt!==null&&(Yt=Yt.slice(e+1)),ff(Aa,Pn),o}finally{ne=t,Fs=!1}}return null}var dr=[],fr=0,Ri=null,Oi=0,kt=[],At=0,Vn=null,Zt=1,Jt="";function On(e,t){dr[fr++]=Oi,dr[fr++]=Ri,Ri=e,Oi=t}function $f(e,t,n){kt[At++]=Zt,kt[At++]=Jt,kt[At++]=Vn,Vn=e;var r=Zt;e=Jt;var o=32-zt(r)-1;r&=~(1<<o),n+=1;var i=32-zt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Zt=1<<32-zt(t)+o|n<<o|r,Jt=i+e}else Zt=1<<i|n<<o|r,Jt=e}function Oa(e){e.return!==null&&(On(e,1),$f(e,1,0))}function La(e){for(;e===Ri;)Ri=dr[--fr],dr[fr]=null,Oi=dr[--fr],dr[fr]=null;for(;e===Vn;)Vn=kt[--At],kt[At]=null,Jt=kt[--At],kt[At]=null,Zt=kt[--At],kt[At]=null}var gt=null,ht=null,fe=!1,bt=null;function Kf(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,ht=wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vn!==null?{id:Zt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,ht=null,!0):!1;default:return!1}}function Dl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bl(e){if(fe){var t=ht;if(t){var n=t;if(!xc(e,t)){if(Dl(e))throw Error(T(418));t=wn(n.nextSibling);var r=gt;t&&xc(e,t)?Kf(r,n):(e.flags=e.flags&-4097|2,fe=!1,gt=e)}}else{if(Dl(e))throw Error(T(418));e.flags=e.flags&-4097|2,fe=!1,gt=e}}}function wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Jo(e){if(e!==gt)return!1;if(!fe)return wc(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jl(e.type,e.memoizedProps)),t&&(t=ht)){if(Dl(e))throw Wf(),Error(T(418));for(;t;)Kf(e,t),t=wn(t.nextSibling)}if(wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=gt?wn(e.stateNode.nextSibling):null;return!0}function Wf(){for(var e=ht;e;)e=wn(e.nextSibling)}function Nr(){ht=gt=null,fe=!1}function Da(e){bt===null?bt=[e]:bt.push(e)}var Vg=sn.ReactCurrentBatchConfig;function Vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=o.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ec(e){var t=e._init;return t(e._payload)}function Vf(e){function t(p,f){if(e){var y=p.deletions;y===null?(p.deletions=[f],p.flags|=16):y.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function o(p,f){return p=Tn(p,f),p.index=0,p.sibling=null,p}function i(p,f,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<f?(p.flags|=2,f):y):(p.flags|=2,f)):(p.flags|=1048576,f)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function u(p,f,y,S){return f===null||f.tag!==6?(f=Hs(y,p.mode,S),f.return=p,f):(f=o(f,y),f.return=p,f)}function c(p,f,y,S){var I=y.type;return I===ir?g(p,f,y.props.children,S,y.key):f!==null&&(f.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===un&&Ec(I)===f.type)?(S=o(f,y.props),S.ref=Vr(p,f,y),S.return=p,S):(S=Si(y.type,y.key,y.props,null,p.mode,S),S.ref=Vr(p,f,y),S.return=p,S)}function d(p,f,y,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=Gs(y,p.mode,S),f.return=p,f):(f=o(f,y.children||[]),f.return=p,f)}function g(p,f,y,S,I){return f===null||f.tag!==7?(f=$n(y,p.mode,S,I),f.return=p,f):(f=o(f,y),f.return=p,f)}function m(p,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Hs(""+f,p.mode,y),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $o:return y=Si(f.type,f.key,f.props,null,p.mode,y),y.ref=Vr(p,null,f),y.return=p,y;case or:return f=Gs(f,p.mode,y),f.return=p,f;case un:var S=f._init;return m(p,S(f._payload),y)}if(Zr(f)||Ur(f))return f=$n(f,p.mode,y,null),f.return=p,f;qo(p,f)}return null}function h(p,f,y,S){var I=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:u(p,f,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $o:return y.key===I?c(p,f,y,S):null;case or:return y.key===I?d(p,f,y,S):null;case un:return I=y._init,h(p,f,I(y._payload),S)}if(Zr(y)||Ur(y))return I!==null?null:g(p,f,y,S,null);qo(p,y)}return null}function v(p,f,y,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(y)||null,u(f,p,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $o:return p=p.get(S.key===null?y:S.key)||null,c(f,p,S,I);case or:return p=p.get(S.key===null?y:S.key)||null,d(f,p,S,I);case un:var _=S._init;return v(p,f,y,_(S._payload),I)}if(Zr(S)||Ur(S))return p=p.get(y)||null,g(f,p,S,I,null);qo(f,S)}return null}function k(p,f,y,S){for(var I=null,_=null,j=f,C=f=0,W=null;j!==null&&C<y.length;C++){j.index>C?(W=j,j=null):W=j.sibling;var K=h(p,j,y[C],S);if(K===null){j===null&&(j=W);break}e&&j&&K.alternate===null&&t(p,j),f=i(K,f,C),_===null?I=K:_.sibling=K,_=K,j=W}if(C===y.length)return n(p,j),fe&&On(p,C),I;if(j===null){for(;C<y.length;C++)j=m(p,y[C],S),j!==null&&(f=i(j,f,C),_===null?I=j:_.sibling=j,_=j);return fe&&On(p,C),I}for(j=r(p,j);C<y.length;C++)W=v(j,p,C,y[C],S),W!==null&&(e&&W.alternate!==null&&j.delete(W.key===null?C:W.key),f=i(W,f,C),_===null?I=W:_.sibling=W,_=W);return e&&j.forEach(function(G){return t(p,G)}),fe&&On(p,C),I}function E(p,f,y,S){var I=Ur(y);if(typeof I!="function")throw Error(T(150));if(y=I.call(y),y==null)throw Error(T(151));for(var _=I=null,j=f,C=f=0,W=null,K=y.next();j!==null&&!K.done;C++,K=y.next()){j.index>C?(W=j,j=null):W=j.sibling;var G=h(p,j,K.value,S);if(G===null){j===null&&(j=W);break}e&&j&&G.alternate===null&&t(p,j),f=i(G,f,C),_===null?I=G:_.sibling=G,_=G,j=W}if(K.done)return n(p,j),fe&&On(p,C),I;if(j===null){for(;!K.done;C++,K=y.next())K=m(p,K.value,S),K!==null&&(f=i(K,f,C),_===null?I=K:_.sibling=K,_=K);return fe&&On(p,C),I}for(j=r(p,j);!K.done;C++,K=y.next())K=v(j,p,C,K.value,S),K!==null&&(e&&K.alternate!==null&&j.delete(K.key===null?C:K.key),f=i(K,f,C),_===null?I=K:_.sibling=K,_=K);return e&&j.forEach(function(ve){return t(p,ve)}),fe&&On(p,C),I}function x(p,f,y,S){if(typeof y=="object"&&y!==null&&y.type===ir&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $o:e:{for(var I=y.key,_=f;_!==null;){if(_.key===I){if(I=y.type,I===ir){if(_.tag===7){n(p,_.sibling),f=o(_,y.props.children),f.return=p,p=f;break e}}else if(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===un&&Ec(I)===_.type){n(p,_.sibling),f=o(_,y.props),f.ref=Vr(p,_,y),f.return=p,p=f;break e}n(p,_);break}else t(p,_);_=_.sibling}y.type===ir?(f=$n(y.props.children,p.mode,S,y.key),f.return=p,p=f):(S=Si(y.type,y.key,y.props,null,p.mode,S),S.ref=Vr(p,f,y),S.return=p,p=S)}return s(p);case or:e:{for(_=y.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(p,f.sibling),f=o(f,y.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Gs(y,p.mode,S),f.return=p,p=f}return s(p);case un:return _=y._init,x(p,f,_(y._payload),S)}if(Zr(y))return k(p,f,y,S);if(Ur(y))return E(p,f,y,S);qo(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(p,f.sibling),f=o(f,y),f.return=p,p=f):(n(p,f),f=Hs(y,p.mode,S),f.return=p,p=f),s(p)):n(p,f)}return x}var Pr=Vf(!0),Hf=Vf(!1),Li=Nn(null),Di=null,pr=null,ba=null;function za(){ba=pr=Di=null}function Ma(e){var t=Li.current;ce(Li),e._currentValue=t}function zl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kr(e,t){Di=e,ba=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(Di===null)throw Error(T(308));pr=e,Di.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var bn=null;function Fa(e){bn===null?bn=[e]:bn.push(e)}function Gf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Fa(t)):(n.next=o.next,o.next=n),t.interleaved=n,nn(e,r)}function nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var cn=!1;function Ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,nn(e,n)}return o=r.interleaved,o===null?(t.next=t,Fa(r)):(t.next=o.next,o.next=t),r.interleaved=t,nn(e,n)}function pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ta(e,n)}}function kc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bi(e,t,n,r){var o=e.updateQueue;cn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==s&&(u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=c))}if(i!==null){var m=o.baseState;s=0,g=d=c=null,u=i;do{var h=u.lane,v=u.eventTime;if((r&h)===h){g!==null&&(g=g.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var k=e,E=u;switch(h=t,v=n,E.tag){case 1:if(k=E.payload,typeof k=="function"){m=k.call(v,m,h);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=E.payload,h=typeof k=="function"?k.call(v,m,h):k,h==null)break e;m=ge({},m,h);break e;case 2:cn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[u]:h.push(u))}else v={eventTime:v,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(d=g=v,c=m):g=g.next=v,s|=h;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(g===null&&(c=m),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=g,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Gn|=s,e.lanes=s,e.memoizedState=m}}function Ac(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(T(191,o));o.call(r)}}}var Mo={},Ht=Nn(Mo),Io=Nn(Mo),_o=Nn(Mo);function zn(e){if(e===Mo)throw Error(T(174));return e}function Ba(e,t){switch(le(_o,t),le(Io,e),le(Ht,Mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yl(t,e)}ce(Ht),le(Ht,t)}function jr(){ce(Ht),ce(Io),ce(_o)}function Qf(e){zn(_o.current);var t=zn(Ht.current),n=yl(t,e.type);t!==n&&(le(Io,e),le(Ht,n))}function $a(e){Io.current===e&&(ce(Ht),ce(Io))}var me=Nn(0);function zi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=[];function Ka(){for(var e=0;e<Us.length;e++)Us[e]._workInProgressVersionPrimary=null;Us.length=0}var mi=sn.ReactCurrentDispatcher,Bs=sn.ReactCurrentBatchConfig,Hn=0,he=null,Ne=null,be=null,Mi=!1,io=!1,Co=0,Hg=0;function $e(){throw Error(T(321))}function Wa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ft(e[n],t[n]))return!1;return!0}function Va(e,t,n,r,o,i){if(Hn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mi.current=e===null||e.memoizedState===null?Yg:Zg,e=n(r,o),io){i=0;do{if(io=!1,Co=0,25<=i)throw Error(T(301));i+=1,be=Ne=null,t.updateQueue=null,mi.current=Jg,e=n(r,o)}while(io)}if(mi.current=Fi,t=Ne!==null&&Ne.next!==null,Hn=0,be=Ne=he=null,Mi=!1,t)throw Error(T(300));return e}function Ha(){var e=Co!==0;return Co=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?he.memoizedState=be=e:be=be.next=e,be}function Pt(){if(Ne===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=be===null?he.memoizedState:be.next;if(t!==null)be=t,Ne=e;else{if(e===null)throw Error(T(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},be===null?he.memoizedState=be=e:be=be.next=e}return be}function No(e,t){return typeof t=="function"?t(e):t}function $s(e){var t=Pt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Ne,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=s=null,c=null,d=i;do{var g=d.lane;if((Hn&g)===g)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,s=r):c=c.next=m,he.lanes|=g,Gn|=g}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=u,Ft(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,he.lanes|=i,Gn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ks(e){var t=Pt(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ft(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Yf(){}function Zf(e,t){var n=he,r=Pt(),o=t(),i=!Ft(r.memoizedState,o);if(i&&(r.memoizedState=o,ot=!0),r=r.queue,Ga(ep.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Po(9,qf.bind(null,n,r,o,t),void 0,null),ze===null)throw Error(T(349));Hn&30||Jf(n,t,o)}return o}function Jf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qf(e,t,n,r){t.value=n,t.getSnapshot=r,tp(t)&&np(e)}function ep(e,t,n){return n(function(){tp(t)&&np(e)})}function tp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ft(e,n)}catch{return!0}}function np(e){var t=nn(e,1);t!==null&&Mt(t,e,1,-1)}function Tc(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=Qg.bind(null,he,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rp(){return Pt().memoizedState}function hi(e,t,n,r){var o=$t();he.flags|=e,o.memoizedState=Po(1|t,n,void 0,r===void 0?null:r)}function ls(e,t,n,r){var o=Pt();r=r===void 0?null:r;var i=void 0;if(Ne!==null){var s=Ne.memoizedState;if(i=s.destroy,r!==null&&Wa(r,s.deps)){o.memoizedState=Po(t,n,i,r);return}}he.flags|=e,o.memoizedState=Po(1|t,n,i,r)}function Ic(e,t){return hi(8390656,8,e,t)}function Ga(e,t){return ls(2048,8,e,t)}function op(e,t){return ls(4,2,e,t)}function ip(e,t){return ls(4,4,e,t)}function sp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lp(e,t,n){return n=n!=null?n.concat([e]):null,ls(4,4,sp.bind(null,t,e),n)}function Xa(){}function ap(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function up(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cp(e,t,n){return Hn&21?(Ft(n,t)||(n=hf(),he.lanes|=n,Gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function Gg(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=Bs.transition;Bs.transition={};try{e(!1),t()}finally{ne=n,Bs.transition=r}}function dp(){return Pt().memoizedState}function Xg(e,t,n){var r=An(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fp(e))pp(t,n);else if(n=Gf(e,t,n,r),n!==null){var o=Ye();Mt(n,e,r,o),mp(n,t,r)}}function Qg(e,t,n){var r=An(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fp(e))pp(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,n);if(o.hasEagerState=!0,o.eagerState=u,Ft(u,s)){var c=t.interleaved;c===null?(o.next=o,Fa(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Gf(e,t,o,r),n!==null&&(o=Ye(),Mt(n,e,r,o),mp(n,t,r))}}function fp(e){var t=e.alternate;return e===he||t!==null&&t===he}function pp(e,t){io=Mi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ta(e,n)}}var Fi={readContext:Nt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Yg={readContext:Nt,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:Ic,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hi(4194308,4,sp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hi(4194308,4,e,t)},useInsertionEffect:function(e,t){return hi(4,2,e,t)},useMemo:function(e,t){var n=$t();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$t();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xg.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:Tc,useDebugValue:Xa,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=Tc(!1),t=e[0];return e=Gg.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,o=$t();if(fe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),ze===null)throw Error(T(349));Hn&30||Jf(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Ic(ep.bind(null,r,i,e),[e]),r.flags|=2048,Po(9,qf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=$t(),t=ze.identifierPrefix;if(fe){var n=Jt,r=Zt;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zg={readContext:Nt,useCallback:ap,useContext:Nt,useEffect:Ga,useImperativeHandle:lp,useInsertionEffect:op,useLayoutEffect:ip,useMemo:up,useReducer:$s,useRef:rp,useState:function(){return $s(No)},useDebugValue:Xa,useDeferredValue:function(e){var t=Pt();return cp(t,Ne.memoizedState,e)},useTransition:function(){var e=$s(No)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Yf,useSyncExternalStore:Zf,useId:dp,unstable_isNewReconciler:!1},Jg={readContext:Nt,useCallback:ap,useContext:Nt,useEffect:Ga,useImperativeHandle:lp,useInsertionEffect:op,useLayoutEffect:ip,useMemo:up,useReducer:Ks,useRef:rp,useState:function(){return Ks(No)},useDebugValue:Xa,useDeferredValue:function(e){var t=Pt();return Ne===null?t.memoizedState=e:cp(t,Ne.memoizedState,e)},useTransition:function(){var e=Ks(No)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Yf,useSyncExternalStore:Zf,useId:dp,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ml(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return(e=e._reactInternals)?Zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),o=An(e),i=qt(r,o);i.payload=t,n!=null&&(i.callback=n),t=En(e,i,o),t!==null&&(Mt(t,e,o,r),pi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),o=An(e),i=qt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=En(e,i,o),t!==null&&(Mt(t,e,o,r),pi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=An(e),o=qt(n,r);o.tag=2,t!=null&&(o.callback=t),t=En(e,o,r),t!==null&&(Mt(t,e,r,n),pi(t,e,r))}};function _c(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Eo(n,r)||!Eo(o,i):!0}function hp(e,t,n){var r=!1,o=_n,i=t.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(o=lt(t)?Wn:Ge.current,r=t.contextTypes,i=(r=r!=null)?Cr(e,o):_n),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function Fl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ua(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Nt(i):(i=lt(t)?Wn:Ge.current,o.context=Cr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ml(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&as.enqueueReplaceState(o,o.state,null),bi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,t){try{var n="",r=t;do n+=Ih(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Ws(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ul(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qg=typeof WeakMap=="function"?WeakMap:Map;function gp(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bi||(Bi=!0,Yl=r),Ul(e,t)},n}function yp(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ul(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ul(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Nc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qg;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=py.bind(null,e,t,n),t.then(e,e))}function Pc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,En(n,t,1))),n.lanes|=1),e)}var ey=sn.ReactCurrentOwner,ot=!1;function Xe(e,t,n,r){t.child=e===null?Hf(t,null,n,r):Pr(t,e.child,n,r)}function Rc(e,t,n,r,o){n=n.render;var i=t.ref;return kr(t,o),r=Va(e,t,n,r,i,o),n=Ha(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rn(e,t,o)):(fe&&n&&Oa(t),t.flags|=1,Xe(e,t,r,o),t.child)}function Oc(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!nu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vp(e,t,i,r,o)):(e=Si(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Eo,n(s,r)&&e.ref===t.ref)return rn(e,t,o)}return t.flags|=1,e=Tn(i,r),e.ref=t.ref,e.return=t,t.child=e}function vp(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Eo(i,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,rn(e,t,o)}return Bl(e,t,n,r,o)}function Sp(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(hr,pt),pt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(hr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,le(hr,pt),pt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,le(hr,pt),pt|=r;return Xe(e,t,o,n),t.child}function xp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bl(e,t,n,r,o){var i=lt(n)?Wn:Ge.current;return i=Cr(t,i),kr(t,o),n=Va(e,t,n,r,i,o),r=Ha(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rn(e,t,o)):(fe&&r&&Oa(t),t.flags|=1,Xe(e,t,n,o),t.child)}function Lc(e,t,n,r,o){if(lt(n)){var i=!0;ji(t)}else i=!1;if(kr(t,o),t.stateNode===null)gi(e,t),hp(t,n,r),Fl(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nt(d):(d=lt(n)?Wn:Ge.current,d=Cr(t,d));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==d)&&Cc(t,s,r,d),cn=!1;var h=t.memoizedState;s.state=h,bi(t,r,s,o),c=t.memoizedState,u!==r||h!==c||st.current||cn?(typeof g=="function"&&(Ml(t,n,g,r),c=t.memoizedState),(u=cn||_c(t,n,u,r,h,c,d))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Xf(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Ot(t.type,u),s.props=d,m=t.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=lt(n)?Wn:Ge.current,c=Cr(t,c));var v=n.getDerivedStateFromProps;(g=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||h!==c)&&Cc(t,s,r,c),cn=!1,h=t.memoizedState,s.state=h,bi(t,r,s,o);var k=t.memoizedState;u!==m||h!==k||st.current||cn?(typeof v=="function"&&(Ml(t,n,v,r),k=t.memoizedState),(d=cn||_c(t,n,d,r,h,k,c)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),s.props=r,s.state=k,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return $l(e,t,n,r,i,o)}function $l(e,t,n,r,o,i){xp(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Sc(t,n,!1),rn(e,t,i);r=t.stateNode,ey.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Pr(t,e.child,null,i),t.child=Pr(t,null,u,i)):Xe(e,t,u,i),t.memoizedState=r.state,o&&Sc(t,n,!0),t.child}function wp(e){var t=e.stateNode;t.pendingContext?vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vc(e,t.context,!1),Ba(e,t.containerInfo)}function Dc(e,t,n,r,o){return Nr(),Da(o),t.flags|=256,Xe(e,t,n,r),t.child}var Kl={dehydrated:null,treeContext:null,retryLane:0};function Wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ep(e,t,n){var r=t.pendingProps,o=me.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),le(me,o&1),e===null)return bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ds(s,r,0,null),e=$n(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Wl(n),t.memoizedState=Kl,e):Qa(t,s));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return ty(e,t,s,r,u,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,u=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Tn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=Tn(u,i):(i=$n(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Wl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Kl,r}return i=e.child,e=i.sibling,r=Tn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qa(e,t){return t=ds({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ei(e,t,n,r){return r!==null&&Da(r),Pr(t,e.child,null,n),e=Qa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ty(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Ws(Error(T(422))),ei(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ds({mode:"visible",children:r.children},o,0,null),i=$n(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pr(t,e.child,null,s),t.child.memoizedState=Wl(s),t.memoizedState=Kl,i);if(!(t.mode&1))return ei(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(T(419)),r=Ws(i,r,void 0),ei(e,t,s,r)}if(u=(s&e.childLanes)!==0,ot||u){if(r=ze,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,nn(e,o),Mt(r,e,o,-1))}return tu(),r=Ws(Error(T(421))),ei(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=my.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ht=wn(o.nextSibling),gt=t,fe=!0,bt=null,e!==null&&(kt[At++]=Zt,kt[At++]=Jt,kt[At++]=Vn,Zt=e.id,Jt=e.overflow,Vn=t),t=Qa(t,r.children),t.flags|=4096,t)}function bc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zl(e.return,t,n)}function Vs(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function kp(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Xe(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bc(e,n,t);else if(e.tag===19)bc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(me,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&zi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Vs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&zi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Vs(t,!0,n,null,i);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=Tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ny(e,t,n){switch(t.tag){case 3:wp(t),Nr();break;case 5:Qf(t);break;case 1:lt(t.type)&&ji(t);break;case 4:Ba(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;le(Li,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?Ep(e,t,n):(le(me,me.current&1),e=rn(e,t,n),e!==null?e.sibling:null);le(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,Sp(e,t,n)}return rn(e,t,n)}var Ap,Vl,Tp,Ip;Ap=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vl=function(){};Tp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,zn(Ht.current);var i=null;switch(n){case"input":o=pl(e,o),r=pl(e,r),i=[];break;case"select":o=ge({},o,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":o=gl(e,o),r=gl(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ni)}vl(n,r);var s;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ho.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(u=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ho.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ue("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ip=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hr(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ry(e,t,n){var r=t.pendingProps;switch(La(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return lt(t.type)&&Pi(),Ke(t),null;case 3:return r=t.stateNode,jr(),ce(st),ce(Ge),Ka(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(ql(bt),bt=null))),Vl(e,t),Ke(t),null;case 5:$a(t);var o=zn(_o.current);if(n=t.type,e!==null&&t.stateNode!=null)Tp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Ke(t),null}if(e=zn(Ht.current),Jo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Kt]=t,r[To]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<qr.length;o++)ue(qr[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Vu(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":Gu(r,i),ue("invalid",r)}vl(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&Zo(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Zo(r.textContent,u,e),o=["children",""+u]):ho.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":Ko(r),Hu(r,i,!0);break;case"textarea":Ko(r),Xu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ni)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Kt]=t,e[To]=r,Ap(e,t,!1,!1),t.stateNode=e;e:{switch(s=Sl(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<qr.length;o++)ue(qr[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":Vu(e,r),o=pl(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Gu(e,r),o=gl(e,r),ue("invalid",e);break;default:o=r}vl(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?nf(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ef(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&go(e,c):typeof c=="number"&&go(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ho.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",e):c!=null&&Sa(e,i,c,s))}switch(n){case"input":Ko(e),Hu(e,r,!1);break;case"textarea":Ko(e),Xu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+In(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Sr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ni)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)Ip(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=zn(_o.current),zn(Ht.current),Jo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kt]=t,(i=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Zo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=t,t.stateNode=r}return Ke(t),null;case 13:if(ce(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&ht!==null&&t.mode&1&&!(t.flags&128))Wf(),Nr(),t.flags|=98560,i=!1;else if(i=Jo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(T(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Kt]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else bt!==null&&(ql(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?je===0&&(je=3):tu())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return jr(),Vl(e,t),e===null&&ko(t.stateNode.containerInfo),Ke(t),null;case 10:return Ma(t.type._context),Ke(t),null;case 17:return lt(t.type)&&Pi(),Ke(t),null;case 19:if(ce(me),i=t.memoizedState,i===null)return Ke(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Hr(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zi(e),s!==null){for(t.flags|=128,Hr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Or&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304)}else{if(!r)if(e=zi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!fe)return Ke(t),null}else 2*Te()-i.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=me.current,le(me,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return eu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function oy(e,t){switch(La(t),t.tag){case 1:return lt(t.type)&&Pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),ce(st),ce(Ge),Ka(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $a(t),null;case 13:if(ce(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(me),null;case 4:return jr(),null;case 10:return Ma(t.type._context),null;case 22:case 23:return eu(),null;case 24:return null;default:return null}}var ti=!1,Ve=!1,iy=typeof WeakSet=="function"?WeakSet:Set,O=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Hl(e,t,n){try{n()}catch(r){Se(e,t,r)}}var zc=!1;function sy(e,t){if(Nl=Ii,e=jf(),Ra(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,g=0,m=e,h=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(u=s+o),m!==i||r!==0&&m.nodeType!==3||(c=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===n&&++d===o&&(u=s),h===i&&++g===r&&(c=s),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pl={focusedElem:e,selectionRange:n},Ii=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var E=k.memoizedProps,x=k.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?E:Ot(t.type,E),x);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(S){Se(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return k=zc,zc=!1,k}function so(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Hl(t,n,i)}o=o.next}while(o!==r)}}function us(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _p(e){var t=e.alternate;t!==null&&(e.alternate=null,_p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[To],delete t[Ol],delete t[$g],delete t[Kg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cp(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ni));else if(r!==4&&(e=e.child,e!==null))for(Xl(e,t,n),e=e.sibling;e!==null;)Xl(e,t,n),e=e.sibling}function Ql(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ql(e,t,n),e=e.sibling;e!==null;)Ql(e,t,n),e=e.sibling}var Fe=null,Dt=!1;function an(e,t,n){for(n=n.child;n!==null;)Np(e,t,n),n=n.sibling}function Np(e,t,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(ts,n)}catch{}switch(n.tag){case 5:Ve||mr(n,t);case 6:var r=Fe,o=Dt;Fe=null,an(e,t,n),Fe=r,Dt=o,Fe!==null&&(Dt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Dt?(e=Fe,n=n.stateNode,e.nodeType===8?Ms(e.parentNode,n):e.nodeType===1&&Ms(e,n),xo(e)):Ms(Fe,n.stateNode));break;case 4:r=Fe,o=Dt,Fe=n.stateNode.containerInfo,Dt=!0,an(e,t,n),Fe=r,Dt=o;break;case 0:case 11:case 14:case 15:if(!Ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Hl(n,t,s),o=o.next}while(o!==r)}an(e,t,n);break;case 1:if(!Ve&&(mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Se(n,t,u)}an(e,t,n);break;case 21:an(e,t,n);break;case 22:n.mode&1?(Ve=(r=Ve)||n.memoizedState!==null,an(e,t,n),Ve=r):an(e,t,n);break;default:an(e,t,n)}}function Fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new iy),t.forEach(function(r){var o=hy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Fe=u.stateNode,Dt=!1;break e;case 3:Fe=u.stateNode.containerInfo,Dt=!0;break e;case 4:Fe=u.stateNode.containerInfo,Dt=!0;break e}u=u.return}if(Fe===null)throw Error(T(160));Np(i,s,o),Fe=null,Dt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){Se(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pp(t,e),t=t.sibling}function Pp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Bt(e),r&4){try{so(3,e,e.return),us(3,e)}catch(E){Se(e,e.return,E)}try{so(5,e,e.return)}catch(E){Se(e,e.return,E)}}break;case 1:Rt(t,e),Bt(e),r&512&&n!==null&&mr(n,n.return);break;case 5:if(Rt(t,e),Bt(e),r&512&&n!==null&&mr(n,n.return),e.flags&32){var o=e.stateNode;try{go(o,"")}catch(E){Se(e,e.return,E)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Zd(o,i),Sl(u,s);var d=Sl(u,i);for(s=0;s<c.length;s+=2){var g=c[s],m=c[s+1];g==="style"?nf(o,m):g==="dangerouslySetInnerHTML"?ef(o,m):g==="children"?go(o,m):Sa(o,g,m,d)}switch(u){case"input":ml(o,i);break;case"textarea":Jd(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Sr(o,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Sr(o,!!i.multiple,i.defaultValue,!0):Sr(o,!!i.multiple,i.multiple?[]:"",!1))}o[To]=i}catch(E){Se(e,e.return,E)}}break;case 6:if(Rt(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error(T(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(E){Se(e,e.return,E)}}break;case 3:if(Rt(t,e),Bt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(E){Se(e,e.return,E)}break;case 4:Rt(t,e),Bt(e);break;case 13:Rt(t,e),Bt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ja=Te())),r&4&&Fc(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Ve=(d=Ve)||g,Rt(t,e),Ve=d):Rt(t,e),Bt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!g&&e.mode&1)for(O=e,g=e.child;g!==null;){for(m=O=g;O!==null;){switch(h=O,v=h.child,h.tag){case 0:case 11:case 14:case 15:so(4,h,h.return);break;case 1:mr(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(E){Se(r,n,E)}}break;case 5:mr(h,h.return);break;case 22:if(h.memoizedState!==null){Bc(m);continue}}v!==null?(v.return=h,O=v):Bc(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{o=m.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=tf("display",s))}catch(E){Se(e,e.return,E)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(E){Se(e,e.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Rt(t,e),Bt(e),r&4&&Fc(e);break;case 21:break;default:Rt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cp(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(go(o,""),r.flags&=-33);var i=Mc(e);Ql(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=Mc(e);Xl(e,u,s);break;default:throw Error(T(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ly(e,t,n){O=e,jp(e)}function jp(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var o=O,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||ti;if(!s){var u=o.alternate,c=u!==null&&u.memoizedState!==null||Ve;u=ti;var d=Ve;if(ti=s,(Ve=c)&&!d)for(O=o;O!==null;)s=O,c=s.child,s.tag===22&&s.memoizedState!==null?$c(o):c!==null?(c.return=s,O=c):$c(o);for(;i!==null;)O=i,jp(i),i=i.sibling;O=o,ti=u,Ve=d}Uc(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,O=i):Uc(e)}}function Uc(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||us(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ve)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ac(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ac(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&xo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Ve||t.flags&512&&Gl(t)}catch(h){Se(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Bc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function $c(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{us(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Se(t,o,c)}}var i=t.return;try{Gl(t)}catch(c){Se(t,i,c)}break;case 5:var s=t.return;try{Gl(t)}catch(c){Se(t,s,c)}}}catch(c){Se(t,t.return,c)}if(t===e){O=null;break}var u=t.sibling;if(u!==null){u.return=t.return,O=u;break}O=t.return}}var ay=Math.ceil,Ui=sn.ReactCurrentDispatcher,Ya=sn.ReactCurrentOwner,Ct=sn.ReactCurrentBatchConfig,q=0,ze=null,_e=null,Ue=0,pt=0,hr=Nn(0),je=0,jo=null,Gn=0,cs=0,Za=0,lo=null,rt=null,Ja=0,Or=1/0,Xt=null,Bi=!1,Yl=null,kn=null,ni=!1,hn=null,$i=0,ao=0,Zl=null,yi=-1,vi=0;function Ye(){return q&6?Te():yi!==-1?yi:yi=Te()}function An(e){return e.mode&1?q&2&&Ue!==0?Ue&-Ue:Vg.transition!==null?(vi===0&&(vi=hf()),vi):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Ef(e.type)),e):1}function Mt(e,t,n,r){if(50<ao)throw ao=0,Zl=null,Error(T(185));Do(e,n,r),(!(q&2)||e!==ze)&&(e===ze&&(!(q&2)&&(cs|=n),je===4&&fn(e,Ue)),at(e,r),n===1&&q===0&&!(t.mode&1)&&(Or=Te()+500,ss&&Pn()))}function at(e,t){var n=e.callbackNode;Vh(e,t);var r=Ti(e,e===ze?Ue:0);if(r===0)n!==null&&Zu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zu(n),t===1)e.tag===0?Wg(Kc.bind(null,e)):Bf(Kc.bind(null,e)),Ug(function(){!(q&6)&&Pn()}),n=null;else{switch(gf(r)){case 1:n=Aa;break;case 4:n=pf;break;case 16:n=Ai;break;case 536870912:n=mf;break;default:n=Ai}n=Fp(n,Rp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rp(e,t){if(yi=-1,vi=0,q&6)throw Error(T(327));var n=e.callbackNode;if(Ar()&&e.callbackNode!==n)return null;var r=Ti(e,e===ze?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ki(e,r);else{t=r;var o=q;q|=2;var i=Lp();(ze!==e||Ue!==t)&&(Xt=null,Or=Te()+500,Bn(e,t));do try{dy();break}catch(u){Op(e,u)}while(!0);za(),Ui.current=i,q=o,_e!==null?t=0:(ze=null,Ue=0,t=je)}if(t!==0){if(t===2&&(o=Al(e),o!==0&&(r=o,t=Jl(e,o))),t===1)throw n=jo,Bn(e,0),fn(e,r),at(e,Te()),n;if(t===6)fn(e,r);else{if(o=e.current.alternate,!(r&30)&&!uy(o)&&(t=Ki(e,r),t===2&&(i=Al(e),i!==0&&(r=i,t=Jl(e,i))),t===1))throw n=jo,Bn(e,0),fn(e,r),at(e,Te()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:Ln(e,rt,Xt);break;case 3:if(fn(e,r),(r&130023424)===r&&(t=Ja+500-Te(),10<t)){if(Ti(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Rl(Ln.bind(null,e,rt,Xt),t);break}Ln(e,rt,Xt);break;case 4:if(fn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-zt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ay(r/1960))-r,10<r){e.timeoutHandle=Rl(Ln.bind(null,e,rt,Xt),r);break}Ln(e,rt,Xt);break;case 5:Ln(e,rt,Xt);break;default:throw Error(T(329))}}}return at(e,Te()),e.callbackNode===n?Rp.bind(null,e):null}function Jl(e,t){var n=lo;return e.current.memoizedState.isDehydrated&&(Bn(e,t).flags|=256),e=Ki(e,t),e!==2&&(t=rt,rt=n,t!==null&&ql(t)),e}function ql(e){rt===null?rt=e:rt.push.apply(rt,e)}function uy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ft(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~Za,t&=~cs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Kc(e){if(q&6)throw Error(T(327));Ar();var t=Ti(e,0);if(!(t&1))return at(e,Te()),null;var n=Ki(e,t);if(e.tag!==0&&n===2){var r=Al(e);r!==0&&(t=r,n=Jl(e,r))}if(n===1)throw n=jo,Bn(e,0),fn(e,t),at(e,Te()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,rt,Xt),at(e,Te()),null}function qa(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(Or=Te()+500,ss&&Pn())}}function Xn(e){hn!==null&&hn.tag===0&&!(q&6)&&Ar();var t=q;q|=1;var n=Ct.transition,r=ne;try{if(Ct.transition=null,ne=1,e)return e()}finally{ne=r,Ct.transition=n,q=t,!(q&6)&&Pn()}}function eu(){pt=hr.current,ce(hr)}function Bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fg(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(La(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pi();break;case 3:jr(),ce(st),ce(Ge),Ka();break;case 5:$a(r);break;case 4:jr();break;case 13:ce(me);break;case 19:ce(me);break;case 10:Ma(r.type._context);break;case 22:case 23:eu()}n=n.return}if(ze=e,_e=e=Tn(e.current,null),Ue=pt=t,je=0,jo=null,Za=cs=Gn=0,rt=lo=null,bn!==null){for(t=0;t<bn.length;t++)if(n=bn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}bn=null}return e}function Op(e,t){do{var n=_e;try{if(za(),mi.current=Fi,Mi){for(var r=he.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Mi=!1}if(Hn=0,be=Ne=he=null,io=!1,Co=0,Ya.current=null,n===null||n.return===null){je=1,jo=t,_e=null;break}e:{var i=e,s=n.return,u=n,c=t;if(t=Ue,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,g=u,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var h=g.alternate;h?(g.updateQueue=h.updateQueue,g.memoizedState=h.memoizedState,g.lanes=h.lanes):(g.updateQueue=null,g.memoizedState=null)}var v=Pc(s);if(v!==null){v.flags&=-257,jc(v,s,u,i,t),v.mode&1&&Nc(i,d,t),t=v,c=d;var k=t.updateQueue;if(k===null){var E=new Set;E.add(c),t.updateQueue=E}else k.add(c);break e}else{if(!(t&1)){Nc(i,d,t),tu();break e}c=Error(T(426))}}else if(fe&&u.mode&1){var x=Pc(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jc(x,s,u,i,t),Da(Rr(c,u));break e}}i=c=Rr(c,u),je!==4&&(je=2),lo===null?lo=[i]:lo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=gp(i,c,t);kc(i,p);break e;case 1:u=c;var f=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(kn===null||!kn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=yp(i,u,t);kc(i,S);break e}}i=i.return}while(i!==null)}bp(n)}catch(I){t=I,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function Lp(){var e=Ui.current;return Ui.current=Fi,e===null?Fi:e}function tu(){(je===0||je===3||je===2)&&(je=4),ze===null||!(Gn&268435455)&&!(cs&268435455)||fn(ze,Ue)}function Ki(e,t){var n=q;q|=2;var r=Lp();(ze!==e||Ue!==t)&&(Xt=null,Bn(e,t));do try{cy();break}catch(o){Op(e,o)}while(!0);if(za(),q=n,Ui.current=r,_e!==null)throw Error(T(261));return ze=null,Ue=0,je}function cy(){for(;_e!==null;)Dp(_e)}function dy(){for(;_e!==null&&!bh();)Dp(_e)}function Dp(e){var t=Mp(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?bp(e):_e=t,Ya.current=null}function bp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=oy(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,_e=null;return}}else if(n=ry(n,t,pt),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);je===0&&(je=5)}function Ln(e,t,n){var r=ne,o=Ct.transition;try{Ct.transition=null,ne=1,fy(e,t,n,r)}finally{Ct.transition=o,ne=r}return null}function fy(e,t,n,r){do Ar();while(hn!==null);if(q&6)throw Error(T(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Hh(e,i),e===ze&&(_e=ze=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ni||(ni=!0,Fp(Ai,function(){return Ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var s=ne;ne=1;var u=q;q|=4,Ya.current=null,sy(e,n),Pp(n,e),Rg(Pl),Ii=!!Nl,Pl=Nl=null,e.current=n,ly(n),zh(),q=u,ne=s,Ct.transition=i}else e.current=n;if(ni&&(ni=!1,hn=e,$i=o),i=e.pendingLanes,i===0&&(kn=null),Uh(n.stateNode),at(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Bi)throw Bi=!1,e=Yl,Yl=null,e;return $i&1&&e.tag!==0&&Ar(),i=e.pendingLanes,i&1?e===Zl?ao++:(ao=0,Zl=e):ao=0,Pn(),null}function Ar(){if(hn!==null){var e=gf($i),t=Ct.transition,n=ne;try{if(Ct.transition=null,ne=16>e?16:e,hn===null)var r=!1;else{if(e=hn,hn=null,$i=0,q&6)throw Error(T(331));var o=q;for(q|=4,O=e.current;O!==null;){var i=O,s=i.child;if(O.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(O=d;O!==null;){var g=O;switch(g.tag){case 0:case 11:case 15:so(8,g,i)}var m=g.child;if(m!==null)m.return=g,O=m;else for(;O!==null;){g=O;var h=g.sibling,v=g.return;if(_p(g),g===d){O=null;break}if(h!==null){h.return=v,O=h;break}O=v}}}var k=i.alternate;if(k!==null){var E=k.child;if(E!==null){k.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}O=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,O=s;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:so(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,O=p;break e}O=i.return}}var f=e.current;for(O=f;O!==null;){s=O;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,O=y;else e:for(s=f;O!==null;){if(u=O,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:us(9,u)}}catch(I){Se(u,u.return,I)}if(u===s){O=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,O=S;break e}O=u.return}}if(q=o,Pn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(ts,e)}catch{}r=!0}return r}finally{ne=n,Ct.transition=t}}return!1}function Wc(e,t,n){t=Rr(n,t),t=gp(e,t,1),e=En(e,t,1),t=Ye(),e!==null&&(Do(e,1,t),at(e,t))}function Se(e,t,n){if(e.tag===3)Wc(e,e,n);else for(;t!==null;){if(t.tag===3){Wc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=Rr(n,e),e=yp(t,e,1),t=En(t,e,1),e=Ye(),t!==null&&(Do(t,1,e),at(t,e));break}}t=t.return}}function py(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ue&n)===n&&(je===4||je===3&&(Ue&130023424)===Ue&&500>Te()-Ja?Bn(e,0):Za|=n),at(e,t)}function zp(e,t){t===0&&(e.mode&1?(t=Ho,Ho<<=1,!(Ho&130023424)&&(Ho=4194304)):t=1);var n=Ye();e=nn(e,t),e!==null&&(Do(e,t,n),at(e,n))}function my(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zp(e,n)}function hy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),zp(e,n)}var Mp;Mp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,ny(e,t,n);ot=!!(e.flags&131072)}else ot=!1,fe&&t.flags&1048576&&$f(t,Oi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gi(e,t),e=t.pendingProps;var o=Cr(t,Ge.current);kr(t,n),o=Va(null,t,r,e,o,n);var i=Ha();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(i=!0,ji(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ua(t),o.updater=as,t.stateNode=o,o._reactInternals=t,Fl(t,r,e,n),t=$l(null,t,r,!0,i,n)):(t.tag=0,fe&&i&&Oa(t),Xe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=yy(r),e=Ot(r,e),o){case 0:t=Bl(null,t,r,e,n);break e;case 1:t=Lc(null,t,r,e,n);break e;case 11:t=Rc(null,t,r,e,n);break e;case 14:t=Oc(null,t,r,Ot(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ot(r,o),Bl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ot(r,o),Lc(e,t,r,o,n);case 3:e:{if(wp(t),e===null)throw Error(T(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Xf(e,t),bi(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Rr(Error(T(423)),t),t=Dc(e,t,r,n,o);break e}else if(r!==o){o=Rr(Error(T(424)),t),t=Dc(e,t,r,n,o);break e}else for(ht=wn(t.stateNode.containerInfo.firstChild),gt=t,fe=!0,bt=null,n=Hf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===o){t=rn(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return Qf(t),e===null&&bl(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,jl(r,o)?s=null:i!==null&&jl(r,i)&&(t.flags|=32),xp(e,t),Xe(e,t,s,n),t.child;case 6:return e===null&&bl(t),null;case 13:return Ep(e,t,n);case 4:return Ba(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ot(r,o),Rc(e,t,r,o,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,le(Li,r._currentValue),r._currentValue=s,i!==null)if(Ft(i.value,s)){if(i.children===o.children&&!st.current){t=rn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=qt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?c.next=c:(c.next=g.next,g.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),zl(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(T(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),zl(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Xe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,kr(t,n),o=Nt(o),r=r(o),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,o=Ot(r,t.pendingProps),o=Ot(r.type,o),Oc(e,t,r,o,n);case 15:return vp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ot(r,o),gi(e,t),t.tag=1,lt(r)?(e=!0,ji(t)):e=!1,kr(t,n),hp(t,r,o),Fl(t,r,o,n),$l(null,t,r,!0,e,n);case 19:return kp(e,t,n);case 22:return Sp(e,t,n)}throw Error(T(156,t.tag))};function Fp(e,t){return ff(e,t)}function gy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new gy(e,t,n,r)}function nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yy(e){if(typeof e=="function")return nu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wa)return 11;if(e===Ea)return 14}return 2}function Tn(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Si(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")nu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ir:return $n(n.children,o,i,t);case xa:s=8,o|=8;break;case ul:return e=It(12,n,t,o|2),e.elementType=ul,e.lanes=i,e;case cl:return e=It(13,n,t,o),e.elementType=cl,e.lanes=i,e;case dl:return e=It(19,n,t,o),e.elementType=dl,e.lanes=i,e;case Xd:return ds(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hd:s=10;break e;case Gd:s=9;break e;case wa:s=11;break e;case Ea:s=14;break e;case un:s=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=It(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function $n(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function ds(e,t,n,r){return e=It(22,e,r,t),e.elementType=Xd,e.lanes=n,e.stateNode={isHidden:!1},e}function Hs(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Gs(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vy(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_s(0),this.expirationTimes=_s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ru(e,t,n,r,o,i,s,u,c){return e=new vy(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=It(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ua(i),e}function Sy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Up(e){if(!e)return _n;e=e._reactInternals;e:{if(Zn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(lt(n))return Uf(e,n,t)}return t}function Bp(e,t,n,r,o,i,s,u,c){return e=ru(n,r,!0,e,o,i,s,u,c),e.context=Up(null),n=e.current,r=Ye(),o=An(n),i=qt(r,o),i.callback=t??null,En(n,i,o),e.current.lanes=o,Do(e,o,r),at(e,r),e}function fs(e,t,n,r){var o=t.current,i=Ye(),s=An(o);return n=Up(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=En(o,t,s),e!==null&&(Mt(e,o,s,i),pi(e,o,s)),s}function Wi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ou(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}function xy(){return null}var $p=typeof reportError=="function"?reportError:function(e){console.error(e)};function iu(e){this._internalRoot=e}ps.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));fs(e,t,null,null)};ps.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){fs(null,e,null,null)}),t[tn]=null}};function ps(e){this._internalRoot=e}ps.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dn.length&&t!==0&&t<dn[n].priority;n++);dn.splice(n,0,e),n===0&&wf(e)}};function su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ms(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hc(){}function wy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=Wi(s);i.call(d)}}var s=Bp(t,r,e,0,null,!1,!1,"",Hc);return e._reactRootContainer=s,e[tn]=s.current,ko(e.nodeType===8?e.parentNode:e),Xn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var d=Wi(c);u.call(d)}}var c=ru(e,0,!1,null,null,!1,!1,"",Hc);return e._reactRootContainer=c,e[tn]=c.current,ko(e.nodeType===8?e.parentNode:e),Xn(function(){fs(t,c,n,r)}),c}function hs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var u=o;o=function(){var c=Wi(s);u.call(c)}}fs(t,s,e,o)}else s=wy(n,t,e,o,r);return Wi(s)}yf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&(Ta(t,n|1),at(t,Te()),!(q&6)&&(Or=Te()+500,Pn()))}break;case 13:Xn(function(){var r=nn(e,1);if(r!==null){var o=Ye();Mt(r,e,1,o)}}),ou(e,1)}};Ia=function(e){if(e.tag===13){var t=nn(e,134217728);if(t!==null){var n=Ye();Mt(t,e,134217728,n)}ou(e,134217728)}};vf=function(e){if(e.tag===13){var t=An(e),n=nn(e,t);if(n!==null){var r=Ye();Mt(n,e,t,r)}ou(e,t)}};Sf=function(){return ne};xf=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};wl=function(e,t,n){switch(t){case"input":if(ml(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=is(r);if(!o)throw Error(T(90));Yd(r),ml(r,o)}}}break;case"textarea":Jd(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};sf=qa;lf=Xn;var Ey={usingClientEntryPoint:!1,Events:[zo,ur,is,rf,of,qa]},Gr={findFiberByHostInstance:Dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ky={bundleType:Gr.bundleType,version:Gr.version,rendererPackageName:Gr.rendererPackageName,rendererConfig:Gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cf(e),e===null?null:e.stateNode},findFiberByHostInstance:Gr.findFiberByHostInstance||xy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{ts=ri.inject(ky),Vt=ri}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ey;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!su(t))throw Error(T(200));return Sy(e,t,null,n)};vt.createRoot=function(e,t){if(!su(e))throw Error(T(299));var n=!1,r="",o=$p;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ru(e,1,!1,null,null,n,!1,r,o),e[tn]=t.current,ko(e.nodeType===8?e.parentNode:e),new iu(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=cf(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return Xn(e)};vt.hydrate=function(e,t,n){if(!ms(t))throw Error(T(200));return hs(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!su(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=$p;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Bp(t,null,e,1,n??null,o,!1,i,s),e[tn]=t.current,ko(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ps(t)};vt.render=function(e,t,n){if(!ms(t))throw Error(T(200));return hs(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!ms(e))throw Error(T(40));return e._reactRootContainer?(Xn(function(){hs(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1};vt.unstable_batchedUpdates=qa;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ms(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return hs(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function Kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kp)}catch(e){console.error(e)}}Kp(),$d.exports=vt;var Ay=$d.exports,Wp,Gc=Ay;Wp=Gc.createRoot,Gc.hydrateRoot;const Ty="modulepreload",Iy=function(e){return"/"+e},Xc={},Vp=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=Iy(c),c in Xc)return;Xc[c]=!0;const d=c.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Ty,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((h,v)=>{m.addEventListener("load",h),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return o.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},a={bg:"#05070A",border:"#213043",muted:"#32435A",accent:"#39DDB6",text:"#EAF1F8",dim:"#8FA0B5",danger:"#FF5D7A",dLow:"#311520",warn:"#F7B267",wLow:"#322515",ok:"#39DDB6",purple:"#8F7BFF"},D={fontFamily:"'IBM Plex Mono','SFMono-Regular',Menlo,Monaco,monospace"},Tt=(e,t=4)=>parseFloat(e||0).toFixed(t),Fo=e=>e?`${e.slice(0,18)}...${e.slice(-6)}`:"",_y=/^[qpzry9x8gf2tvdw0s3jn54khce6mua7l]+$/i,Hp=["kaspa","kaspatest","kaspadev","kaspasim"],Ro=(e,t=Hp)=>{const n=String(e||"").trim().toLowerCase(),r=n.indexOf(":");if(r<=0||r===n.length-1)return!1;const o=n.slice(0,r),i=n.slice(r+1);return!t.map(s=>s.toLowerCase()).includes(o)||i.length<61||i.length>63?!1:_y.test(i)},Cy=(e,t=Hp)=>{const n=String(e||"").trim();if(!Ro(n,t))throw new Error(`Invalid Kaspa address for allowed prefixes: ${t.join(", ")}`);const r=n.toLowerCase(),o=r.indexOf(":"),i=r.slice(0,o),s=r.slice(o+1);return`${i}:${s}`},Ny=e=>{const t=String(e||"").toLowerCase();return t==="mainnet"?"kaspa":t.startsWith("testnet")?"kaspatest":t.startsWith("devnet")?"kaspadev":t.startsWith("simnet")?"kaspasim":"kaspa"},uo=(e,t)=>{const n=Cy(e),r=n.indexOf(":"),o=n.slice(r+1);return`${Ny(t)}:${o}`},Py={USD:1,EUR:.92,GBP:.79,JPY:150,CAD:1.36};function jy(e,t){const n=Py[t];return e*n}function Ry(e,t){const n=jy(e,t),r=2;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:r,minimumFractionDigits:r}).format(n)}const ye={agents:"forgeos.session.agents.v2",activeAgent:"forgeos.session.activeAgent.v2",walletMeta:"forgeos.wallet.meta.v2",network:"forgeos.network",lastProvider:"forgeos.wallet.lastProvider.mainnet",autoLockMinutes:"forgeos.autolock.minutes.v1",persistUnlockSession:"forgeos.unlock.persist-session.v1",displayCurrency:"forgeos.display.currency.v1",hidePortfolioBalances:"forgeos.privacy.hide-balances.v1",kaspaRpcProviderPresetMap:"forgeos.kaspa.rpc-provider.v1",customKaspaRpcMap:"forgeos.kaspa.custom-rpc.v1"},Oy=1,Ly=24*60,Qc=-1,ea="official";function Gp(e){if(e===Qc)return Qc;if(typeof e!="number"||!Number.isFinite(e))return 15;const t=Math.floor(e);return Math.min(Ly,Math.max(Oy,t))}function qe(){return typeof chrome<"u"&&chrome.storage?chrome.storage.local:null}function Xp(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"&&n.protocol!=="http:"?null:t.replace(/\/+$/,"")}catch{return null}}function Dy(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();if(!o)continue;const i=Xp(r);i&&(t[o]=i)}return t}function Qp(e){return e==="igra"?"igra":e==="kasplex"?"kasplex":e==="custom"?"custom":ea}function by(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();o&&(t[o]=Qp(r))}return t}async function zy(){const e=qe();return e?new Promise(t=>{e.get(ye.agents,n=>{try{const r=n[ye.agents];if(!r)return t([]);const o=typeof r=="string"?JSON.parse(r):r;t(Array.isArray(o)?o:[])}catch{t([])}})}):[]}async function Yc(){const e=qe();return e?new Promise(t=>{e.get(ye.walletMeta,n=>{try{const r=n[ye.walletMeta];if(!r)return t(null);const o=typeof r=="string"?JSON.parse(r):r;t(o!=null&&o.address?o:null)}catch{t(null)}})}):null}async function ta(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.walletMeta]:JSON.stringify(e)},n)})}async function lu(){const e=qe();return e?new Promise(t=>{e.get(ye.network,n=>t(n[ye.network]||"mainnet"))}):"mainnet"}async function My(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.network]:e},n)})}async function Fy(){const e=qe();return e?new Promise(t=>{e.get(ye.autoLockMinutes,n=>{t(Gp(n[ye.autoLockMinutes]))})}):15}async function Uy(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.autoLockMinutes]:Gp(e)},n)})}async function By(){const e=qe();return e?new Promise(t=>{e.get(ye.persistUnlockSession,n=>{t(n[ye.persistUnlockSession]===!0)})}):!1}async function $y(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.persistUnlockSession]:e===!0},n)})}async function Ky(){const e=qe();return e?new Promise(t=>{e.get(ye.hidePortfolioBalances,n=>{t(n[ye.hidePortfolioBalances]===!0)})}):!1}async function Wy(e){const t=qe();if(t)return new Promise(n=>{t.set({[ye.hidePortfolioBalances]:e===!0},n)})}async function Yp(){const e=qe();return e?new Promise(t=>{e.get(ye.kaspaRpcProviderPresetMap,n=>{try{const r=n[ye.kaspaRpcProviderPresetMap],o=typeof r=="string"?JSON.parse(r):r;t(by(o))}catch{t({})}})}):{}}async function Zp(e){const t=String(e||"").trim();return t?(await Yp())[t]??ea:ea}async function Xs(e,t){const n=qe();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await Yp();return o[r]=Qp(t),new Promise(i=>{n.set({[ye.kaspaRpcProviderPresetMap]:JSON.stringify(o)},i)})}async function Jp(){const e=qe();return e?new Promise(t=>{e.get(ye.customKaspaRpcMap,n=>{try{const r=n[ye.customKaspaRpcMap],o=typeof r=="string"?JSON.parse(r):r;t(Dy(o))}catch{t({})}})}):{}}async function qp(e){const t=String(e||"").trim();return t?(await Jp())[t]??null:null}async function Zc(e,t){const n=qe();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await Jp();if(t===null||t.trim()==="")delete o[r];else{const i=Xp(t);if(!i)throw new Error("INVALID_RPC_ENDPOINT");o[r]=i}return new Promise(i=>{n.set({[ye.customKaspaRpcMap]:JSON.stringify(o)},i)})}const oi={mainnet:["https://api.kaspa.org"],"testnet-10":["https://api-tn10.kaspa.org"],"testnet-11":["https://api-tn11.kaspa.org"],"testnet-12":["https://api-tn12.kaspa.org"]};function _t(e,t){var o,i;const n=(i=(o=import.meta)==null?void 0:o.env)==null?void 0:i[e];if(typeof n!="string"||!n.trim())return t;const r=n.split(/[,\s]+/).map(s=>s.trim()).filter(Boolean).filter((s,u,c)=>c.indexOf(s)===u);return r.length?r:t}const gn={mainnet:_t("VITE_KASPA_MAINNET_API_ENDPOINTS",oi.mainnet),"testnet-10":_t("VITE_KASPA_TN10_API_ENDPOINTS",oi["testnet-10"]),"testnet-11":_t("VITE_KASPA_TN11_API_ENDPOINTS",oi["testnet-11"]),"testnet-12":_t("VITE_KASPA_TN12_API_ENDPOINTS",oi["testnet-12"])},Vy={mainnet:_t("VITE_KASPA_IGRA_MAINNET_API_ENDPOINTS",[]),"testnet-10":_t("VITE_KASPA_IGRA_TN10_API_ENDPOINTS",[]),"testnet-11":_t("VITE_KASPA_IGRA_TN11_API_ENDPOINTS",[]),"testnet-12":_t("VITE_KASPA_IGRA_TN12_API_ENDPOINTS",[])},Hy={mainnet:_t("VITE_KASPA_KASPLEX_MAINNET_API_ENDPOINTS",[]),"testnet-10":_t("VITE_KASPA_KASPLEX_TN10_API_ENDPOINTS",[]),"testnet-11":_t("VITE_KASPA_KASPLEX_TN11_API_ENDPOINTS",[]),"testnet-12":_t("VITE_KASPA_KASPLEX_TN12_API_ENDPOINTS",[])};gn.mainnet[0],gn["testnet-10"][0],gn["testnet-11"][0],gn["testnet-12"][0];const Gy=12e3,Xy=2,Qy=600;function em(e){return e===408||e===429||e>=500}const Yy=4,Zy=3e4,co={},Qs={};function Oo(e){return Qs[e]||(Qs[e]={lastOkAt:0,lastFailAt:0,consecutiveFails:0,lastLatencyMs:0,lastStatus:0,lastError:""}),Qs[e]}function Jy(e,t,n=200){const r=Oo(e);r.lastOkAt=Date.now(),r.consecutiveFails=0,r.lastLatencyMs=t,r.lastStatus=n,r.lastError=""}function Jc(e,t,n=0){const r=Oo(e);r.lastFailAt=Date.now(),r.consecutiveFails+=1,r.lastStatus=n,r.lastError=t}function Vi(e){co[e]||(co[e]={state:"closed",failures:0,openAt:0});const t=co[e];return t.state==="open"&&Date.now()-t.openAt>Zy&&(t.state="half-open"),t}function qy(e){const t=co[e];t&&(t.failures=0,t.state="closed")}function e0(e){const t=co[e];t&&(t.failures++,t.failures>=Yy&&(t.state="open",t.openAt=Date.now()))}function t0(e){const t=n=>(gn[n]??gn.mainnet).map(o=>{const i=Vi(o),s=Oo(o);return{base:o,circuit:i.state,failures:i.failures,lastOkAt:s.lastOkAt,lastFailAt:s.lastFailAt,consecutiveFails:s.consecutiveFails,lastLatencyMs:s.lastLatencyMs,lastStatus:s.lastStatus,lastError:s.lastError}});return e?t(e):{mainnet:t("mainnet"),"testnet-10":t("testnet-10"),"testnet-11":t("testnet-11"),"testnet-12":t("testnet-12")}}function Ys(e){return[...e].sort((n,r)=>{const o=Vi(n),i=Vi(r);if(o.state==="open"&&i.state!=="open")return 1;if(i.state==="open"&&o.state!=="open")return-1;const s=Oo(n),u=Oo(r);return s.lastOkAt!==u.lastOkAt?u.lastOkAt-s.lastOkAt:s.consecutiveFails!==u.consecutiveFails?s.consecutiveFails-u.consecutiveFails:0})}function n0(e,t){const n=gn[e]??gn.mainnet;if(t==="igra"){const r=Vy[e]??[];return r.length?r:n}if(t==="kasplex"){const r=Hy[e]??[];return r.length?r:n}return n}async function r0(e){let t="official";try{t=await Zp(e)}catch{t="official"}const n=[...n0(e,t)];if(t!=="custom")return Ys(n);let r=null;try{r=await qp(e)}catch{r=null}if(r){const o=n.filter(i=>i!==r);return Ys([r,...o])}return Ys(n)}async function o0(e,t,n){if(Vi(e).state==="open")throw new yn(`Circuit open for ${e}  backing off`,503);let o=null;for(let i=0;i<=Xy;i++){i>0&&await new Promise(d=>setTimeout(d,Qy*2**(i-1)));const s=new AbortController,u=setTimeout(()=>s.abort(),Gy),c=Date.now();try{const d=await fetch(`${e}${t}`,{...n,signal:s.signal});if(clearTimeout(u),!d.ok){const m=await d.text().catch(()=>"");throw Jc(e,`HTTP ${d.status}`,d.status),new yn(`HTTP ${d.status}: ${m.slice(0,120)}`,d.status)}const g=await d.json();return qy(e),Jy(e,Date.now()-c,d.status),g}catch(d){if(clearTimeout(u),d instanceof yn&&!em(d.status))throw d;const g=d instanceof Error?d.message:String(d);Jc(e,g),o=d instanceof Error?d:new Error(String(d))}}throw e0(e),o??new yn("Unknown API error",0)}async function Jn(e,t,n){const r=await r0(e);let o=null;for(const i of r)try{return await o0(i,t,n)}catch(s){if(s instanceof yn&&!em(s.status))throw s;o=s instanceof Error?s:new Error(String(s))}throw o??new yn("Unknown API error",0)}class yn extends Error{constructor(t,n){super(t),this.status=n,this.name="KaspaApiError"}}const i0={mainnet:10,"testnet-10":10,"testnet-11":32,"testnet-12":10};async function s0(e,t="mainnet"){return Jn(t,`/addresses/${encodeURIComponent(e)}/utxos`)}async function l0(e,t="mainnet"){const n=await Jn(t,`/addresses/${encodeURIComponent(e)}/balance`);return BigInt((n==null?void 0:n.balance)??0)}async function a0(e="mainnet"){try{const t=await Jn(e,"/info/price?stringOnly=false");return(t==null?void 0:t.price)??0}catch{return 0}}async function u0(e="mainnet"){var t;try{const n=await Jn(e,"/info/fee-estimate");return((t=n==null?void 0:n.priorityBucket)==null?void 0:t.feerate)??1}catch{return 1}}async function na(e,t,n="mainnet"){const r=await u0(n),o=239+142*e+51*t;return BigInt(Math.max(Math.ceil(o*r),1e3))}async function c0(e,t="mainnet"){const n=await Jn(t,"/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=(n==null?void 0:n.transactionId)??(n==null?void 0:n.txid)??"";if(!r)throw new yn("Broadcast succeeded but no txId returned",200);return r}async function tm(e,t="mainnet"){try{return await Jn(t,`/transactions/${e}`)}catch(n){if(n instanceof yn&&n.status===404)return null;throw n}}async function d0(e="mainnet"){try{return await Jn(e,"/info/blockdag")}catch{return null}}async function f0(e,t="mainnet"){const n=await l0(e,t);return Number(n)/1e8}async function p0(e="mainnet"){return a0(e)}const Qe=Object.freeze({path:"m/44'/111'",account:0,chain:0,index:0}),au=Object.freeze(["m/44'/111'","m/44'/972'"]);function qc(e,t){const n=typeof e=="number"?e:Number(e);return!Number.isFinite(n)||n<0?t:Math.floor(n)}function m0(e){const t=String(e??"").trim();return t?t.startsWith("m")?t:`m/${t}`:Qe.path}function it(e){return{path:m0(e==null?void 0:e.path),account:qc(e==null?void 0:e.account,Qe.account),chain:(e==null?void 0:e.chain)===1?1:0,index:qc(e==null?void 0:e.index,Qe.index)}}function Lt(e){const t=it(e);return`${t.path}/${t.account}'/${t.chain}/${t.index}`}function uu(e){return e===1?"change":"receive"}function h0(e){const n=String(e||"").trim().match(/^(m(?:\/\d+'?)*)\/(\d+)'\s*\/([01])\s*\/(\d+)$/i);if(!n)throw new Error("Invalid derivation path. Expected format like m/44'/111'/0'/0/0");return it({path:n[1],account:Number(n[2]),chain:Number(n[3]),index:Number(n[4])})}const g0=6e5,y0=["encrypt","decrypt"];async function nm(e,t){const n=new TextEncoder,r=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:g0,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,y0)}function ed(e){return crypto.getRandomValues(new Uint8Array(e))}function Zs(e){if(e.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=parseInt(e.slice(n,n+2),16);return t}function Js(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}async function v0(e,t,n){const r=await crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}async function S0(e,t,n){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}const ra="forgeos.vault.v1",Hi="forgeos.vault.session-cache.v1",cu=-1,du=15;let ut=null;function rm(e){return!Number.isFinite(e)||e<=0?Number.POSITIVE_INFINITY:Date.now()+e*6e4}function x0(e){return Number.isFinite(e)?e:cu}function w0(e){return e===cu?Number.POSITIVE_INFINITY:typeof e!="number"||!Number.isFinite(e)?null:e}function Gi(e){try{if(!Number.isFinite(e)||e<=0){chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"});return}chrome.runtime.sendMessage({type:"SCHEDULE_AUTOLOCK",minutes:e})}catch{}}function on(){return ut?Date.now()>ut.autoLockAt?(gs(),Fr(),null):ut:null}function gs(){if(ut){try{ut.mnemonic=""}catch{}ut=null}}function fu(){return chrome.storage.local}function pu(){var t;return((t=chrome.storage)==null?void 0:t.session)??null}async function mu(){return new Promise(e=>{fu().get(ra,t=>{try{const n=t[ra];if(!n)return e(null);e(JSON.parse(n))}catch{e(null)}})})}async function E0(e){return new Promise(t=>{fu().set({[ra]:JSON.stringify(e)},t)})}async function hu(e){const t=pu();if(t)return new Promise(n=>{t.set({[Hi]:{version:1,mnemonic:e.mnemonic,mnemonicPassphrase:e.mnemonicPassphrase,derivation:e.derivation,address:e.address,network:e.network,autoLockAt:x0(e.autoLockAt)}},n)})}async function Fr(){const e=pu();if(e)return new Promise(t=>{e.remove(Hi,t)})}async function k0(){const e=pu();return e?new Promise(t=>{e.get(Hi,n=>{const r=n==null?void 0:n[Hi];if(!r||typeof r!="object"){t(null);return}const o=w0(r.autoLockAt);if(o===null){t(null);return}const i=typeof r.mnemonic=="string"?r.mnemonic:"",s=typeof r.address=="string"?r.address:"",u=typeof r.network=="string"?r.network:"";if(!i||!s||!u){t(null);return}t({mnemonic:i,mnemonicPassphrase:typeof r.mnemonicPassphrase=="string"?r.mnemonicPassphrase:void 0,derivation:it(r.derivation??Qe),address:s,network:u,autoLockAt:o})})}):null}async function om(){return await mu()!==null}async function Xi(e,t,n,r,o={}){var v;const i=ed(32),s=ed(12),u=await nm(t,i),c=it(o.derivation??Qe),d={version:1,mnemonic:e,mnemonicPassphrase:o.mnemonicPassphrase||void 0,derivation:c,address:n,network:r,derivationPath:`${c.path}/${c.account}'`,addressIndex:c.index},g=new TextEncoder().encode(JSON.stringify(d)),m=await v0(u,s,g),h={version:1,kdf:"pbkdf2",salt:Js(i),iterations:6e5,hash:"SHA-256",iv:Js(s),ciphertext:Js(m),createdAt:((v=await mu())==null?void 0:v.createdAt)??Date.now(),updatedAt:Date.now()};await E0(h)}async function Qn(e,t=du,n={}){const r=await mu();if(!r)throw new Error("NO_VAULT");const o=Zs(r.salt),i=Zs(r.iv),s=Zs(r.ciphertext),u=await nm(e,o);let c;try{c=await S0(u,i,s)}catch{throw new Error("INVALID_PASSWORD")}const d=JSON.parse(new TextDecoder().decode(c));return ut={mnemonic:d.mnemonic,mnemonicPassphrase:typeof d.mnemonicPassphrase=="string"?d.mnemonicPassphrase:void 0,derivation:it(d.derivation??{path:"m/44'/111'",account:0,chain:0,index:typeof d.addressIndex=="number"?d.addressIndex:0}),address:d.address,network:d.network,autoLockAt:rm(t)},Gi(t),n.persistSession?await hu(ut):await Fr(),ut}async function im(){const e=await k0();if(!e)return null;if(Date.now()>e.autoLockAt)return await Fr(),null;if(ut=e,Number.isFinite(e.autoLockAt)){const t=Math.max(0,(e.autoLockAt-Date.now())/6e4);Gi(t)}else Gi(cu);return ut}async function sm(e){if(!e){await Fr();return}const t=on();t&&await hu(t)}function lm(){gs(),Fr();try{chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"})}catch{}}async function am(e,t){if(t.length<8)throw new Error("WEAK_PASSWORD");const n=await Qn(e);await Xi(n.mnemonic,t,n.address,n.network,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation}),gs(),await Qn(t)}async function um(){gs(),await Fr(),await new Promise(e=>fu().clear(e))}function xi(e=du,t={}){ut&&(ut.autoLockAt=rm(e),Gi(e),t.persistSession&&hu(ut))}const A0=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_AUTO_LOCK_MINUTES:du,changePassword:am,createVault:Xi,extendSession:xi,getSession:on,lockWallet:lm,resetWallet:um,restoreSessionFromCache:im,setSessionPersistence:sm,unlockVault:Qn,vaultExists:om},Symbol.toStringTag,{value:"Module"})),T0="/kaspa_wasm_bg.wasm";let ii=null,si=null;function I0(e){var t,n,r,o;return e!=null&&e.Mnemonic?e:(t=e==null?void 0:e.default)!=null&&t.Mnemonic?e.default:(n=e==null?void 0:e.k)!=null&&n.Mnemonic?e.k:(o=(r=e==null?void 0:e.k)==null?void 0:r.default)!=null&&o.Mnemonic?e.k.default:e}async function _0(){globalThis.__forgeosKaspaWasmBytes||(si||(si=(async()=>{const e=await fetch(T0);if(!e.ok)throw new Error(`WASM_FETCH_FAILED: ${e.status} ${e.statusText}`);const t=await e.arrayBuffer();globalThis.__forgeosKaspaWasmBytes=new Uint8Array(t)})().catch(e=>{throw si=null,e})),await si)}async function gu(){return ii||(ii=(async()=>{try{await _0();const e=await Vp(()=>import("../../kaspa_wasm.js").then(r=>r.k),[]),t=I0(e),n=t.default||t.init;if(typeof n=="function")try{await n()}catch{}return t}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`KASPA_WASM_INIT_FAILED: ${t}`)}})().catch(e=>{throw ii=null,e})),ii}const C0=new Set([12,15,18,21,24]),cm=gu;function yu(e){return e.trim().toLowerCase().split(/\s+/).join(" ")}function vu(e){const t=e.trim().split(/\s+/).filter(Boolean);if(!C0.has(t.length))throw new Error(`Seed phrase must be a valid BIP39 length (12/15/18/21/24 words; got ${t.length}).`)}async function Su(e,t){const n=await cm(),{Mnemonic:r,XPrv:o}=n,s=new r(e).toSeed(t.mnemonicPassphrase||void 0),u=new o(s);return{kaspa:n,masterXPrv:u}}function N0(e,t){try{return e.derivePath(t)}catch(n){if(t.startsWith("m/"))try{return e.derivePath(t.slice(2))}catch{}const r=n instanceof Error?n.message:String(n);throw new Error(`DERIVATION_PATH_INVALID: ${t} (${r})`)}}function xu(e,t){const n=it(t),{XPrivateKey:r}=e.kaspa,i=N0(e.masterXPrv,n.path).intoString("kprv"),s=new r(i,!1,BigInt(n.account));return{privKey:n.chain===1?s.changeKey(n.index):s.receiveKey(n.index),derivation:n}}function dm(e,t){return e.toKeypair().toAddress(t).toString()}async function fm(e,t,n={}){const r=await Su(e,n),{privKey:o,derivation:i}=xu(r,n.derivation);return{address:dm(o,t),derivation:i}}async function P0(e,t=24){const{Mnemonic:n}=await cm();let r;try{r=n.random(t)}catch{r=n.random()}const o=r.phrase,{address:i,derivation:s}=await fm(o,e,{derivation:Qe});return{phrase:o,address:i,network:e,derivation:s}}async function td(e,t,n={}){vu(e);const r=yu(e),o=n.mnemonicPassphrase||void 0,{address:i,derivation:s}=await fm(r,t,n);return{phrase:r,address:i,network:t,mnemonicPassphrase:o,derivation:s}}async function j0(e,t,n={}){var k,E;vu(e);const r=yu(e),o=((k=n.basePaths)!=null&&k.length?n.basePaths:[...au]).map(x=>String(x).trim()).filter(Boolean),[i,s]=n.accountRange??[0,4],[u,c]=n.indexRange??[0,9],d=((E=n.chains)!=null&&E.length?n.chains:[0,1]).filter(x=>x===0||x===1),g=Math.max(1,n.limit??60),m=await Su(r,n),h=[],v=new Set;e:for(let x=Math.max(0,i);x<=Math.max(i,s);x++)for(const p of d)for(let f=Math.max(0,u);f<=Math.max(u,c);f++)for(const y of o){const S=it({path:y,account:x,chain:p,index:f});try{const{privKey:I}=xu(m,S),_=dm(I,t),j=_.toLowerCase();if(v.has(j))continue;if(v.add(j),h.push({address:_,derivation:S,derivationPath:Lt(S),chainLabel:uu(S.chain)}),h.length>=g)break e}catch{}}return h}async function R0(e,t,n={}){var m;vu(e);const r=yu(e),o=await Su(r,n),{privKey:i}=xu(o,n.derivation),s=new TextEncoder().encode(t),{PrivateKey:u}=o.kaspa,c=i.toKeypair();let d;try{const h=c.privateKey??((m=c.toPrivateKey)==null?void 0:m.call(c));d=new u(h)}catch{d=i}const g=d.sign(s);return Array.from(g,h=>h.toString(16).padStart(2,"0")).join("")}const O0=3e4,wu=new Map;function L0(e){return String(e||"").trim().toLowerCase()}function D0(e,t){if(e!==0)return!1;const n=L0(t);return/^20[0-9a-f]{64}ac$/.test(n)}function b0(e,t){return D0(e,t)?"standard":"covenant"}function z0(e){const t=wu.get(e.toLowerCase());return!t||Date.now()-t.lastSyncAt>O0?null:t}function M0(e){wu.delete(e.toLowerCase())}function F0(e){const t=e.utxoEntry.scriptPublicKey.version,n=e.utxoEntry.scriptPublicKey.scriptPublicKey;return{txId:e.outpoint.transactionId,outputIndex:e.outpoint.index,address:e.address,amount:BigInt(e.utxoEntry.amount),scriptPublicKey:n,scriptVersion:t,scriptClass:b0(t,n),blockDaaScore:BigInt(e.utxoEntry.blockDaaScore),isCoinbase:e.utxoEntry.isCoinbase}}async function pm(e,t,n=new Set,r=0n){const i=(await s0(e,t)).map(F0),s=i.reduce((c,d)=>c+d.amount,0n),u={address:e.toLowerCase(),utxos:i,confirmedBalance:s,pendingOutbound:r,lastSyncAt:Date.now()};return wu.set(e.toLowerCase(),u),u}async function Eu(e,t,n,r){const o=z0(e);return o||pm(e,t,n,r)}function nd(e,t,n,r=new Set){const o=e.filter(d=>!r.has(`${d.txId}:${d.outputIndex}`)),i=o.filter(d=>(d.scriptClass??"standard")==="standard").sort((d,g)=>g.amount>d.amount?1:g.amount<d.amount?-1:0),s=t+n;let u=0n;const c=[];for(const d of i)if(c.push(d),u+=d.amount,u>=s)break;if(u<s)throw o.reduce((g,m)=>g+m.amount,0n)>=s?new Error("COVENANT_ONLY_FUNDS"):new Error("INSUFFICIENT_FUNDS");return{selected:c,total:u}}function Mn(e){return Number(e)/1e8}function U0(e){return BigInt(Math.floor(e*1e8))}const oa="forgeos.pending.txs.v1",B0=7*24*60*60*1e3;let Wt=[],rd=!1;function mm(e){return["CONFIRMED","FAILED","CANCELLED"].includes(e.state)}async function hm(){return new Promise(e=>{const t=Wt.map(W0);chrome.storage.local.set({[oa]:JSON.stringify(t)},e)})}async function ku(){return rd?Wt:(rd=!0,new Promise(e=>{chrome.storage.local.get(oa,t=>{try{const n=t[oa];if(!n){e([]);return}const r=JSON.parse(n).map(V0),o=Date.now()-B0;Wt=r.filter(i=>!(mm(i)&&i.builtAt<o))}catch{Wt=[]}e(Wt)})}))}async function gm(e){await ku(),Wt.push(e),await hm()}async function mt(e){await ku();const t=Wt.findIndex(n=>n.id===e.id);t>=0?Wt[t]=e:Wt.push(e),await hm()}async function $0(e){return await ku(),Wt.filter(t=>t.fromAddress.toLowerCase()===e.toLowerCase()&&!mm(t))}async function K0(e){const t=await $0(e),n=new Set;for(const r of t)for(const o of r.inputs)n.add(`${o.txId}:${o.outputIndex}`);return n}function W0(e){return{...e,fee:e.fee.toString(),changeOutput:e.changeOutput?{...e.changeOutput,amount:e.changeOutput.amount.toString()}:null,outputs:e.outputs.map(t=>({...t,amount:t.amount.toString()})),inputs:e.inputs.map(t=>({...t,amount:t.amount.toString(),blockDaaScore:t.blockDaaScore.toString()}))}}function V0(e){return{...e,fee:BigInt(e.fee),changeOutput:e.changeOutput?{...e.changeOutput,amount:BigInt(e.changeOutput.amount)}:null,outputs:e.outputs.map(t=>({...t,amount:BigInt(t.amount)})),inputs:e.inputs.map(t=>({...t,amount:BigInt(t.amount),blockDaaScore:BigInt(t.blockDaaScore),scriptClass:t.scriptClass==="covenant"?"covenant":"standard"}))}}var _d;const qs=((_d=import.meta)==null?void 0:_d.env)??{};function Au(e,t,n,r){const o=Number(qs==null?void 0:qs[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}const H0=Au("VITE_EXT_TX_FEE_SAFETY_BPS",11500,1e4,3e4),od=BigInt(Au("VITE_EXT_TX_FEE_MIN_SOMPI",1e3,1,1e9)),id=BigInt(Au("VITE_EXT_TX_FEE_MAX_SOMPI",2e8,1e3,5e9));function sd(e){const t=(e*BigInt(H0)+9999n)/10000n;return t<od?od:t>id?id:t}function G0(e){return null}const X0=gu;async function ym(e,t,n,r){const o=U0(n);if(o<=0n)throw new Error("AMOUNT_TOO_SMALL");const i=G0(),s=o+(i??0n),u=i?3:2,c=await K0(e),d=await Eu(e,r),g=sd(await na(1,u,r)),{selected:m,total:h}=nd(d.utxos,s,g,c),v=sd(await na(m.length,u,r));let k=m,E=h;if(h<s+v){const S=nd(d.utxos,s,v,c);k=S.selected,E=S.total}const x=E-s-v,p=[{address:t,amount:o}],f=x>0n?{address:e,amount:x}:null;return{id:crypto.randomUUID(),state:"BUILDING",fromAddress:e,network:r,inputs:k,outputs:p,changeOutput:f,fee:v,platformFee:i??void 0,builtAt:Date.now()}}async function Q0(e){const t=await X0(),n=t.UtxoEntry,r=e.inputs.map(d=>{const g={address:d.address,outpoint:{transactionId:d.txId,index:d.outputIndex},amount:d.amount,scriptPublicKey:{version:d.scriptVersion,scriptPublicKey:d.scriptPublicKey},blockDaaScore:d.blockDaaScore,isCoinbase:d.isCoinbase};if(n)try{return new n(g)}catch{return g}return g}),o=e.outputs.map(d=>({address:d.address,amount:d.amount})),i={entries:r,outputs:o,changeAddress:e.fromAddress,priorityFee:{sompi:e.fee},networkId:e.network},s=t.Generator;if(!s)throw new Error("WASM_GENERATOR_UNAVAILABLE: kaspa-wasm Generator class not found. Ensure kaspa-wasm  0.13.0 is installed.");const c=new s(i).next();if(!c)throw new Error("GENERATOR_EMPTY: Generator produced no transaction. Check UTXO availability.");return c}const Y0={mainnet:"kaspa:","testnet-10":"kaspatest:","testnet-11":"kaspatest:","testnet-12":"kaspatest:"};async function vm(e){var c,d;const t=[];let n;try{const g=e.inputs.filter(h=>(h.scriptClass??"standard")==="covenant");g.length>0&&t.push(`COVENANT_INPUT_UNSUPPORTED: ${g.length} covenant UTXO(s) require covenant-aware spend logic`),n=await Eu(e.fromAddress,e.network);const m=new Set(n.utxos.map(h=>`${h.txId}:${h.outputIndex}`));for(const h of e.inputs){const v=`${h.txId}:${h.outputIndex}`;m.has(v)||t.push(`UTXO_SPENT: input ${v} no longer available`)}}catch{t.push("UTXO_FETCH_FAILED: could not verify input availability")}let r;try{r=await na(e.inputs.length,e.outputs.length+(e.changeOutput?1:0),e.network),e.fee<r&&t.push(`FEE_TOO_LOW: estimated ${e.fee.toString()} sompi, network requires ${r.toString()} sompi`)}catch{r=e.fee}const o=e.inputs.reduce((g,m)=>g+m.amount,0n),i=e.outputs.reduce((g,m)=>g+m.amount,0n),s=((c=e.changeOutput)==null?void 0:c.amount)??0n;o!==i+s+e.fee&&t.push(`BALANCE_MISMATCH: inputs=${o} != outputs=${i} + change=${s} + fee=${e.fee}`);for(const g of e.outputs)Ro(g.address)||t.push(`INVALID_ADDRESS: "${g.address}" is not a valid Kaspa address`);e.changeOutput&&!Ro(e.changeOutput.address)&&t.push(`INVALID_CHANGE_ADDRESS: "${e.changeOutput.address}"`);const u=Y0[e.network];if(u){for(const g of e.outputs)g.address.toLowerCase().startsWith(u)||t.push(`NETWORK_MISMATCH: output address "${g.address}" does not match network "${e.network}"`);e.changeOutput&&!e.changeOutput.address.toLowerCase().startsWith(u)&&t.push(`NETWORK_MISMATCH: change address "${e.changeOutput.address}" does not match network "${e.network}"`)}return{valid:t.length===0,estimatedFee:r??e.fee,changeAmount:((d=e.changeOutput)==null?void 0:d.amount)??0n,errors:t}}const Z0=gu;async function Sm(e){const t=on();if(!t||!t.mnemonic)throw new Error("WALLET_LOCKED");const n=await Z0(),{Mnemonic:r,XPrv:o,XPrivateKey:i}=n;let s=null;try{const u=it(t.derivation??Qe),d=new r(t.mnemonic).toSeed(t.mnemonicPassphrase||void 0),g=new o(d);let m=g;try{m=g.derivePath(u.path)}catch(y){if(u.path.startsWith("m/"))m=g.derivePath(u.path.slice(2));else throw y}const h=m.intoString("kprv"),v=new i(h,!1,BigInt(u.account)),k=u.chain===1?v.changeKey(u.index):v.receiveKey(u.index),E=k.toKeypair();if(s=E.privateKey??(typeof E.toPrivateKey=="function"?E.toPrivateKey():null),!s){const y=n.PrivateKey,S=typeof k.toString=="function"?k.toString("hex"):null;y&&S&&(s=new y(S))}if(!s)throw new Error("PRIVKEY_UNAVAILABLE: Could not extract PrivateKey from keypair. Verify kaspa-wasm version compatibility.");const x=await Q0(e);await x.sign([s]);let p;typeof x.serializeToObject=="function"?p=JSON.stringify({transaction:x.serializeToObject()}):typeof x.toJSON=="function"?p=x.toJSON():p=JSON.stringify({transaction:x});const f=x.id;return{...e,state:"SIGNED",signedTxPayload:p,txId:f,signedAt:Date.now()}}catch(u){const c=u instanceof Error?u.message:String(u);throw new Error(`SIGN_FAILED: ${c}`)}finally{s=null}}const J0=1e3,q0=5*6e4;async function xm(e){if(e.txId)return console.info(`[broadcast] tx ${e.id} already has txId=${e.txId}; skipping re-broadcast`),{...e,state:"CONFIRMING"};if(!e.signedTxPayload)throw new Error("NOT_SIGNED");let t;try{t=JSON.parse(e.signedTxPayload)}catch{throw new Error("BROADCAST_FAILED: signedTxPayload is not valid JSON")}let n;try{n=await c0(t,e.network)}catch(o){const i=o instanceof Error?o.message:String(o),s={...e,state:"FAILED",error:`BROADCAST_FAILED: ${i}`};throw await mt(s),new Error(`BROADCAST_FAILED: ${i}`)}const r={...e,state:"BROADCASTING",txId:n,broadcastAt:Date.now(),signedTxPayload:void 0};return await mt(r),M0(e.fromAddress),{...r,state:"CONFIRMING"}}async function ev(e,t=()=>{}){if(!e.txId)throw new Error("NO_TXID: cannot poll without txId");const n=Date.now()+q0;let r={...e,state:"CONFIRMING"};for(;Date.now()<n;){await tv(J0);try{const o=await tm(e.txId,e.network);if(o!=null&&o.acceptingBlockHash)return r={...r,state:"CONFIRMED",confirmations:1,confirmedAt:Date.now(),signedTxPayload:void 0},await mt(r),t(r),r}catch{}}throw r={...r,state:"FAILED",error:"CONFIRM_TIMEOUT: transaction not confirmed within 5 minutes"},await mt(r),t(r),new Error(r.error)}function tv(e){return new Promise(t=>setTimeout(t,e))}async function nv(e,t){const n=await xm(e);return t(n),ev(n,t).catch(()=>{}),n}const ld=!1,rv=!1,wm={tokens:{KAS:{id:"KAS",symbol:"KAS",name:"Kaspa",decimals:8,assetId:null,enabled:!0,disabledReason:null},USDT:{id:"USDT",symbol:"USDT",name:"Tether USD",decimals:6,assetId:null,enabled:ld,disabledReason:"Temporarily disabled in this wallet build."},USDC:{id:"USDC",symbol:"USDC",name:"USD Coin",decimals:6,assetId:null,enabled:ld,disabledReason:"Temporarily disabled in this wallet build."},ZRX:{id:"ZRX",symbol:"0x",name:"0x Protocol",decimals:18,assetId:null,enabled:rv,disabledReason:"0x route is disabled in this wallet build."}}};function ad(e){var t;return((t=wm.tokens[e])==null?void 0:t.enabled)??!1}function ia(){return Object.values(wm.tokens)}const ov={default:a.border,accent:a.accent,warn:a.warn,danger:a.danger,purple:a.purple,success:a.ok},iv={default:"rgba(143,160,181,0.08)",accent:"rgba(57,221,182,0.12)",warn:"rgba(247,178,103,0.12)",danger:"rgba(255,93,122,0.12)",purple:"rgba(143,123,255,0.12)",success:"rgba(57,221,182,0.1)"},Fn={padding:"13px 15px 15px",display:"flex",flexDirection:"column",gap:11,minWidth:0};function Lr(){return{backgroundColor:a.bg,backgroundImage:["radial-gradient(120% 95% at 50% -8%, rgba(57,221,182,0.18) 0%, rgba(57,221,182,0.05) 40%, transparent 72%)","radial-gradient(88% 86% at 92% 100%, rgba(57,221,182,0.12) 0%, transparent 70%)","radial-gradient(80% 90% at 8% 88%, rgba(23,64,74,0.3) 0%, transparent 74%)","linear-gradient(165deg, #0b141f 0%, #070e16 52%, #05090f 100%)","repeating-linear-gradient(0deg, transparent 0px, transparent 31px, rgba(57,221,182,0.06) 32px)","repeating-linear-gradient(90deg, transparent 0px, transparent 31px, rgba(57,221,182,0.05) 32px)"].join(", "),backgroundSize:"auto, auto, auto, auto, 32px 32px, 32px 32px",backgroundPosition:"center, center, center, center, center, center"}}function Pe(e="default",t=!1){const n=ov[e],r=iv[e];return{background:"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)",border:`1px solid ${e==="default"?a.border:`${n}32`}`,borderRadius:12,padding:t?"10px 12px":"12px 14px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.04), 0 10px 22px rgba(0,0,0,0.22)",position:"relative",overflow:"hidden",minWidth:0,overflowWrap:"anywhere",backgroundImage:[`radial-gradient(circle at 100% 0%, ${r}, transparent 46%)`,"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)"].join(", ")}}function ke(){return{background:"linear-gradient(180deg, rgba(5,7,10,0.62), rgba(7,11,16,0.72))",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0,overflowWrap:"anywhere"}}const We={fontSize:8,color:a.dim,letterSpacing:"0.14em",fontWeight:700,...D},Kn={fontSize:10,color:a.text,fontWeight:700,letterSpacing:"0.08em",...D};function Em(e=1){return{height:1,background:`rgba(33,48,67,${.9*e})`}}function te(e=a.dim,t=!1){return{background:t?"linear-gradient(180deg, rgba(14,22,32,0.9), rgba(9,14,20,0.9))":"rgba(16,25,35,0.55)",border:`1px solid ${e===a.dim?a.border:`${e}40`}`,borderRadius:8,color:e,cursor:"pointer",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...D,boxShadow:t?"0 6px 14px rgba(0,0,0,0.18)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function Un(e=!0){return{background:e?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:"rgba(33,48,67,0.55)",color:e?"#04110E":a.dim,border:"none",borderRadius:8,cursor:e?"pointer":"not-allowed",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...D,boxShadow:e?"0 8px 18px rgba(57,221,182,0.16)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function km(e=!1){return{width:"100%",boxSizing:"border-box",background:"linear-gradient(180deg, rgba(8,13,20,0.82), rgba(9,14,21,0.9))",border:`1px solid ${e?a.danger:a.border}`,borderRadius:8,padding:"9px 11px",color:a.text,fontSize:10,...D,outline:"none",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0}}const ud={mainnet:"https://explorer.kaspa.org","testnet-10":"https://explorer-tn10.kaspa.org","testnet-11":"https://explorer-tn11.kaspa.org","testnet-12":"https://explorer-tn12.kaspa.org"};function sv({address:e,balance:t,usdPrice:n,network:r,hideBalances:o=!1,onOpenSwap:i,mode:s,onModeConsumed:u,onBalanceInvalidated:c}){const[d,g]=w.useState("idle"),[m,h]=w.useState(!1),[v,k]=w.useState(""),[E,x]=w.useState(""),[p,f]=w.useState(null),[y,S]=w.useState([]),[I,_]=w.useState(null),[j,C]=w.useState(null),[W,K]=w.useState(!1),[G,ve]=w.useState([]),[de,Ce]=w.useState(!1),[Re,Ie]=w.useState(null),[oe,N]=w.useState(null),[b,M]=w.useState(0);w.useEffect(()=>{s==="send"&&(g("form"),h(!1),u==null||u()),s==="receive"&&(h(!0),g("idle"),u==null||u())},[s]),w.useEffect(()=>{let R=!0;const $=async(ct=!1)=>{if(!e){if(!R)return;ve([]),Ie(null),N(null),Ce(!1);return}if(R){Ce(!0),ct&&Ie(null);try{const nt=ct?await pm(e,r):await Eu(e,r);if(!R)return;const jt=[...nt.utxos].sort((dt,qn)=>dt.amount===qn.amount?0:dt.amount>qn.amount?-1:1);ve(jt),N(Date.now()),Ie(null)}catch(nt){if(!R)return;Ie(nt instanceof Error?nt.message:"Failed to load UTXOs.")}finally{R&&Ce(!1)}}};$(!0).catch(()=>{});const pe=window.setInterval(()=>{$(!1).catch(()=>{})},25e3);return()=>{R=!1,clearInterval(pe)}},[e,r,b]);const X=on(),V=!!(X!=null&&X.mnemonic),U=r==="mainnet"?"kaspa:":"kaspatest:",re=Ro(v)&&v.toLowerCase().startsWith(U),J=parseFloat(E),Oe=J>0&&(t===null||J<=t),F=re&&Oe,ae=async()=>{if(!e||!F)return;g("building"),S([]),C(null);let R;try{R=await ym(e,v.trim(),J,r),await gm(R),f(R)}catch($){const pe=$ instanceof Error?$.message:String($);C(pe==="INSUFFICIENT_FUNDS"?"Insufficient balance including fees.":pe==="COVENANT_ONLY_FUNDS"?"Funds are currently locked in covenant outputs. Standard send only spends standard UTXOs.":`Build failed: ${pe}`),g("error");return}g("dry_run");try{const $=await vm(R);if(!$.valid){S($.errors),g("error"),await mt({...R,state:"DRY_RUN_FAIL",error:$.errors.join("; ")});return}const pe={...R,state:"DRY_RUN_OK",fee:$.estimatedFee};f(pe),await mt(pe)}catch($){C(`Validation failed: ${$ instanceof Error?$.message:String($)}`),g("error");return}g("confirm")},Le=async()=>{if(!p||!V)return;g("signing");let R;try{R=await Sm(p),f(R),await mt(R)}catch($){const pe=$ instanceof Error?$.message:String($);C(pe==="WALLET_LOCKED"?"Wallet locked  please unlock first.":`Signing failed: ${pe}`),g("error");return}g("broadcast");try{await nv(R,async $=>{f($),await mt($),$.state==="CONFIRMED"&&(_($.txId??null),g("done"),M(pe=>pe+1),c==null||c()),$.state==="FAILED"&&(C($.error??"Transaction failed."),g("error"))})}catch($){C($ instanceof Error?$.message:"Transaction timed out awaiting confirmation."),g("error")}},se=async()=>{p&&await mt({...p,state:"CANCELLED"}),xt()},xt=()=>{g("idle"),f(null),S([]),C(null),_(null)},wt=async()=>{if(e)try{await navigator.clipboard.writeText(e),K(!0),setTimeout(()=>K(!1),2e3)}catch{}},et=[...ia()].sort((R,$)=>R.id==="KAS"?-1:$.id==="KAS"?1:0),P={KAS:"../icons/kaspa-logo.png",USDT:"../icons/usdt.png",USDC:"../icons/usdc.png"},Q={KAS:t??0,USDT:0,USDC:0,ZRX:0},xe=ud[r]??ud.mainnet,Ut=e?`${xe}/addresses/${e}`:xe,jn=G.reduce((R,$)=>R+$.amount,0n),ln=Mn(jn),tt=G.length?Mn(G[0].amount):0,Gt=G.filter(R=>(R.scriptClass??"standard")==="covenant").length,B=G.length-Gt,A=oe?new Date(oe).toLocaleTimeString([],{hour12:!1}):"",z=R=>o?"":R,ee=(R,$)=>o?" KAS":`${Tt(R,$)} KAS`,we=(R,$)=>o?"$":`$${Tt(R,$)}`;return l.jsxs("div",{style:Fn,children:[l.jsxs("div",{style:{...Pe("purple"),background:"linear-gradient(165deg, rgba(10,18,28,0.96) 0%, rgba(7,13,22,0.93) 52%, rgba(5,10,18,0.94) 100%)",border:`1px solid ${a.accent}3A`,boxShadow:"inset 0 1px 0 rgba(255,255,255,0.06), 0 12px 26px rgba(0,0,0,0.28), 0 0 24px rgba(57,221,182,0.09)"},children:[l.jsx("div",{style:{position:"absolute",top:-32,right:-26,width:130,height:130,borderRadius:"50%",background:"radial-gradient(circle, rgba(57,221,182,0.26) 0%, rgba(57,221,182,0.05) 48%, transparent 75%)",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",backgroundImage:"repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(57,221,182,0.05) 24px), repeating-linear-gradient(90deg, transparent 0px, transparent 23px, rgba(57,221,182,0.04) 24px)",opacity:.45}}),l.jsx("div",{style:{marginBottom:11,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,position:"relative"},children:l.jsx("div",{style:We,children:"TOKEN BALANCES"})}),et.map((R,$)=>{const pe=P[R.id]??P.KAS,ct=R.id==="KAS",nt=ct?48:30,jt=ct?40:20,dt=Q[R.id]??0,qn=R.id==="KAS"?Tt(dt,4):Tt(dt,2),Ss=z(qn);return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(160deg, rgba(15,24,36,0.86), rgba(8,14,22,0.88))",border:`1px solid ${a.border}`,borderRadius:12,padding:"10px 11px",marginTop:$>0?8:0,opacity:ct||R.enabled?1:.58,position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:nt,height:nt,borderRadius:"50%",flexShrink:0,background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",border:"none",boxShadow:"none",overflow:"hidden"},children:l.jsx("img",{src:pe,alt:`${R.symbol} logo`,style:{width:jt,height:jt,objectFit:"contain",borderRadius:"50%",filter:"none"}})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,letterSpacing:"0.05em",...D},children:R.symbol}),l.jsx("div",{style:{fontSize:9,color:a.dim,letterSpacing:"0.03em"},children:R.name})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:18,fontWeight:700,color:a.text},children:Ss}),!R.enabled&&R.disabledReason&&l.jsx("div",{style:{fontSize:8,color:a.dim,maxWidth:140,lineHeight:1.35,marginTop:3},children:R.disabledReason})]})]},R.id)}),e&&l.jsx("div",{style:{marginTop:11,textAlign:"right",position:"relative",zIndex:1},children:l.jsx("button",{onClick:()=>chrome.tabs.create({url:Ut}),style:{...te(a.accent,!0),padding:"6px 9px",fontSize:9,color:a.accent},children:"EXPLORER "})})]}),l.jsxs("div",{style:Pe("default"),children:[l.jsxs("div",{style:{marginBottom:9,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsx("div",{style:We,children:"UTXO SET"}),l.jsx("button",{onClick:()=>M(R=>R+1),disabled:de,style:{...te(a.accent,!0),padding:"5px 8px",fontSize:8,color:a.accent},children:de?"SYNC":"REFRESH"})]}),l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:9},children:[l.jsxs("div",{style:{...ke(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"COUNT"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...D},children:G.length})]}),l.jsxs("div",{style:{...ke(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"TOTAL"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...D},children:ee(ln,4)})]}),l.jsxs("div",{style:{...ke(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"LARGEST"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...D},children:ee(tt,4)})]})]}),Gt>0&&l.jsxs("div",{style:{...ke(),fontSize:8,color:a.warn,padding:"8px 10px",marginBottom:8,lineHeight:1.45},children:["Covenant outputs detected: ",Gt,". Standard send currently uses spendable UTXOs only (",B," available)."]}),de&&G.length===0&&l.jsxs("div",{style:{...ke(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["Fetching UTXOs from ",r,""]}),!de&&G.length===0&&!Re&&l.jsxs("div",{style:{...ke(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["No UTXOs found for this wallet on ",r,"."]}),Re&&l.jsx("div",{style:{...ke(),fontSize:8,color:a.danger,padding:"9px 10px",marginBottom:G.length?8:0},children:Re}),G.length>0&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[G.slice(0,6).map((R,$)=>{const pe=Mn(R.amount);return l.jsx("div",{style:{...ke(),padding:"8px 9px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs("div",{style:{minWidth:0},children:[l.jsxs("div",{style:{fontSize:8,color:a.dim,...D,letterSpacing:"0.04em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["#",$+1," ",R.txId.slice(0,16),":",R.outputIndex]}),l.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:2},children:["DAA ",R.blockDaaScore.toString()," ",R.isCoinbase?" COINBASE":""," ",(R.scriptClass??"standard")==="covenant"?" COVENANT":""]})]}),l.jsx("div",{style:{fontSize:11,color:a.accent,fontWeight:700,...D},children:ee(pe,4)})]})},`${R.txId}:${R.outputIndex}`)}),G.length>6&&l.jsxs("div",{style:{fontSize:8,color:a.dim,textAlign:"right",paddingTop:1},children:["+",G.length-6," more UTXOs"]})]}),l.jsx("div",{style:{...Em(),margin:"9px 0 6px"}}),l.jsxs("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em",textAlign:"right"},children:["UPDATED ",A]})]}),d==="idle"&&!m&&e&&l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>g("form"),style:el(),children:"SEND"}),l.jsx("button",{onClick:()=>h(!0),style:el(),children:"RECEIVE"}),l.jsx("button",{onClick:()=>i?i():chrome.tabs.create({url:"https://forge-os.xyz"}),style:el(),children:"SWAP"})]}),d==="form"&&l.jsxs("div",{style:gr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Kn,children:"SEND KAS"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[t!==null&&l.jsxs("div",{style:{fontSize:8,color:a.dim},children:["Bal: ",ee(t,2),n>0?`  ${we(t*n,2)}`:""]}),l.jsx("button",{onClick:()=>g("idle"),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:""})]})]}),!V&&l.jsx("div",{style:{...ke(),fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.4},children:"External wallet: signing opens in Forge-OS."}),l.jsx("input",{value:v,onChange:R=>k(R.target.value),placeholder:`Recipient ${U}qp`,style:cd(!!(v&&!re))}),v&&!re&&l.jsx("div",{style:{fontSize:8,color:a.danger},children:v.toLowerCase().startsWith(U)?"Invalid Kaspa address":`Must start with "${U}" on ${r}`}),l.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[l.jsx("input",{value:E,onChange:R=>x(R.target.value),placeholder:"Amount (KAS)",type:"number",min:"0",style:{...cd(!1),paddingRight:48}}),t!==null&&t>0&&l.jsx("button",{onClick:()=>{const R=Math.max(0,t-.01);x(R>0?String(parseFloat(R.toFixed(4))):"")},style:{position:"absolute",right:6,background:`${a.accent}20`,border:`1px solid ${a.accent}50`,borderRadius:4,padding:"2px 6px",color:a.accent,fontSize:8,fontWeight:700,cursor:"pointer",...D,letterSpacing:"0.06em"},children:"MAX"})]}),J>0&&n>0&&l.jsxs("div",{style:{fontSize:8,color:a.dim},children:[" ",we(J*n,2)]}),l.jsx("button",{onClick:V?ae:()=>chrome.tabs.create({url:`https://forge-os.xyz?send=1&to=${encodeURIComponent(v)}&amount=${encodeURIComponent(E)}`}),disabled:!F,style:tl(F),children:V?"PREVIEW SEND ":"OPEN IN FORGE-OS "})]}),(d==="building"||d==="dry_run")&&l.jsx(nl,{icon:"",title:d==="building"?"SELECTING INPUTS":"VALIDATING",sub:d==="building"?"Fetching UTXOs and estimating network fee.":"Running 5 security checks.",color:a.accent}),d==="confirm"&&p&&l.jsx(lv,{tx:p,usdPrice:n,onConfirm:Le,onCancel:se}),d==="signing"&&l.jsx(nl,{icon:"",title:"SIGNING",sub:"Deriving key and signing inputs with kaspa-wasm.",color:a.warn}),d==="broadcast"&&l.jsx(nl,{icon:"",title:"BROADCASTING",sub:`Polling for confirmation. TxID: ${p!=null&&p.txId?p.txId.slice(0,20)+"":"pending"}`,color:a.accent}),d==="done"&&l.jsxs("div",{style:{...gr(),background:`${a.ok}0A`,borderColor:`${a.ok}30`},children:[l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700,marginBottom:6},children:" TRANSACTION CONFIRMED"}),I&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"Transaction ID"}),l.jsx("div",{style:{fontSize:8,color:a.text,wordBreak:"break-all",marginBottom:8},children:I}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`${xe}/txs/${I}`}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...D},children:"View on Explorer "})]}),l.jsx("button",{onClick:xt,style:{...tl(!0),marginTop:10,background:`${a.ok}20`,color:a.ok},children:"DONE"})]}),d==="error"&&l.jsxs("div",{style:{...gr(),background:a.dLow,borderColor:`${a.danger}40`},children:[l.jsx("div",{style:{fontSize:9,color:a.danger,fontWeight:700,marginBottom:6},children:"TRANSACTION FAILED"}),j&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:j}),y.map((R,$)=>l.jsxs("div",{style:{fontSize:8,color:a.danger,marginBottom:2},children:[" ",R]},$)),l.jsx("button",{onClick:xt,style:{...tl(!0),marginTop:8,background:a.dLow,border:`1px solid ${a.danger}50`,color:a.danger},children:"TRY AGAIN"})]}),m&&e&&l.jsxs("div",{style:gr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Kn,children:"RECEIVE KAS"}),l.jsx("button",{onClick:()=>h(!1),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:""})]}),l.jsx("div",{style:{...ke(),fontSize:8,color:a.dim,lineHeight:1.6,wordBreak:"break-all",marginBottom:6},children:e}),l.jsx("button",{onClick:wt,style:{...te(W?a.ok:a.dim,!0),padding:"7px 8px",color:W?a.ok:a.dim,width:"100%"},children:W?" COPIED":"COPY ADDRESS"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:4},children:"Send KAS to this address from any Kaspa wallet. Transactions confirm at BlockDAG speed."})]})]})}const gr=()=>({...Pe("default"),display:"flex",flexDirection:"column",gap:7}),cd=e=>({...km(e)}),el=e=>({...te(a.dim,!0),flex:1,padding:"8px 0",textTransform:"uppercase",letterSpacing:"0.1em"}),tl=e=>({...Un(e),padding:"9px",width:"100%"});function nl({icon:e,title:t,sub:n,color:r}){return l.jsxs("div",{style:{...gr(),textAlign:"center"},children:[l.jsx("div",{style:{fontSize:20},children:e}),l.jsx("div",{style:{fontSize:9,color:r,fontWeight:700,letterSpacing:"0.1em"},children:t}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:n})]})}function lv({tx:e,usdPrice:t,onConfirm:n,onCancel:r}){var m;const o=e.outputs[0],i=o?Mn(o.amount):0,s=Mn(e.fee),u=e.platformFee?Mn(e.platformFee):0,c=e.changeOutput?Mn(e.changeOutput.amount):0,d=i+s+u,g=(h,v,k=a.text,E)=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:5},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim},children:[h,E&&l.jsx("span",{style:{fontSize:8,color:a.muted,marginLeft:4},children:E})]}),l.jsx("span",{style:{fontSize:9,color:k,fontWeight:700},children:v})]});return l.jsxs("div",{style:{...gr(),borderColor:`${a.accent}30`},children:[l.jsx("div",{style:{...Kn,color:a.accent},children:"CONFIRM TRANSACTION"}),l.jsxs("div",{style:ke(),children:[g("TO",(m=e.outputs[0])!=null&&m.address?e.outputs[0].address.slice(0,22)+"":""),g("AMOUNT",`${Tt(i,4)} KAS${t>0?`  $${Tt(i*t,2)}`:""}`),g("NETWORK FEE",`${Tt(s,8)} KAS`,a.warn," miners"),u>0&&g("PLATFORM FEE",`${Tt(u,6)} KAS`,a.dim," treasury"),c>0&&g("CHANGE",`${Tt(c,4)} KAS`,a.dim),l.jsx("div",{style:{...Em(),margin:"6px 0"}}),g("TOTAL COST",`${Tt(d,4)} KAS`,a.accent)]}),l.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.5},children:" Kaspa transactions are irreversible once confirmed."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:r,style:{...te(a.dim,!0),flex:1,padding:"8px 0"},children:"CANCEL"}),l.jsx("button",{onClick:n,style:{...Un(!0),flex:2,padding:"8px 0"},children:"SIGN & SEND "})]})]})}function fo(e){return e&&typeof e=="object"?e:{}}function Qt(...e){for(const t of e)if(typeof t=="string"&&t.trim())return t.trim();return""}function dd(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.replace(/[$,\s]/g,""),n=Number(t);if(Number.isFinite(n))return n}return 0}function tr(e){if(typeof e=="number"&&Number.isFinite(e)&&e>0)return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t)&&t>0)return t}return 0}function av(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t.startsWith("kaspa:")?"mainnet":t.startsWith("kaspatest:")?"testnet":null}function po(e,t="unknown"){const n=String(e??"").trim().toLowerCase().replace(/_/g,"-");if(n.includes("mainnet")||n==="main"||n==="livenet")return"mainnet";if(n.includes("testnet-12")||n==="tn12")return"testnet-12";if(n.includes("testnet-11")||n==="tn11")return"testnet-11";if(n.includes("testnet-10")||n==="tn10")return"testnet-10";if(n==="testnet"||n.startsWith("tn")||n.startsWith("testnet"))return"testnet";if(n==="kaspa")return"mainnet";if(n==="kaspatest")return"testnet";const r=String(t??"").trim().toLowerCase().replace(/_/g,"-");return r==="mainnet"?"mainnet":r==="testnet-12"||r==="tn12"?"testnet-12":r==="testnet-10"||r==="tn10"?"testnet-10":r==="testnet-11"||r==="tn11"?"testnet-11":r.startsWith("testnet")||r.startsWith("tn")?"testnet":"unknown"}function uv(e,t){const n=fo(e.wallet),r=fo(e.deployTx),o=fo(e.meta),i=Qt(e.network,n.network,r.network,o.network);if(i)return po(i,"unknown");const s=Qt(n.address,e.address,r.from,r.to),u=av(s);return po(u||t,"unknown")}function cv(e){const t=e.toLowerCase();return t==="autonomous"||t==="auto"||t==="bot"}function dv(e){const t=e.toLowerCase();return t==="active"||t==="running"||t==="live"}function fv(e,t){const n=fo(e),r=fo(n.wallet),o=Date.now(),i=Qt(n.agentId,n.id,n.name)||`agent_${o}_${Math.random().toString(36).slice(2,8)}`,s=Qt(n.name,n.agentName)||"Agent",u=Qt(n.strategyLabel,n.strategy,n.strategyTemplate)||"",c=Qt(n.risk)||"",g=Qt(n.capitalLimit,n.capital_limit)||null,m=Qt(n.execMode,n.mode)||"manual",h=Qt(n.status)||"idle",v=uv(n,t),k=dd(n.pnlUsd)||dd(n.pnl),E=Math.max(tr(n.updatedAt),tr(n.lastActionTime),tr(n.lastDecisionTs),tr(n.lastSeenAt),tr(n.deployedAt),tr(r.updatedAt)),x=E>0&&o-E<=5*60*1e3,p=cv(m),f=dv(h)||p||x;return{id:i,name:s,strategy:u,risk:c,capitalLimitKas:g,execMode:m,status:h,isBot:p,isActive:f,pnlUsd:k,network:v,updatedAt:E,raw:n}}function pv(e,t){const n=[];for(const r of e){const o=fv(r,t);if(o&&n.push(o),n.length>=64)break}return n.sort((r,o)=>r.isActive!==o.isActive?r.isActive?-1:1:o.updatedAt-r.updatedAt),n}function mv(e,t,n){if(t==="all")return!0;if(t==="mainnet")return e==="mainnet";if(t==="testnet-12")return e==="testnet-12"||e==="testnet";if(t==="testnet-10")return e==="testnet-10"||e==="testnet";if(t==="testnet-11")return e==="testnet-11"||e==="testnet";const r=po(n,"unknown");return r==="mainnet"?e==="mainnet":r==="testnet-12"?e==="testnet-12"||e==="testnet":r==="testnet-10"?e==="testnet-10"||e==="testnet":r==="testnet-11"?e==="testnet-11"||e==="testnet":r==="testnet"?e==="testnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12":!0}function hv(e,t,n,r){return e.filter(o=>!(!mv(o.network,t,r)||n==="bots"&&!o.isBot||n==="manual"&&o.isBot))}function Am(e){return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet"?"TESTNET":"UNKNOWN"}const gv="forgeos.session.agents.v2";function rl(e,t){if(!e||e<=0)return"No recent heartbeat";const n=Math.max(0,t-e);return n<1e3?"just now":n<6e4?`${Math.floor(n/1e3)}s ago`:n<36e5?`${Math.floor(n/6e4)}m ago`:n<864e5?`${Math.floor(n/36e5)}h ago`:`${Math.floor(n/864e5)}d ago`}function fd(e,t){if(e==="current"){const n=po(t,"unknown");return`CURRENT (${Am(n)})`}return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":"ALL"}function pd(e){return e==="all"?"ALL MODES":e==="bots"?"BOTS":"MANUAL"}function yv({network:e}){const[t,n]=w.useState([]),[r,o]=w.useState(!0),[i,s]=w.useState("current"),[u,c]=w.useState("all"),[d,g]=w.useState(0),[m,h]=w.useState(Date.now()),v=w.useCallback(async()=>{const x=await zy();n(pv(x,e)),g(Date.now()),o(!1)},[e]);w.useEffect(()=>{v().catch(()=>o(!1))},[v]),w.useEffect(()=>{const x=setInterval(()=>{v().catch(()=>{}),h(Date.now())},5e3);return()=>clearInterval(x)},[v]),w.useEffect(()=>{const x=(p,f)=>{f==="local"&&gv in p&&v().catch(()=>{})};return chrome.storage.onChanged.addListener(x),()=>chrome.storage.onChanged.removeListener(x)},[v]),w.useEffect(()=>{const x=p=>{(p==null?void 0:p.type)==="FORGEOS_AGENTS_UPDATED"&&v().catch(()=>{})};return chrome.runtime.onMessage.addListener(x),()=>chrome.runtime.onMessage.removeListener(x)},[v]);const k=w.useMemo(()=>hv(t,i,u,e),[t,u,e,i]),E=w.useMemo(()=>{const x=k.length,p=k.filter(S=>S.isBot).length,f=k.filter(S=>S.isActive).length,y=k.reduce((S,I)=>S+I.pnlUsd,0);return{total:x,bots:p,active:f,pnlUsd:y}},[k]);return r?l.jsx("div",{style:{...Fn,paddingTop:20,fontSize:9,color:a.dim,textAlign:"center"},children:"Loading agents"}):k.length===0?l.jsxs("div",{style:{...Fn,gap:10},children:[l.jsxs("div",{style:Pe("default",!0),children:[l.jsx("div",{style:{...We,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET FILTERS"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(x=>{const p=x===i;return l.jsx("button",{onClick:()=>s(x),style:{...te(p?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:p?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:p?`${a.accent}55`:a.border},children:fd(x,e)},x)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(x=>{const p=x===u;return l.jsx("button",{onClick:()=>c(x),style:{...te(p?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:p?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:p?`${a.ok}55`:a.border},children:pd(x)},x)})})]}),l.jsxs("div",{style:{...Fn,...Pe("accent"),padding:"20px 18px",textAlign:"center",gap:14,alignItems:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}14`,border:`1px solid ${a.accent}35`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,boxShadow:"0 8px 18px rgba(57,221,182,0.12)"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{...Kn,fontSize:11,marginBottom:6},children:"No Agents In This Filter"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6,maxWidth:220},children:"Live refresh runs every 5 seconds. Switch filters or deploy a new bot on Forge-OS."}),l.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:7},children:["Last sync ",d>0?rl(d,m):"never"]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:10,padding:"10px 20px",color:"#04110E",fontSize:9,fontWeight:700,cursor:"pointer",...D,letterSpacing:"0.1em",boxShadow:"0 8px 18px rgba(57,221,182,0.16)"},children:"OPEN FORGE-OS "})]})]}):l.jsxs("div",{style:{...Fn,paddingTop:10,gap:8},children:[l.jsxs("div",{style:Pe("default",!0),children:[l.jsx("div",{style:{...We,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET OPTIONS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:6,marginBottom:8},children:[l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"VISIBLE"}),l.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:700},children:E.total})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"BOTS"}),l.jsx("div",{style:{fontSize:10,color:a.accent,fontWeight:700},children:E.bots})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"ACTIVE"}),l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700},children:E.active})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"P&L USD"}),l.jsxs("div",{style:{fontSize:10,color:E.pnlUsd>=0?a.ok:a.danger,fontWeight:700},children:[E.pnlUsd>=0?"+":"-","$",Tt(Math.abs(E.pnlUsd),2)]})]})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(x=>{const p=x===i;return l.jsx("button",{onClick:()=>s(x),style:{...te(p?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:p?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:p?`${a.accent}55`:a.border},children:fd(x,e)},x)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(x=>{const p=x===u;return l.jsx("button",{onClick:()=>c(x),style:{...te(p?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:p?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:p?`${a.ok}55`:a.border},children:pd(x)},x)})})]}),l.jsxs("div",{style:{...We,marginBottom:2},children:["LIVE UPDATE  LAST SYNC ",d>0?rl(d,m).toUpperCase():"NEVER"]}),k.map(x=>{const p=x.pnlUsd>=0,f=String(x.execMode||"manual").toUpperCase(),y=x.isActive?a.ok:a.warn;return l.jsxs("div",{style:{...Pe(x.isActive?"accent":"default",!0),borderColor:x.isActive?`${a.accent}40`:a.border,padding:"10px 12px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6,gap:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:0},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:y,flexShrink:0}}),l.jsx("span",{style:{fontSize:10,fontWeight:700,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:x.name})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,flexWrap:"wrap",justifyContent:"flex-end"},children:[l.jsx("span",{style:{fontSize:8,color:a.dim,...D,background:"rgba(16,25,35,0.65)",border:`1px solid ${a.border}`,borderRadius:3,padding:"2px 5px"},children:Am(x.network)}),l.jsx("span",{style:{fontSize:8,color:x.isBot?a.accent:a.dim,...D,background:x.isBot?`${a.accent}18`:"rgba(16,25,35,0.65)",border:`1px solid ${x.isBot?`${a.accent}50`:a.border}`,borderRadius:3,padding:"2px 5px"},children:x.isBot?"BOT":"MANUAL"}),l.jsx("span",{style:{fontSize:8,color:x.isActive?a.ok:a.warn,fontWeight:700,...D,background:x.isActive?`${a.ok}15`:`${a.warn}15`,border:`1px solid ${x.isActive?a.ok:a.warn}30`,borderRadius:3,padding:"2px 5px"},children:f})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"STRATEGY"}),l.jsx("div",{style:{fontSize:8,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:x.strategy})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"P&L (USD)"}),l.jsxs("div",{style:{fontSize:8,color:p?a.ok:a.danger,fontWeight:700},children:[p?"+":"","$",Tt(Math.abs(x.pnlUsd),2)]})]}),x.capitalLimitKas&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"CAPITAL"}),l.jsxs("div",{style:{fontSize:8,color:a.text},children:[x.capitalLimitKas," KAS"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"LAST HEARTBEAT"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:rl(x.updatedAt,m)})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"RISK"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:String(x.risk||"").toUpperCase()})]})]})]},x.id)}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{...te(a.dim,!0),padding:"8px 10px",marginTop:2},children:"MANAGE LIVE ON FORGE-OS "})]})}function vv({address:e,network:t,isManagedWallet:n,autoLockMinutes:r,persistUnlockSessionEnabled:o,onAutoLockMinutesChange:i,onPersistUnlockSessionChange:s,onLock:u}){const[c,d]=w.useState("none"),[g,m]=w.useState([]),[h,v]=w.useState(""),[k,E]=w.useState(null),[x,p]=w.useState(!1),[f,y]=w.useState(""),[S,I]=w.useState(""),[_,j]=w.useState(""),[C,W]=w.useState(null),[K,G]=w.useState(!1),[ve,de]=w.useState(!1),[Ce,Re]=w.useState(!1),[Ie,oe]=w.useState(!1),[N,b]=w.useState("official"),[M,X]=w.useState(""),[V,U]=w.useState(!1),[re,J]=w.useState(null),[Oe,F]=w.useState(!1),ae={official:"OFFICIAL",igra:"IGRA",kasplex:"KASPLEX",custom:"CUSTOM"},Le=n?"managed":e?"watch-only":"none",se=[{label:"1m",value:1},{label:"15m",value:15},{label:"1h",value:60},{label:"4h",value:240},{label:"Never",value:-1}];w.useEffect(()=>{let B=!0;return U(!0),J(null),F(!1),Promise.all([qp(t),Zp(t)]).then(([A,z])=>{B&&(X(A??""),b(z))}).catch(()=>{B&&J("Failed to load RPC settings.")}).finally(()=>{B&&U(!1)}),()=>{B=!1}},[t]);const xt=async B=>{B.preventDefault(),E(null),p(!0);try{const A=await Qn(h,r,{persistSession:o});m(A.mnemonic.split(" ")),v("")}catch(A){const z=A instanceof Error?A.message:String(A);E(z==="INVALID_PASSWORD"?"Incorrect password.":"Authentication failed."),v("")}finally{p(!1)}},wt=()=>{m([]),v(""),E(null),d("none")},et=async B=>{if(B.preventDefault(),W(null),S.length<8){W("New password must be at least 8 characters.");return}if(S!==_){W("New passwords do not match.");return}if(S===f){W("New password must differ from current password.");return}de(!0);try{await am(f,S),G(!0),y(""),I(""),j("")}catch(A){const z=A instanceof Error?A.message:String(A);W(z==="INVALID_PASSWORD"?"Current password is incorrect.":z==="WEAK_PASSWORD"?"New password is too short (min 8 chars).":"Failed to change password. Try again.")}finally{de(!1)}},P=async()=>{if(!Ce){Re(!0);return}await um(),u()},Q=(B=!1)=>({...km(B)}),xe=()=>{d("none"),m([]),v(""),E(null),y(""),I(""),j(""),W(null),G(!1),Re(!1)},Ut=async B=>{oe(!0);try{await i(B)}finally{oe(!1)}},jn=async()=>{oe(!0);try{await s(!o)}finally{oe(!1)}},ln=async B=>{U(!0),J(null),F(!1);try{await Xs(t,B),b(B),F(!0)}catch{J("Failed to save RPC provider preset.")}finally{U(!1)}},tt=async()=>{U(!0),J(null),F(!1);try{await Zc(t,M.trim()||null),await Xs(t,"custom"),b("custom"),F(!0),M.trim()||X("")}catch(B){const A=B instanceof Error?B.message:String(B);J(A==="INVALID_RPC_ENDPOINT"?"Invalid endpoint URL. Use http(s)://...":"Failed to save custom RPC endpoint.")}finally{U(!1)}},Gt=async()=>{U(!0),J(null),F(!1);try{await Zc(t,null),await Xs(t,"official"),b("official"),X(""),F(!0)}catch{J("Failed to clear custom RPC endpoint.")}finally{U(!1)}};return l.jsxs("div",{style:Fn,children:[l.jsxs("div",{style:Pe("default"),children:[l.jsx("div",{style:{...We,marginBottom:8},children:"CONNECTION STATUS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"PROVIDER"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[l.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:e?a.ok:a.warn}}),l.jsx("span",{style:{fontSize:9,color:a.text,fontWeight:700},children:Le.toUpperCase()})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"NETWORK"}),l.jsx("span",{style:{fontSize:8,color:t==="mainnet"?a.warn:a.ok,fontWeight:700,background:t==="mainnet"?`${a.warn}15`:`${a.ok}15`,border:`1px solid ${t==="mainnet"?a.warn:a.ok}30`,borderRadius:3,padding:"2px 6px"},children:t.toUpperCase()})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"ADDRESS"}),l.jsx("div",{style:{...ke(),fontSize:8,color:a.text,padding:"7px 9px"},children:Fo(e)})]})]})]}),l.jsxs("div",{style:Pe("default"),children:[l.jsx("div",{style:{...We,marginBottom:8},children:"KASPA RPC ENDPOINT"}),l.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:7},children:["Active network: ",l.jsx("span",{style:{color:a.text,fontWeight:700},children:t.toUpperCase()})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},children:Object.keys(ae).map(B=>{const A=N===B;return l.jsx("button",{onClick:()=>{ln(B)},disabled:V,style:{...te(A?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:A?a.accent:a.dim,opacity:V?.7:1},children:ae[B]},B)})}),l.jsx("input",{value:M,onChange:B=>{X(B.target.value),F(!1),J(null)},placeholder:t==="mainnet"?"https://your-mainnet-kaspa-rpc.example":"https://your-kaspa-rpc.example",disabled:V||N!=="custom",style:{...Q(!!re),marginBottom:7}}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>{tt()},disabled:V||N!=="custom",style:{...te(a.accent,!0),flex:1,padding:"7px 8px",color:a.accent,opacity:V?.7:1},children:V?"SAVING":"SAVE RPC"}),l.jsx("button",{onClick:()=>{Gt()},disabled:V,style:{...te(a.dim,!0),flex:1,padding:"7px 8px",color:a.dim,opacity:V?.7:1},children:"CLEAR"})]}),re&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:re}),!re&&Oe&&l.jsx("div",{style:{fontSize:8,color:a.ok,marginTop:6},children:"Saved RPC settings for this network."}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Presets are stored per network. Igra/Kasplex pools read from env (`VITE_KASPA_IGRA_*` / `VITE_KASPA_KASPLEX_*`) and fall back to Official if unset."})]}),n&&l.jsxs("div",{style:Pe("default"),children:[l.jsx("div",{style:{...We,marginBottom:8},children:"SESSION SETTINGS"}),l.jsxs("div",{style:{marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5,letterSpacing:"0.08em"},children:"AUTO-LOCK"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:se.map(B=>l.jsx("button",{disabled:Ie,onClick:()=>{Ut(B.value)},style:{...te(r===B.value?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:r===B.value?a.accent:a.dim,opacity:Ie?.7:1},children:B.label},B.value))})]}),l.jsx("button",{onClick:()=>{jn()},disabled:Ie,style:{...te(o?a.ok:a.dim,!0),width:"100%",padding:"8px 10px",color:o?a.ok:a.dim,textAlign:"left",opacity:Ie?.7:1},children:o?" KEEP UNLOCKED WHEN POPUP CLOSES":"KEEP UNLOCKED WHEN POPUP CLOSES"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Stores an unlocked session only in browser session memory; lock manually on shared devices."})]}),n&&l.jsxs(l.Fragment,{children:[c==="none"&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("button",{onClick:()=>d("reveal"),style:ol(a.accent),children:" REVEAL SEED PHRASE"}),l.jsx("button",{onClick:()=>d("change_pw"),style:ol(a.dim),children:" CHANGE PASSWORD"}),l.jsx("button",{onClick:()=>d("reset"),style:ol(a.danger),children:" RESET WALLET"})]}),c==="reveal"&&l.jsxs("div",{style:{...Pe("warn")},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Kn,color:a.warn},children:"SEED PHRASE"}),l.jsx("button",{onClick:wt,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:" close"})]}),g.length===0?l.jsxs("form",{onSubmit:xt,children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:"Enter your password to view your seed phrase. Never share it  anyone with this phrase controls your wallet."}),l.jsx("input",{type:"password",value:h,onChange:B=>v(B.target.value),placeholder:"Your password",disabled:x,style:{...Q(!!k),marginBottom:6}}),k&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:6},children:k}),l.jsx("button",{type:"submit",disabled:!h||x,style:{...te(h&&!x?a.warn:a.dim,!0),width:"100%",padding:"7px 0",color:h&&!x?a.warn:a.dim,cursor:h&&!x?"pointer":"not-allowed"},children:x?"AUTHENTICATING":"SHOW SEED PHRASE"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{...ke(),display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:8},children:g.map((B,A)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:4,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[A+1,"."]}),l.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:B})]},A))}),l.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.4},children:" Store offline. Never photograph or share digitally."})]})]}),c==="change_pw"&&l.jsxs("div",{style:Pe("default"),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:Kn,children:"CHANGE PASSWORD"}),l.jsx("button",{onClick:xe,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:" close"})]}),K?l.jsx("div",{style:{fontSize:8,color:a.ok,textAlign:"center",padding:"8px 0"},children:" Password updated successfully."}):l.jsxs("form",{onSubmit:et,style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("input",{type:"password",value:f,onChange:B=>y(B.target.value),placeholder:"Current password",disabled:ve,style:Q()}),l.jsx("input",{type:"password",value:S,onChange:B=>I(B.target.value),placeholder:"New password (min 8 chars)",disabled:ve,style:Q()}),l.jsx("input",{type:"password",value:_,onChange:B=>j(B.target.value),placeholder:"Confirm new password",disabled:ve,style:Q()}),C&&l.jsx("div",{style:{fontSize:8,color:a.danger},children:C}),l.jsx("button",{type:"submit",disabled:!f||!S||!_||ve,style:{...Un(f&&S&&_&&!ve),padding:"8px 0",cursor:f&&S&&_&&!ve?"pointer":"not-allowed"},children:ve?"RE-ENCRYPTING":"UPDATE PASSWORD"})]})]}),c==="reset"&&l.jsxs("div",{style:{...Pe("danger"),backgroundColor:a.dLow},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Kn,color:a.danger},children:" RESET WALLET"}),l.jsx("button",{onClick:xe,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:" cancel"})]}),l.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:["This will permanently delete your encrypted vault from this extension. Your on-chain funds are NOT affected. You can re-import using your seed phrase.",l.jsx("strong",{style:{color:a.warn},children:" Make sure your seed phrase is backed up before proceeding."})]}),l.jsx("button",{onClick:P,style:{...te(a.danger,!0),width:"100%",padding:"8px 0",background:Ce?a.danger:"rgba(49,21,32,0.65)",border:`1px solid ${a.danger}${Ce?"90":"50"}`,color:Ce?"#fff":a.danger},children:Ce?" CONFIRM  PERMANENTLY DELETE VAULT":"RESET WALLET"}),Ce&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:5,textAlign:"center"},children:"This cannot be undone. Your seed phrase is your only recovery option."})]})]}),l.jsxs("div",{style:{...ke(),padding:"10px 12px"},children:[l.jsx("div",{style:{...We,marginBottom:6},children:"SECURITY NOTES"}),["Seed phrase encrypted with AES-256-GCM before storage.","Password derived with PBKDF2-SHA256 (600,000 iterations).","Plaintext secrets never touch chrome.storage.","All signing happens locally  nothing is transmitted to servers."].map((B,A,z)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:A<z.length-1?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:B})]},A))]}),n&&c==="none"&&l.jsx("button",{onClick:u,style:{...te(a.dim,!0),padding:"8px 0"},children:" LOCK WALLET"})]})}function ol(e){return{...te(e,!0),padding:"10px 12px",color:e,textAlign:"left",letterSpacing:"0.08em"}}var Cd;const ie=((Cd=import.meta)==null?void 0:Cd.env)??{};function md(e,t){const n=ie==null?void 0:ie[e];return typeof n!="string"?t:n.trim().toLowerCase()==="true"?!0:n.trim().toLowerCase()==="false"?!1:t}function Xr(e,t,n,r){const o=ie==null?void 0:ie[e],i=Number(o);return Number.isFinite(i)?Math.min(r,Math.max(n,Math.floor(i))):t}function Sv(e,t){const n=String((ie==null?void 0:ie[e])??"").trim();if(!n)return t;const r=n.split(/[,\s]+/).map(i=>Number(i)).filter(i=>Number.isInteger(i)&&i>0),o=[...new Set(r)];return o.length?o:t}function xv(e,t){const n=String((ie==null?void 0:ie[e])??"").trim().toLowerCase();return n==="kaspa_native"||n==="evm_0x"||n==="blocked"?n:t}const Y={enabled:md("VITE_SWAP_ENABLED",!1),routeSource:xv("VITE_SWAP_ROUTE_SOURCE","blocked"),maxSlippageBps:Xr("VITE_SWAP_MAX_SLIPPAGE_BPS",500,1,2e3),defaultSlippageBps:Xr("VITE_SWAP_DEFAULT_SLIPPAGE_BPS",50,1,2e3),dexEndpoint:String((ie==null?void 0:ie.VITE_SWAP_DEX_ENDPOINT)??"").trim()||null,evmChainIdAllowlist:Sv("VITE_SWAP_EVM_CHAIN_IDS",[1]),requireExternalEvmSigner:md("VITE_SWAP_REQUIRE_EXTERNAL_EVM_SIGNER",!0),zeroExQuoteEndpoint:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_QUOTE_ENDPOINT)??"https://api.0x.org/swap/allowance-holder/quote").trim()||null,zeroExApiKey:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_API_KEY)??"").trim(),zeroExExpectedSettlerTo:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_EXPECTED_SETTLER_TO)??"").trim(),zeroExExpectedAllowanceSpender:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_EXPECTED_ALLOWANCE_SPENDER)??"").trim(),settlementRequiredConfirmations:Xr("VITE_SWAP_SETTLEMENT_CONFIRMATIONS",2,1,128),settlementPollIntervalMs:Xr("VITE_SWAP_SETTLEMENT_POLL_MS",4e3,500,6e4),settlementTimeoutMs:Xr("VITE_SWAP_SETTLEMENT_TIMEOUT_MS",24e4,15e3,36e5)};function pn(e){switch(e){case"kaspa_native":return"Kaspa Native";case"evm_0x":return"0x EVM";case"blocked":default:return"Blocked"}}function wv(e,t){return e==="KAS"||t==="KAS"}function Ev(e,t){return e==="ZRX"||t==="ZRX"}function Tm(e,t,n=Y.routeSource){return n==="blocked"?{source:n,label:pn(n),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:n==="kaspa_native"?Ev(e,t)?{source:n,label:pn(n),allowed:!1,reason:"0x token routes are not enabled on Kaspa-native swap.",requiresEvmSigner:!1}:{source:n,label:pn(n),allowed:!0,reason:null,requiresEvmSigner:!1}:wv(e,t)?{source:n,label:pn(n),allowed:!1,reason:"0x routes are EVM-domain only and cannot use native Kaspa balances directly.",requiresEvmSigner:!0}:{source:n,label:pn(n),allowed:!0,reason:null,requiresEvmSigner:!0}}function kv(e=Y.routeSource){return e==="blocked"?{source:e,label:pn(e),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:e==="evm_0x"?{source:e,label:pn(e),allowed:!0,reason:null,requiresEvmSigner:!0}:{source:e,label:pn(e),allowed:!0,reason:null,requiresEvmSigner:!1}}function Av(){return kv(Y.routeSource)}function hd(e){return e.trim().toLowerCase()}function gd(e){return e.routeSource==="evm_0x"?e.hasExternalEvmSigner?{ok:!0,requiredDomain:"evm_sidecar",reason:null}:{ok:!1,requiredDomain:"evm_sidecar",reason:"0x route requires an external EVM signer. Kaspa managed signer is isolated."}:e.hasManagedKaspaSession?{ok:!0,requiredDomain:"kaspa_managed",reason:null}:{ok:!1,requiredDomain:"kaspa_managed",reason:"Kaspa managed wallet must be unlocked for Kaspa-native swap."}}function Tv(e,t){return!e||!t?!1:hd(e)===hd(t)}const Tu="forgeos.swap.evm.sidecar.v1";function Iv(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Im(e){if(typeof e!="string")return"";const t=e.trim();return/^0x[a-fA-F0-9]{40}$/.test(t)?t:""}function ys(e){if(typeof e=="number"&&Number.isInteger(e)&&e>0)return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(!t)return 0;if(t.startsWith("0x")){const r=Number.parseInt(t.slice(2),16);return Number.isInteger(r)&&r>0?r:0}const n=Number(t);return Number.isInteger(n)&&n>0?n:0}return 0}function Iu(){return typeof window<"u"&&typeof window.localStorage<"u"}function _m(e){const t=e;if(!t)return null;const n=Im(t.address),r=ys(t.chainId),o=t.walletType==="metamask"?"metamask":null,i=typeof t.connectedAt=="number"&&Number.isFinite(t.connectedAt)?t.connectedAt:0,s=typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:i;return!o||!n||r<=0?null:{walletType:o,address:n,chainId:r,connectedAt:i||Date.now(),updatedAt:s||Date.now()}}function sa(){if(!Iu())return null;const e=Iv(window.localStorage.getItem(Tu));return _m(e)}function _v(e){const t=Date.now(),n=_m({...e,connectedAt:e.connectedAt??t,updatedAt:e.updatedAt??t});if(!n)throw new Error("EVM_SIDECAR_INVALID_SESSION");return Iu()&&window.localStorage.setItem(Tu,JSON.stringify(n)),n}function Cv(){Iu()&&window.localStorage.removeItem(Tu)}function Cm(e){return Y.evmChainIdAllowlist.includes(e)}function vs(){const e=globalThis==null?void 0:globalThis.ethereum;return e&&typeof e.request=="function"?e:null}async function Nv(){const e=vs();if(!e)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const t=await e.request({method:"eth_requestAccounts"}),n=Array.isArray(t)?t:[],r=Im(n[0]);if(!r)throw new Error("EVM_SIDECAR_CONNECT_FAILED: No EVM account returned.");const o=await e.request({method:"eth_chainId"}),i=ys(o);if(i<=0)throw new Error("EVM_SIDECAR_CHAIN_INVALID: Could not determine chain ID.");if(!Cm(i))throw new Error(`EVM_SIDECAR_CHAIN_NOT_ALLOWED: chainId ${i} not allowed.`);return _v({walletType:"metamask",address:r,chainId:i})}async function Pv(e){const t=vs();if(!t)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const n=await t.request({method:"eth_sendTransaction",params:[e]});if(typeof n!="string"||!n.startsWith("0x"))throw new Error("EVM_TX_HASH_INVALID");return n}async function jv(e){const t=vs();if(!t)return null;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]});return!n||typeof n!="object"?null:n}async function Rv(){const e=vs();if(!e)return null;const t=await e.request({method:"eth_blockNumber"}),n=ys(t);return n>0?n:null}function Ov(e){const t=e.status;if(typeof t=="number")return t===1?"success":"revert";if(typeof t=="string"){const n=t.trim().toLowerCase();if(n==="0x1"||n==="1")return"success";if(n==="0x0"||n==="0")return"revert"}return"unknown"}function Lv(e){return ys(e.blockNumber)}function li(e){return e.trim().toLowerCase()}const Dv={1:{USDC:"0xA0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",ZRX:"0xE41d2489571d322189246DaFA5ebDe1F4699F498"}};function yd(e,t){if(e==="KAS")return null;const r=(Dv[t]??{})[e];return typeof r=="string"&&r?r:null}function bv(e,t,n){const r=yd(e.tokenIn,t.chainId),o=yd(e.tokenOut,t.chainId);if(!r||!o)throw new Error("ZEROX_TOKEN_UNSUPPORTED: token pair is not mapped for selected EVM chain.");return{endpoint:n.endpoint,apiKey:n.apiKey,expectedSettlerTo:n.expectedSettlerTo,expectedAllowanceSpender:n.expectedAllowanceSpender,slippageBps:e.slippageBps,sellTokenAddress:r,buyTokenAddress:o,sellAmount:e.amountIn.toString()}}async function zv(e,t,n){var d;const r=new URLSearchParams({sellToken:e.sellTokenAddress,buyToken:e.buyTokenAddress,sellAmount:e.sellAmount,slippageBps:String(e.slippageBps)}),o=`${e.endpoint}?${r.toString()}`,i={Accept:"application/json","Content-Type":"application/json"};e.apiKey&&(i["0x-api-key"]=e.apiKey);const s=await fetch(o,{method:"GET",headers:i}),u=await s.json().catch(()=>({}));if(!s.ok){const g=typeof(u==null?void 0:u.reason)=="string"?u.reason:`HTTP ${s.status}`;throw new Error(`ZEROX_QUOTE_FAILED: ${g}`)}const c=Mv(u,{allowedChainIds:t,expectedChainId:n,expectedSettlerTo:e.expectedSettlerTo,expectedAllowanceSpender:e.expectedAllowanceSpender});if((d=u.issues)!=null&&d.simulationIncomplete&&c.push("ZEROX_SIMULATION_INCOMPLETE"),c.length>0)throw new Error(`ZEROX_POLICY_REJECTED: ${c.join(", ")}`);return u}function Mv(e,t){var i,s,u;const n=[],r=Number(e.chainId??0);(!Number.isFinite(r)||!t.allowedChainIds.includes(r))&&n.push("ZEROX_CHAIN_NOT_ALLOWED"),t.expectedChainId&&r!==t.expectedChainId&&n.push("ZEROX_CHAIN_SESSION_MISMATCH"),e.liquidityAvailable||n.push("ZEROX_NO_LIQUIDITY");const o=typeof((i=e.transaction)==null?void 0:i.to)=="string"?e.transaction.to:"";if((!o||li(o)!==li(t.expectedSettlerTo))&&n.push("ZEROX_SETTLER_MISMATCH"),t.expectedAllowanceSpender){const c=typeof((u=(s=e.issues)==null?void 0:s.allowance)==null?void 0:u.spender)=="string"?e.issues.allowance.spender:"";(!c||li(c)!==li(t.expectedAllowanceSpender))&&n.push("ZEROX_ALLOWANCE_SPENDER_MISMATCH")}return(!e.minBuyAmount||!/^\d+$/.test(String(e.minBuyAmount)))&&n.push("ZEROX_MIN_BUY_AMOUNT_INVALID"),n}var Nd;const Tr=((Nd=import.meta)==null?void 0:Nd.env)??{},Fv=12e3,Uv="/quote",Bv="/execute",$v="/status";function Kv(e,t,n,r){const o=Number(Tr==null?void 0:Tr[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}function _u(e,t){return String((Tr==null?void 0:Tr[e])??"").trim()||t}const Wv=Kv("VITE_SWAP_KASPA_NATIVE_TIMEOUT_MS",Fv,1e3,6e4),Vv=_u("VITE_SWAP_KASPA_NATIVE_QUOTE_PATH",Uv),Hv=_u("VITE_SWAP_KASPA_NATIVE_EXECUTE_PATH",Bv),Gv=_u("VITE_SWAP_KASPA_NATIVE_STATUS_PATH",$v);function Nm(e){return String(e||"").trim().replace(/\/+$/,"")}function Xv(e){const t=String(e||"").trim();return t?t.startsWith("/")?t:`/${t}`:"/"}function Cu(e,t){const n=Nm(e);if(!n)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");return`${n}${Xv(t)}`}async function Nu(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),t.timeoutMs??Wv);try{const o=await fetch(e,{method:t.method,headers:{"Content-Type":"application/json"},...t.body?{body:JSON.stringify(t.body)}:{},signal:n.signal}),i=await o.text().catch(()=>"");let s=null;if(i)try{s=JSON.parse(i)}catch{throw new Error(`KASPA_NATIVE_HTTP_${o.status}: invalid JSON response`)}if(!o.ok){const u=typeof(s==null?void 0:s.error)=="string"?s.error:`HTTP ${o.status}`;throw new Error(`KASPA_NATIVE_HTTP_${o.status}: ${u}`)}return{status:o.status,data:s}}catch(o){throw(o==null?void 0:o.name)==="AbortError"?new Error("KASPA_NATIVE_TIMEOUT: request timed out"):o instanceof Error?o:new Error(String(o))}finally{clearTimeout(r)}}function Qv(e){return typeof e=="bigint"?e.toString():typeof e=="number"&&Number.isFinite(e)&&e>=0?String(Math.floor(e)):typeof e=="string"&&/^\d+$/.test(e.trim())?e.trim():""}function vd(e,t){const n=Qv(e);if(!n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be an integer string`);const r=BigInt(n);if(r<0n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be >= 0`);return r}function Qi(e){const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?t:null}function Yv(e){const t=Qi(e.priceImpactBps);if(t!==null&&t>=0)return t/1e4;const n=Qi(e.priceImpact);if(n!==null&&n>=0&&n<=1)return n;throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing price impact")}function Zv(e){if(!Array.isArray(e))return[];const t=e.map(n=>String(n||"").trim()).filter(Boolean);return t.length?t:[]}function Jv(e){return e==="mainnet"?"kaspa:":"kaspatest:"}function qv(e,t){const n=String(e||"").trim().toLowerCase();if(!Ro(n))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address is invalid");const r=Jv(t);if(!n.startsWith(r))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address network mismatch")}function eS(e,t,n,r){const o=e??{},i=typeof o.quoteId=="string"?o.quoteId.trim():"";if(!i)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing quoteId");const s=typeof o.settlementAddress=="string"?o.settlementAddress.trim():"";if(!s)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing settlementAddress");qv(s,r);const u=vd(o.minAmountOut??o.amountOut,"amountOut"),c=vd(o.feeAmount??o.fee??"0","feeAmount"),d=Yv(o),g=Zv(o.route),m=Qi(o.validUntil);if(m===null||m<=Date.now())throw new Error("KASPA_NATIVE_QUOTE_INVALID: quote is missing or expired");if(g.length===0)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing route");return{tokenIn:t.tokenIn,tokenOut:t.tokenOut,amountIn:t.amountIn,amountOut:u,priceImpact:d,fee:c,route:g,validUntil:m,dexEndpoint:n,routeSource:"kaspa_native",rawQuote:{...o,quoteId:i,settlementAddress:s,network:r}}}function tS(e){const t=e.rawQuote??{},n=typeof t.quoteId=="string"?t.quoteId.trim():"",r=typeof t.settlementAddress=="string"?t.settlementAddress.trim():"";if(!n||!r)throw new Error("KASPA_NATIVE_QUOTE_META_INVALID");return{quoteId:n,settlementAddress:r}}async function nS(e,t){const n=Cu(t.endpoint,Vv),r={tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn.toString(),slippageBps:e.slippageBps,network:t.network,walletAddress:t.walletAddress};e.customTokenOut&&(r.tokenOutAddress=e.customTokenOut.address,r.tokenOutStandard=e.customTokenOut.standard,r.tokenOutSymbol=e.customTokenOut.symbol,r.tokenOutName=e.customTokenOut.name,r.tokenOutDecimals=e.customTokenOut.decimals);const{data:o}=await Nu(n,{method:"POST",body:r});return eS(o,e,Nm(t.endpoint),t.network)}async function rS(e){const t=Cu(e.endpoint,Hv),n={quoteId:e.quoteId,network:e.network,depositTxId:e.depositTxId,walletAddress:e.walletAddress,amountIn:e.amountIn.toString()},{data:r}=await Nu(t,{method:"POST",body:n}),o=r??{};if(o.accepted===!1)throw new Error(typeof o.error=="string"?o.error:"KASPA_NATIVE_EXECUTION_REJECTED");const i=typeof o.state=="string"?o.state.toLowerCase().trim():"";if(["failed","rejected","error"].includes(i))throw new Error(typeof o.error=="string"?o.error:`KASPA_NATIVE_EXECUTION_${i.toUpperCase()}`)}function oS(e){const t=e.toLowerCase().trim();return["confirmed","completed","success","settled"].includes(t)?"confirmed":["failed","reverted","rejected","expired","error"].includes(t)?"failed":"pending"}async function iS(e){const t=Cu(e.endpoint,Gv),n=new URLSearchParams({quoteId:e.quoteId,depositTxId:e.depositTxId,network:e.network}),r=`${t}?${n.toString()}`;try{const{status:o,data:i}=await Nu(r,{method:"GET"});if(o===404)return{state:"pending",confirmations:0,error:null,settlementTxId:null};const s=i??{},u=String(s.state??s.status??"pending"),c=oS(u),d=Math.max(0,Math.floor(Qi(s.confirmations)??0)),g=typeof s.error=="string"?s.error:null,m=typeof s.settlementTxId=="string"?s.settlementTxId:typeof s.txId=="string"?s.txId:null;return{state:c,confirmations:d,error:g,settlementTxId:m}}catch(o){if(String((o==null?void 0:o.message)||"").includes("HTTP 404"))return{state:"pending",confirmations:0,error:null,settlementTxId:null};throw o}}const sS={REQUESTED:["QUOTED","FAILED_TIMEOUT"],QUOTED:["SIGNED","FAILED_TIMEOUT","FAILED_BRIDGE"],SIGNED:["SUBMITTED","FAILED_TIMEOUT","FAILED_BRIDGE"],SUBMITTED:["SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT"],PENDING_CONFIRMATION:["PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"],CONFIRMED:[],FAILED_REVERT:[],FAILED_TIMEOUT:[],FAILED_BRIDGE:[]};function Pm(e,t,n=Date.now()){return{id:e,routeSource:t,state:"REQUESTED",createdAt:n,updatedAt:n,txHash:null,bridgeTransferId:null,confirmations:0,error:null}}function He(e,t,n={},r=Date.now()){if(!sS[e.state].includes(t))throw new Error(`INVALID_SETTLEMENT_TRANSITION: ${e.state} -> ${t}`);return{...e,...n,state:t,updatedAt:r}}const la="forgeos.swap.settlements.v1",jm=200;function Rm(){return chrome.storage.local}async function lS(){return new Promise(e=>{Rm().get(la,t=>e((t==null?void 0:t[la])??null))})}async function aS(e){return new Promise(t=>{Rm().set({[la]:e},t)})}function uS(e){return["REQUESTED","QUOTED","SIGNED","SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"].includes(String(e))}function cS(e){const t=e;if(!t)return null;const n=typeof t.id=="string"?t.id:"",r=typeof t.routeSource=="string"?t.routeSource:"",o=t.state;return!n||!uS(o)||r!=="blocked"&&r!=="kaspa_native"&&r!=="evm_0x"?null:{id:n,routeSource:r,state:o,createdAt:typeof t.createdAt=="number"&&Number.isFinite(t.createdAt)?t.createdAt:Date.now(),updatedAt:typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:Date.now(),txHash:typeof t.txHash=="string"?t.txHash:null,bridgeTransferId:typeof t.bridgeTransferId=="string"?t.bridgeTransferId:null,confirmations:typeof t.confirmations=="number"&&Number.isFinite(t.confirmations)?t.confirmations:0,error:typeof t.error=="string"?t.error:null}}function dS(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=cS(n);r&&t.push(r)}return t.sort((n,r)=>r.updatedAt-n.updatedAt),t.slice(0,jm)}async function mo(){const e=await lS();return dS(e)}async function Ae(e){const t=await mo(),n=[e,...t.filter(r=>r.id!==e.id)].sort((r,o)=>o.updatedAt-r.updatedAt).slice(0,jm);await aS(n)}function Pu(e){return e.state==="SUBMITTED"||e.state==="PENDING_CONFIRMATION"}function Om(e){return`${e}_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function ju(){const e=sa();return e&&Cm(e.chainId)?e:null}const fS=["mainnet","testnet-10","testnet-11","testnet-12"],pS=1e8;function mS(e){const t=Number(e)/pS;if(!Number.isFinite(t)||t<=0)throw new Error("KASPA_NATIVE_EXECUTION_INVALID_AMOUNT");return t}async function Ru(){const e=await lu().catch(()=>"mainnet");return e==="mainnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12"?e:"mainnet"}function yr(e,t,n="FAILED_BRIDGE"){return He(e,n,{error:t})}async function hS(e){for(const t of fS){const n=await tm(e,t).catch(()=>null);if(n!=null&&n.acceptingBlockHash)return!0}return!1}function Lm(){return Y.zeroExQuoteEndpoint?Y.zeroExExpectedSettlerTo?{ok:!0,reason:null}:{ok:!1,reason:"0x settler target is not configured."}:{ok:!1,reason:"0x quote endpoint is not configured."}}function Dm(){if(!Y.enabled)return{enabled:!1,reason:"Swap functionality not yet active on Kaspa."};const e=on();if(!e)return{enabled:!1,reason:"Wallet is locked."};if(Y.routeSource==="blocked")return{enabled:!1,reason:"Swap routes are currently disabled on Kaspa."};if(Y.routeSource==="kaspa_native"){if(!Y.dexEndpoint)return{enabled:!1,reason:"No DEX endpoint configured."};const o=gd({routeSource:"kaspa_native",hasManagedKaspaSession:!!(e!=null&&e.mnemonic),hasExternalEvmSigner:!1});return o.ok?{enabled:!0,reason:null}:{enabled:!1,reason:o.reason}}const t=Lm();if(!t.ok)return{enabled:!1,reason:t.reason};const n=ju(),r=gd({routeSource:"evm_0x",hasManagedKaspaSession:!!(e!=null&&e.mnemonic),hasExternalEvmSigner:!!n});return r.ok?{enabled:!0,reason:null}:{enabled:!1,reason:r.reason}}function gS(e){const t=[],n=e.customTokenOut??null,r=!!n,o=r?"USDC":e.tokenOut;!r&&e.tokenIn===e.tokenOut&&t.push("Token in and token out must be different.");const i=Tm(e.tokenIn,o,Y.routeSource);if(!i.allowed&&i.reason&&t.push(i.reason),ad(e.tokenIn)||t.push(`${e.tokenIn} is not currently available.`),!r&&!ad(e.tokenOut)&&t.push(`${e.tokenOut} is not currently available.`),r&&(String((n==null?void 0:n.address)??"").trim()||t.push("Custom token address is required."),(n==null?void 0:n.standard)!=="krc20"&&(n==null?void 0:n.standard)!=="krc721"&&t.push("Custom token standard must be KRC20 or KRC721.")),e.amountIn<=0n&&t.push("Amount must be greater than zero."),(e.slippageBps<0||e.slippageBps>Y.maxSlippageBps)&&t.push(`Slippage must be between 0 and ${Y.maxSlippageBps} bps (${Y.maxSlippageBps/100}%).`),i.source==="evm_0x"){const s=Lm();!s.ok&&s.reason&&t.push(s.reason)}return i.source==="kaspa_native"?(Y.dexEndpoint||t.push("Kaspa-native DEX endpoint is not configured."),e.tokenIn!=="KAS"&&t.push("Kaspa-native swap currently supports KAS as the input token.")):r&&t.push("Custom KRC token output requires kaspa-native swap route."),t}async function yS(e){var i,s,u,c,d,g,m;if(!Dm().enabled)return null;const n=gS(e);if(n.length>0)throw new Error(`SWAP_VALIDATION: ${n.join("; ")}`);const r=e.customTokenOut?"USDC":e.tokenOut,o=Tm(e.tokenIn,r,Y.routeSource);if(o.source==="kaspa_native"){const h=Y.dexEndpoint;if(!h)throw new Error("KASPA_NATIVE_ROUTE_UNAVAILABLE: dex endpoint is not configured.");const v=on();if(!(v!=null&&v.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const k=await Ru(),E=uo(v.address,k);return{...await nS(e,{endpoint:h,network:k,walletAddress:E}),customTokenOut:e.customTokenOut??null}}if(o.source==="evm_0x"){const h=ju();if(!h)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");const v=bv(e,h,{endpoint:Y.zeroExQuoteEndpoint||"",apiKey:Y.zeroExApiKey||void 0,expectedSettlerTo:Y.zeroExExpectedSettlerTo,expectedAllowanceSpender:Y.zeroExExpectedAllowanceSpender||void 0}),k=await zv(v,Y.evmChainIdAllowlist,h.chainId),E=BigInt(k.minBuyAmount||k.buyAmount||"0"),x=typeof((i=k.transaction)==null?void 0:i.to)=="string"?k.transaction.to:"",p=typeof((s=k.transaction)==null?void 0:s.data)=="string"?k.transaction.data:"";if(!x||!p)throw new Error("ZEROX_QUOTE_INVALID: missing transaction payload.");return{tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn,amountOut:E,priceImpact:0,fee:0n,route:((c=(u=k.route)==null?void 0:u.fills)==null?void 0:c.map(f=>String((f==null?void 0:f.source)||"0x")))||["0x"],validUntil:Date.now()+3e4,dexEndpoint:Y.zeroExQuoteEndpoint||"https://api.0x.org",routeSource:"evm_0x",transaction:{to:x,data:p,value:typeof((d=k.transaction)==null?void 0:d.value)=="string"?k.transaction.value:"0x0"},allowanceSpender:(m=(g=k.issues)==null?void 0:g.allowance)==null?void 0:m.spender,rawQuote:k,customTokenOut:e.customTokenOut??null}}throw new Error(`SWAP_ROUTE_UNSUPPORTED: ${o.source}`)}async function vS(e){if(!e.txHash||e.routeSource!=="evm_0x"||!Pu(e))return e;if(e.createdAt+Y.settlementTimeoutMs<=Date.now()){const u=He(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Ae(u),u}const t=await jv(e.txHash).catch(()=>null);if(!t)return e;if(Ov(t)==="revert"){const u=He(e,"FAILED_REVERT",{error:"EVM transaction reverted."});return await Ae(u),u}const r=Lv(t),o=await Rv().catch(()=>null),i=r&&o&&o>=r?o-r+1:e.confirmations||1;if(i>=Y.settlementRequiredConfirmations){const u=He(e,"CONFIRMED",{confirmations:i,error:null});return await Ae(u),u}const s=He(e,"PENDING_CONFIRMATION",{confirmations:i});return await Ae(s),s}async function bm(e){if(!e.txHash||e.routeSource!=="kaspa_native"||!Pu(e))return e;if(e.createdAt+Y.settlementTimeoutMs<=Date.now()){const s=He(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Ae(s),s}const t=e.bridgeTransferId||"";if(!t){const s=yr(e,"KASPA_NATIVE_SETTLEMENT_MISSING_QUOTE_ID");return await Ae(s),s}const n=Y.dexEndpoint;if(!n)return e;let r;try{const s=await Ru();r=await iS({endpoint:n,network:s,quoteId:t,depositTxId:e.txHash})}catch{return e}if(r.state==="failed"){const s=yr(e,r.error||"KASPA_NATIVE_EXECUTION_FAILED");return await Ae(s),s}const o=await hS(e.txHash);if(o&&r.state==="confirmed"){const s=He(e,"CONFIRMED",{confirmations:Math.max(1,r.confirmations||1),error:null});return await Ae(s),s}const i=He(e,"PENDING_CONFIRMATION",{confirmations:o?1:0});return await Ae(i),i}async function zm(e){return e.routeSource==="evm_0x"?vS(e):e.routeSource==="kaspa_native"?bm(e):e}async function Sd(){const t=(await mo()).filter(r=>Pu(r)&&(r.routeSource==="evm_0x"||r.routeSource==="kaspa_native")),n=[];for(const r of t)n.push(await zm(r));return n}async function SS(){return Nv()}async function xS(e){if(!e.transaction)throw new Error("SWAP_EXECUTION_UNSUPPORTED: missing EVM transaction payload.");const t=ju();if(!t)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");if(!Tv(e.transaction.to,Y.zeroExExpectedSettlerTo))throw new Error("ZEROX_SETTLER_MISMATCH: refusing to execute unexpected transaction target.");const n=Om("swap");let r=Pm(n,"evm_0x");r=He(r,"QUOTED"),await Ae(r),r=He(r,"SIGNED"),await Ae(r);let o="";try{o=await Pv({from:t.address,to:e.transaction.to,data:e.transaction.data,value:e.transaction.value||"0x0"})}catch(u){const c=He(r,"FAILED_BRIDGE",{error:u instanceof Error?u.message:String(u)});return await Ae(c),c}r=He(r,"SUBMITTED",{txHash:o,confirmations:0,error:null}),await Ae(r);const i=Date.now()+Y.settlementTimeoutMs;for(;Date.now()<i;){if(r=await zm(r),r.state==="CONFIRMED"||r.state==="FAILED_REVERT"||r.state==="FAILED_BRIDGE")return r;await new Promise(c=>setTimeout(c,Y.settlementPollIntervalMs))}const s=He(r,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Ae(s),s}async function wS(e){if(e.routeSource!=="kaspa_native")throw new Error("KASPA_NATIVE_ROUTE_REQUIRED");if(e.tokenIn!=="KAS")throw new Error("KASPA_NATIVE_INPUT_UNSUPPORTED: only KAS input is supported.");if(Date.now()>e.validUntil)throw new Error("KASPA_NATIVE_QUOTE_EXPIRED");const t=Y.dexEndpoint;if(!t)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");const n=on();if(!(n!=null&&n.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const r=await Ru(),o=uo(n.address,r),i=tS(e),s=mS(e.amountIn),u=Om("swap");let c=Pm(u,"kaspa_native");c=He(c,"QUOTED"),await Ae(c),c=He(c,"SIGNED"),await Ae(c);let d="";try{let h=await ym(o,i.settlementAddress,s,r);await gm(h);const v=await vm(h);if(!v.valid){const x=v.errors.join("; ");await mt({...h,state:"DRY_RUN_FAIL",error:x});const p=yr(c,`KASPA_NATIVE_DRY_RUN_FAILED: ${x}`);return await Ae(p),p}h={...h,state:"DRY_RUN_OK",fee:v.estimatedFee},await mt(h);const k=await Sm(h);await mt(k);const E=await xm(k);await mt(E),d=E.txId||k.txId||""}catch(h){const v=yr(c,h instanceof Error?h.message:String(h));return await Ae(v),v}if(!d){const h=yr(c,"KASPA_NATIVE_EXECUTION_NO_TXID");return await Ae(h),h}c=He(c,"SUBMITTED",{txHash:d,bridgeTransferId:i.quoteId,confirmations:0,error:null}),await Ae(c);try{await rS({endpoint:t,network:r,quoteId:i.quoteId,depositTxId:d,walletAddress:o,amountIn:e.amountIn})}catch{}const g=Date.now()+Y.settlementTimeoutMs;for(;Date.now()<g;){if(c=await bm(c),c.state==="CONFIRMED"||c.state==="FAILED_REVERT"||c.state==="FAILED_BRIDGE"||c.state==="FAILED_TIMEOUT")return c;await new Promise(h=>setTimeout(h,Y.settlementPollIntervalMs))}const m=yr(c,"Swap timed out waiting for confirmations.","FAILED_TIMEOUT");return await Ae(m),m}async function ES(e){if(e.routeSource==="kaspa_native")return wS(e);if(e.routeSource==="evm_0x")return xS(e);throw new Error(`SWAP_EXECUTION_UNSUPPORTED: ${e.routeSource||"unknown route"}`)}var Pd;const Ir=((Pd=import.meta)==null?void 0:Pd.env)??{},kS=3500,AS=2e4,TS=512,vr=new Map;function il(e){const t=String((Ir==null?void 0:Ir[e])??"").trim();if(!t)return[];const n=t.split(/[,\s]+/).map(r=>r.trim().replace(/\/+$/,"")).filter(Boolean);return[...new Set(n)]}function IS(e,t){const n=String((Ir==null?void 0:Ir[e])??"").trim();if(!n)return t;const r=Number(n);return Number.isFinite(r)?Math.max(0,Math.floor(r)):t}function _S(){return IS("VITE_SWAP_KRC_TOKEN_METADATA_CACHE_TTL_MS",AS)}function CS(e){return e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet-12"?"TN12":"MAINNET"}function NS(e){const t=CS(e),n=il("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINTS"),r=il(`VITE_KASPA_KASPLEX_${t}_API_ENDPOINTS`),o=il("VITE_KASPA_KASPLEX_API_ENDPOINTS");return[...new Set([...n,...r,...o])]}function PS(e,t={},n=kS){const r=new AbortController,o=setTimeout(()=>r.abort(),n);return fetch(e,{...t,signal:r.signal}).finally(()=>clearTimeout(o))}function aa(e){return e&&typeof e=="object"&&!Array.isArray(e)?e:null}function jS(e){const t=["token","data","result","item","collection","metadata"];for(const n of t){const r=aa(e[n]);if(r)return r}return null}function rr(e,t){for(const n of t){const r=e[n];if(typeof r=="string"&&r.trim())return r.trim()}return""}function RS(e,t){for(const n of t){const r=e[n],o=typeof r=="number"?r:Number(r);if(Number.isFinite(o))return o}return null}function Yi(e){return String(e||"").trim().toLowerCase()}function OS(e,t,n){return`${n}|${t}|${Yi(e)}`}function Zi(e){return{...e}}function LS(e){const t=vr.get(e);return t?t.expiresAt<=Date.now()?(vr.delete(e),null):Zi(t.token):null}function xd(e,t){const n=_S();if(!(n<=0))for(vr.set(e,{token:Zi(t),expiresAt:Date.now()+n});vr.size>TS;){const r=vr.keys().next().value;if(typeof r!="string")break;vr.delete(r)}}function DS(e,t){const n=t==="krc721"?0:8;return Number.isFinite(e)?Math.max(0,Math.min(18,Math.floor(e))):n}function bS(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function wd(e,t=64,n=52){return`hsl(${e%360} ${t}% ${n}%)`}function Mm(e,t){const n=Yi(e),r=bS(`${t}:${n}`),o=wd(r),i=wd(r>>3),s=t==="krc721"?"721":"20",u=n.slice(0,6).toUpperCase(),c=`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='${o}'/><stop offset='100%' stop-color='${i}'/></linearGradient></defs><rect width='120' height='120' rx='24' fill='url(#g)'/><text x='60' y='56' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='18' fill='white'>${s}</text><text x='60' y='78' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='10' fill='white'>${u}</text></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(c)}`}function zS(e,t){const n=String(e??"").trim().toLowerCase();return n.includes("721")?"krc721":n.includes("20")?"krc20":n==="nft"?"krc721":n==="ft"?"krc20":t}function MS(e,t,n){const o=rr(e,["address","tokenAddress","contractAddress","contract","id","assetId"])||t,i=zS(rr(e,["standard","type","tokenType","protocol"]),n),s=rr(e,["symbol","ticker","tick","tokenSymbol"])||o.slice(0,6).toUpperCase(),u=rr(e,["name","collectionName","tokenName","title"])||s,c=RS(e,["decimals","decimal","precision"]),d=DS(c??(i==="krc721"?0:8),i),g=rr(e,["logo","logoUrl","image","imageUrl","icon","iconUrl"])||Mm(o,i);return{address:o,standard:i,symbol:s,name:u,decimals:d,logoUri:g}}function FS(e){const t=[],n=aa(e);if(!n)return t;t.push(n);const r=jS(n);r&&t.push(r);for(const o of["tokens","items","results","data"]){const i=n[o];if(Array.isArray(i))for(const s of i){const u=aa(s);u&&t.push(u)}}return t}function US(e,t){const n=Yi(t);if(!n)return e[0]??null;for(const r of e){const o=Yi(rr(r,["address","tokenAddress","contractAddress","contract","id","assetId"]));if(o&&o===n)return r}return e[0]??null}function BS(e,t){const n=encodeURIComponent(e);return t==="krc721"?[`/krc721/tokens/${n}`,`/krc721/collections/${n}`,`/krc721/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc721/${n}`]:[`/krc20/tokens/${n}`,`/krc20/token/${n}`,`/krc20/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc20/${n}`]}async function $S(e,t,n){const r=e.replace(/\/+$/,""),o=BS(t,n);for(const i of o)try{const s=await PS(`${r}${i}`,{method:"GET"});if(!s.ok)continue;const u=await s.json().catch(()=>null);if(!u)continue;const c=FS(u);if(c.length===0)continue;const d=US(c,t);if(!d)continue;return MS(d,t,n)}catch{}return null}async function KS(e,t,n){const r=String(e||"").trim();if(!r)throw new Error("Token address is required.");const o=OS(r,t,n),i=LS(o);if(i)return i;const s=NS(n);for(const c of s){const d=await $S(c,r,t);if(d)return xd(o,d),Zi(d)}const u={address:r,standard:t,symbol:r.slice(0,6).toUpperCase(),name:t==="krc721"?"KRC721 Token":"KRC20 Token",decimals:t==="krc721"?0:8,logoUri:Mm(r,t)};return xd(o,u),Zi(u)}function WS(e,t){const n=String(e||"").trim();if(!n||!/^\d+(\.\d+)?$/.test(n))return null;const[r,o=""]=n.split("."),i=r.replace(/^0+(?=\d)/,"")||"0",s=o.slice(0,t).padEnd(t,"0"),u=`${i}${s}`.replace(/^0+(?=\d)/,"")||"0";try{return BigInt(u)}catch{return null}}function VS(){const[e,t]=w.useState(()=>sa()),[n,r]=w.useState(null),[o,i]=w.useState([]),[s,u]=w.useState(null),[c,d]=w.useState(!1),[g,m]=w.useState(!1),[h,v]=w.useState(!1),[k,E]=w.useState(!1),[x,p]=w.useState(!1),f=Dm(),y=Av(),S=ia(),[I,_]=w.useState("KAS"),[j,C]=w.useState("USDC"),[W,K]=w.useState(""),[G,ve]=w.useState(Y.defaultSlippageBps),[de,Ce]=w.useState(""),[Re,Ie]=w.useState("krc20"),[oe,N]=w.useState(null),[b,M]=w.useState(!1),[X,V]=w.useState(null),U=!f.enabled,re=Y.routeSource==="evm_0x";w.useEffect(()=>{t(sa()),Sd().catch(()=>{}),mo().then(i).catch(()=>{})},[]),w.useEffect(()=>{const P=setInterval(()=>{Sd().then(()=>mo().then(Q=>i(Q.slice(0,4)))).catch(()=>{})},Y.settlementPollIntervalMs);return()=>clearInterval(P)},[]);const J=async()=>{const P=await mo();i(P.slice(0,4))},Oe=async()=>{u(null);const P=S.find(xe=>xe.id===I),Q=WS(W,(P==null?void 0:P.decimals)??8);if(!Q||Q<=0n){u("Enter a valid amount.");return}m(!0);try{const xe=await yS({tokenIn:I,tokenOut:j,amountIn:Q,slippageBps:G,customTokenOut:oe});if(!xe){u(f.reason??"Swap is currently unavailable.");return}r(xe)}catch(xe){u(xe instanceof Error?xe.message:String(xe))}finally{m(!1)}},F=async()=>{V(null),u(null);const P=de.trim();if(!P){V("Paste a token address first.");return}M(!0);try{const Q=await lu().catch(()=>"mainnet"),xe=await KS(P,Re,Q);N(xe)}catch(Q){N(null),V(Q instanceof Error?Q.message:String(Q))}finally{M(!1)}},ae=()=>{N(null),V(null)},Le=async()=>{u(null),d(!0);try{const P=await SS();t(P),E(!1)}catch(P){u(P instanceof Error?P.message:String(P))}finally{d(!1)}},se=()=>{Cv(),t(null)},xt=async()=>{if(n){u(null),v(!0);try{await ES(n),p(!1),await J()}catch(P){u(P instanceof Error?P.message:String(P))}finally{v(!1)}}},wt=P=>({width:"100%",boxSizing:"border-box",background:P?"rgba(8,13,20,0.4)":"rgba(8,13,20,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:P?a.dim:a.text,fontSize:11,cursor:P?"not-allowed":"text",...D,outline:"none"}),et=P=>({...wt(P),cursor:P?"not-allowed":"pointer",appearance:"none"});return l.jsxs("div",{style:Fn,children:[U&&l.jsxs("div",{style:{...Pe("purple"),display:"flex",alignItems:"flex-start",gap:10},children:[l.jsx("span",{style:{fontSize:18,flexShrink:0},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:9,color:a.purple,fontWeight:700,letterSpacing:"0.1em",marginBottom:4},children:"SWAP UNAVAILABLE"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:f.reason??"Swap functionality not yet active on Kaspa."}),l.jsxs("div",{style:{fontSize:8,color:a.muted,lineHeight:1.4,marginTop:6},children:["Route source: ",y.label]})]})]}),re&&l.jsxs("div",{style:Pe("default",!0),children:[l.jsx("div",{style:{...We,marginBottom:6},children:"EVM SIDECAR SIGNER"}),e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Connected: ",e.address.slice(0,8),"",e.address.slice(-6)," (chain ",e.chainId,")"]}),l.jsx("button",{onClick:se,style:{...te(a.warn),width:"100%",padding:"8px 0"},children:"DISCONNECT EVM SIGNER"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:7},children:"Required for `0x` route. Kaspa managed signer remains isolated."}),k?l.jsxs("div",{style:{...ke(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:"You are connecting an EVM signer domain. Forge-OS Kaspa wallet keys are not shared with this signer."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:Le,style:{...Un(!0),flex:1,padding:"7px 0"},disabled:c,children:c?"CONNECTING":"I AGREE, CONNECT"}),l.jsx("button",{onClick:()=>E(!1),style:{...te(a.dim),flex:1,padding:"7px 0"},disabled:c,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>E(!0),style:{...te(a.accent),width:"100%",padding:"8px 0"},disabled:c,children:"CONNECT METAMASK SIDECAR"})]})]}),l.jsxs("div",{style:Pe("default"),children:[l.jsx("div",{style:{...We,marginBottom:6},children:"YOU PAY"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("select",{value:I,onChange:P=>_(P.target.value),disabled:U,style:{...et(U),flex:"0 0 100px"},children:S.filter(P=>P.enabled).map(P=>l.jsx("option",{value:P.id,children:P.symbol},P.id))}),l.jsx("input",{type:"number",min:"0",value:W,onChange:P=>K(P.target.value),placeholder:U?"":"0.00",disabled:U,style:{...wt(U),flex:1}})]})]}),l.jsx("div",{style:{textAlign:"center"},children:l.jsx("button",{disabled:U,onClick:()=>{_(j),C(I)},style:{background:"linear-gradient(180deg, rgba(16,25,35,0.7), rgba(8,13,20,0.7))",border:`1px solid ${a.border}`,borderRadius:"50%",width:28,height:28,color:U?a.muted:a.accent,fontSize:14,cursor:U?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 16px rgba(0,0,0,0.16)"},children:""})}),l.jsxs("div",{style:Pe("default"),children:[l.jsx("div",{style:{...We,marginBottom:6},children:"YOU RECEIVE (ESTIMATED)"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("select",{value:j,onChange:P=>C(P.target.value),disabled:U,style:{...et(U),flex:"0 0 100px"},children:ia().map(P=>l.jsxs("option",{value:P.id,disabled:!P.enabled,children:[P.symbol,P.enabled?"":" (soon)"]},P.id))}),l.jsx("div",{style:{...wt(!0),flex:1,display:"flex",alignItems:"center",color:a.muted,fontSize:11},children:""})]}),l.jsxs("div",{style:{...ke(),marginTop:8,padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"PASTE KRC TOKEN ADDRESS (KRC20 / KRC721)"}),l.jsx("div",{style:{display:"flex",gap:6,marginBottom:6},children:["krc20","krc721"].map(P=>{const Q=Re===P;return l.jsx("button",{onClick:()=>Ie(P),disabled:U,style:{...te(Q?a.accent:a.dim),flex:1,padding:"5px 0",fontSize:8,background:Q?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:Q?`${a.accent}55`:a.border,color:Q?a.accent:a.dim},children:P.toUpperCase()},P)})}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("input",{value:de,onChange:P=>Ce(P.target.value),placeholder:"Paste token address",disabled:U,style:{...wt(U),flex:1,padding:"8px 10px",fontSize:9}}),l.jsx("button",{onClick:F,disabled:U||b,style:{...te(a.accent),padding:"0 10px",fontSize:8},children:b?"...":"RESOLVE"})]}),X&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:X}),oe&&l.jsx("div",{style:{...ke(),marginTop:8,padding:"8px 9px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,minWidth:0},children:[l.jsx("img",{src:oe.logoUri,alt:oe.symbol,style:{width:26,height:26,borderRadius:6,objectFit:"cover",flexShrink:0}}),l.jsxs("div",{style:{minWidth:0},children:[l.jsxs("div",{style:{fontSize:9,color:a.text,fontWeight:700,letterSpacing:"0.06em"},children:[oe.symbol,"  ",oe.standard.toUpperCase()]}),l.jsx("div",{style:{fontSize:8,color:a.dim,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:oe.address})]})]}),l.jsx("button",{onClick:ae,style:{...te(a.dim),padding:"4px 7px",fontSize:8},children:"CLEAR"})]})})]})]}),l.jsxs("div",{style:Pe("default",!0),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("div",{style:We,children:"SLIPPAGE TOLERANCE"}),l.jsxs("div",{style:{fontSize:8,color:U?a.muted:a.text,fontWeight:700},children:[(G/100).toFixed(1),"%"]})]}),l.jsx("div",{style:{display:"flex",gap:6},children:[25,50,100].map(P=>l.jsxs("button",{onClick:()=>ve(P),disabled:U,style:{...te(G===P&&!U?a.accent:a.dim),flex:1,padding:"5px 0",borderRadius:6,background:G===P&&!U?`${a.accent}20`:"rgba(33,48,67,0.4)",border:`1px solid ${G===P&&!U?a.accent:a.border}`,color:G===P&&!U?a.accent:a.dim,fontSize:8,fontWeight:700,cursor:U?"not-allowed":"pointer"},children:[(P/100).toFixed(1),"%"]},P))})]}),U?l.jsx("div",{style:{textAlign:"center"},children:l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"SWAP COMING SOON"})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:Oe,style:{...Un(!0),width:"100%",padding:"11px 0",fontSize:10,letterSpacing:"0.1em"},disabled:g,children:g?"REQUESTING QUOTE":"GET QUOTE "}),n&&l.jsxs("div",{style:Pe("default",!0),children:[l.jsx("div",{style:{...We,marginBottom:6},children:"QUOTE PREVIEW"}),n.customTokenOut&&l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Output token: ",n.customTokenOut.symbol," (",n.customTokenOut.standard.toUpperCase(),")  ",n.customTokenOut.address]}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Route: ",n.route.join(" -> ")," | Valid ~30s"]}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:8},children:["Min output units: ",n.amountOut.toString()]}),x?l.jsxs("div",{style:{...ke(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:"Confirm execution in the external EVM signer. Settlement is persisted and recovered after restart."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:xt,style:{...Un(!0),flex:1,padding:"7px 0"},disabled:h,children:h?"EXECUTING":"CONFIRM EXECUTION"}),l.jsx("button",{onClick:()=>p(!1),style:{...te(a.dim),flex:1,padding:"7px 0"},disabled:h,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>p(!0),style:{...Un(!0),width:"100%",padding:"8px 0"},disabled:h,children:"SIGN & EXECUTE SWAP"})]})]}),s&&l.jsx("div",{style:{...ke(),border:`1px solid ${a.danger}60`,color:a.danger,fontSize:8},children:s}),o.length>0&&l.jsxs("div",{style:{...ke(),padding:"9px 12px"},children:[l.jsx("div",{style:{...We,marginBottom:6},children:"SWAP SETTLEMENTS"}),o.map((P,Q)=>l.jsxs("div",{style:{marginBottom:Q<o.length-1?4:0,fontSize:8,color:a.dim},children:[l.jsx("span",{style:{color:a.text},children:P.state}),"  ",P.txHash?`${P.txHash.slice(0,10)}`:"tx pending","  ",new Date(P.updatedAt).toLocaleTimeString()]},P.id))]}),l.jsxs("div",{style:{...ke(),padding:"9px 12px"},children:[l.jsx("div",{style:{...We,marginBottom:5},children:"SWAP NOTES"}),[`Route source: ${y.label}.`,y.requiresEvmSigner?"This route requires a dedicated EVM signer (Kaspa signer is isolated).":"Signing domain remains inside Kaspa managed wallet boundaries.","Paste a KRC20/KRC721 token address to resolve live metadata + token image.","Output preview required before any signature.",`Max slippage cap: ${Y.maxSlippageBps/100}%.`,"No silent token redirection  destination enforced.","Swap routes verified against active network only."].map((P,Q)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:Q<6?3:0},children:[l.jsx("span",{style:{color:U?a.muted:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.muted,lineHeight:1.4},children:P})]},Q))]})]})}const Dr=1,Ji=440,qi=720,Fm=420,Um=620;function HS({autoLockMinutes:e,persistSession:t,onUnlock:n,onReset:r,walletAddress:o}){const[i,s]=w.useState(""),[u,c]=w.useState(null),[d,g]=w.useState(!1),[m,h]=w.useState(!1),v=w.useRef(null);w.useEffect(()=>{var E;(E=v.current)==null||E.focus()},[]);const k=async E=>{var x;if(E.preventDefault(),!(!i||d)){g(!0),c(null);try{const p=await Qn(i,e,{persistSession:t});n(p)}catch(p){const f=p instanceof Error?p.message:String(p);c(f==="INVALID_PASSWORD"?"Incorrect password.":"Failed to unlock. Try again."),s(""),(x=v.current)==null||x.focus()}finally{g(!1)}}};return l.jsxs("div",{style:{width:Ji,minHeight:qi,...Lr(),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:"28px 30px 24px",...D,position:"relative",overflow:"hidden",overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:"-12%",left:"50%",transform:"translateX(-50%)",width:360,height:360,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}18 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:"-10%",right:"-32%",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0A 0%, transparent 72%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{position:"relative",zIndex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:4},children:[l.jsxs("div",{style:{marginBottom:o?14:22,textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon128.png",alt:"Forge-OS",style:{width:58,height:58,objectFit:"contain",imageRendering:"auto",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.52))",marginBottom:12}}),l.jsxs("div",{style:{fontSize:17,fontWeight:700,letterSpacing:"0.12em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]}),l.jsx("div",{style:{fontSize:10,color:a.dim,marginTop:5,letterSpacing:"0.12em"},children:o?"WELCOME BACK":"WALLET LOCKED"})]}),o&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:16,background:`${a.accent}0A`,border:`1px solid ${a.accent}25`,borderRadius:20,padding:"6px 14px"},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:11,color:a.text,fontWeight:600},children:Fo(o)})]}),l.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:`${a.accent}15`,border:`1px solid ${a.accent}30`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:18},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsxs("form",{onSubmit:k,style:{width:"100%"},children:[l.jsxs("div",{style:{marginBottom:12},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:6},children:o?"ENTER PASSWORD TO SIGN IN":"PASSWORD"}),l.jsx("input",{ref:v,type:"password",value:i,onChange:E=>s(E.target.value),placeholder:"Enter your password",disabled:d,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.7)",border:`1px solid ${u?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...D,outline:"none"}})]}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10,textAlign:"center"},children:u}),l.jsx("button",{type:"submit",disabled:!i||d,style:{width:"100%",padding:"10px 0",background:i&&!d?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}30`,border:"none",borderRadius:8,color:i&&!d?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:i&&!d?"pointer":"not-allowed",letterSpacing:"0.1em",...D,transition:"background 0.15s, color 0.15s"},children:d?"UNLOCKING":"UNLOCK WALLET"})]}),l.jsx("div",{style:{marginTop:20,textAlign:"center"},children:m?l.jsxs("div",{style:{background:a.dLow,border:`1px solid ${a.danger}40`,borderRadius:8,padding:"12px 14px",marginTop:4},children:[l.jsx("div",{style:{fontSize:9,color:a.warn,fontWeight:700,marginBottom:6,letterSpacing:"0.08em"},children:" RESET WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:"This will permanently delete your encrypted vault. Make sure you have your seed phrase backed up before proceeding."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>h(!1),style:{flex:1,padding:"7px 0",background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:6,color:a.dim,fontSize:8,cursor:"pointer",...D},children:"CANCEL"}),l.jsx("button",{onClick:r,style:{flex:1,padding:"7px 0",background:a.dLow,border:`1px solid ${a.danger}60`,borderRadius:6,color:a.danger,fontSize:8,fontWeight:700,cursor:"pointer",...D},children:"RESET WALLET"})]})]}):l.jsx("button",{onClick:()=>h(!0),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:"Forgot password?"})})]})]})}const Bm="forgeos.import.addressbook.v1",Ed="forgeos.import.addressbook.salt.v1",GS=32,XS=240;function $m(){return chrome.storage.local}function QS(e){return String(e||"").trim().toLowerCase().split(/\s+/).join(" ")}function YS(e){return String(e||"").trim()}function ua(e){return Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}function ZS(e){const t=e.trim();if(!t||t.length%2!==0)return new Uint8Array;const n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r/2]=parseInt(t.slice(r,r+2),16);return n}async function Km(e){return new Promise(t=>{$m().get(e,n=>t((n==null?void 0:n[e])??null))})}async function Wm(e,t){return new Promise(n=>{$m().set({[e]:t},n)})}async function JS(){const e=await Km(Ed);if(e&&typeof e=="string"){const n=ZS(e);if(n.length>0)return n}const t=crypto.getRandomValues(new Uint8Array(16));return await Wm(Ed,ua(t)),t}async function Vm(){const e=await Km(Bm);return!e||typeof e!="object"?{}:e}async function qS(e){await Wm(Bm,e)}async function Hm(e,t){const n=await JS(),r=QS(e),o=YS(t);if(!r)return"";const i=new TextEncoder().encode(`${ua(n)}
${r}
${o}`),s=await crypto.subtle.digest("SHA-256",i);return ua(new Uint8Array(s))}function ex(e){const t=it(e.derivation);return{address:e.address,derivation:t,derivationPath:Lt(t),chainLabel:uu(t.chain)}}function tx(e,t,n){const r=it(e.derivation);return{address:e.address,network:t,derivation:r,derivationPath:Lt(r),chainLabel:uu(r.chain),createdAt:n,lastUsedAt:n}}function nx(e){const t=new Map;for(const n of e){const r=`${n.network.toLowerCase()}|${n.address.toLowerCase()}|${n.derivationPath}`,o=t.get(r);if(!o){t.set(r,n);continue}t.set(r,{...o,lastUsedAt:Math.max(o.lastUsedAt,n.lastUsedAt),createdAt:Math.min(o.createdAt,n.createdAt)})}return[...t.values()].sort((n,r)=>r.lastUsedAt-n.lastUsedAt)}function rx(e){const t=Object.entries(e).sort((n,r)=>{var s,u,c,d;const o=((u=(s=n[1])==null?void 0:s[0])==null?void 0:u.lastUsedAt)??0;return(((d=(c=r[1])==null?void 0:c[0])==null?void 0:d.lastUsedAt)??0)-o});return Object.fromEntries(t.slice(0,GS))}async function ox(e,t,n){const r=await Hm(e,t);return r?((await Vm())[r]??[]).filter(s=>s.network===n).sort((s,u)=>u.lastUsedAt-s.lastUsedAt).map(ex):[]}async function ca(e,t,n,r){const o=await Hm(e,t);if(!o||!r.length)return;const i=Date.now(),s=await Vm(),u=s[o]??[],c=r.map(g=>tx(g,n,i)),d=nx([...c,...u]).slice(0,XS);s[o]=d,await qS(rx(s))}async function ix(e,t,n,r){await ca(e,t,n,[r])}const sx=Ji,sl=[0,4],ll=[0,9],da=80,Gm=320,lx=[...au].join(`
`);function Qr(e){return`${e.address.toLowerCase()}|${e.derivationPath}`}function fa(e,t){const n=Number(String(e||"").trim());return!Number.isFinite(n)||n<0?t:Math.floor(n)}function kd(e,t,n){const r=fa(e,n[0]),o=fa(t,n[1]);return[Math.min(r,o),Math.max(r,o)]}function ax(e){const t=fa(e,da);return Math.max(1,Math.min(Gm,t||da))}function ux(e){const t=String(e||"").split(/[,\n]+/).map(n=>n.trim()).filter(Boolean);return t.length?t:[...au]}function Ad({onSubmit:e,loading:t,submitLabel:n}){const[r,o]=w.useState(""),[i,s]=w.useState(""),[u,c]=w.useState(null),d=m=>{if(m.preventDefault(),c(null),r.length<8){c("Password must be at least 8 characters.");return}if(r!==i){c("Passwords do not match.");return}e(r)},g=(m=!1)=>({width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${m?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...D,outline:"none",marginBottom:8});return l.jsxs("form",{onSubmit:d,children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:8},children:"CREATE PASSWORD"}),l.jsx("input",{type:"password",placeholder:"Password (min 8 characters)",value:r,onChange:m=>o(m.target.value),disabled:t,style:g()}),l.jsx("input",{type:"password",placeholder:"Confirm password",value:i,onChange:m=>s(m.target.value),disabled:t,style:{...g(),marginBottom:0}}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:u}),l.jsx("button",{type:"submit",disabled:!r||!i||t,style:{width:"100%",marginTop:12,padding:"11px 0",background:r&&i&&!t?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:r&&i&&!t?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:r&&i&&!t?"pointer":"not-allowed",letterSpacing:"0.1em",...D},children:t?"ENCRYPTING":n})]})}function Rn({children:e}){return l.jsxs("div",{style:{width:sx,minHeight:qi,...Lr(),display:"flex",flexDirection:"column",padding:"22px 22px 18px",...D,overflowX:"hidden",overflowY:"auto",position:"relative",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:-80,right:-50,width:240,height:240,background:`radial-gradient(ellipse, ${a.accent}14 0%, transparent 70%)`,borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:-60,left:-50,width:180,height:180,background:"radial-gradient(ellipse, rgba(57,221,182,0.10) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",flex:1},children:e})]})}function nr({title:e,sub:t,onBack:n}){return l.jsxs("div",{style:{marginBottom:20},children:[n&&l.jsx("button",{onClick:n,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D,marginBottom:10,padding:0},children:" back"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain",filter:"drop-shadow(0 0 10px rgba(57,221,182,0.65))"}}),l.jsxs("span",{style:{fontSize:15,fontWeight:700,letterSpacing:"0.11em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsx("div",{style:{fontSize:13,color:a.text,fontWeight:700,letterSpacing:"0.05em"},children:e}),t&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginTop:5,lineHeight:1.6},children:t})]})}function cx({network:e,onComplete:t}){const[n,r]=w.useState("choose"),o="mainnet",[i,s]=w.useState(""),[u,c]=w.useState(""),[d,g]=w.useState(Qe),[m,h]=w.useState(""),[v,k]=w.useState(""),[E,x]=w.useState(""),[p,f]=w.useState(Qe),[y,S]=w.useState([]),[I,_]=w.useState([]),[j,C]=w.useState(lx),[W,K]=w.useState(String(sl[0])),[G,ve]=w.useState(String(sl[1])),[de,Ce]=w.useState(String(ll[0])),[Re,Ie]=w.useState(String(ll[1])),[oe,N]=w.useState(!0),[b,M]=w.useState(!0),[X,V]=w.useState(String(da)),[U,re]=w.useState(Lt(Qe)),[J,Oe]=w.useState(!1),[F,ae]=w.useState(!1),[Le,se]=w.useState(null),xt=(A,z)=>{const ee=new Map;for(const we of[...A,...z]){const R=Qr(we);ee.has(R)||ee.set(R,we)}return[...ee.values()]},wt=()=>{const A=[];return oe&&A.push(0),b&&A.push(1),A.length?A:[0]},et=async()=>{const A=await ox(m,v||void 0,o);return _(A.map(z=>Qr(z))),A},P=async()=>{ae(!0),se(null);try{const A=await et();if(!A.length)throw new Error("No remembered candidates found for this phrase/passphrase.");S(A);const z=A[0];x(z.address),f(z.derivation),re(z.derivationPath),r("import_discover")}catch(A){const z=A instanceof Error?A.message:String(A);se(z||"Failed to load remembered candidates.")}finally{ae(!1)}},Q=async()=>{var A;ae(!0),se(null);try{const z=h0(U),ee=await td(m,o,{mnemonicPassphrase:v||void 0,derivation:z}),we={address:ee.address,derivation:it(ee.derivation??z),derivationPath:Lt(ee.derivation??z),chainLabel:((A=ee.derivation)==null?void 0:A.chain)===1?"change":"receive"};x(we.address),f(we.derivation),S(R=>xt([we],R)),await ca(m,v||void 0,o,[we]),_(R=>{const $=new Set(R);return $.add(Qr(we)),[...$]}),r("import_password")}catch(z){const ee=z instanceof Error?z.message:String(z);se(ee||"Failed to validate derivation path.")}finally{ae(!1)}},xe=async()=>{ae(!0),se(null);try{const A=await P0(o);s(A.phrase),c(A.address),g(it(A.derivation??Qe)),r("create_view")}catch{se("Failed to generate wallet. Please try again.")}finally{ae(!1)}},Ut=async A=>{ae(!0),se(null);try{await Xi(i,A,u,o,{derivation:d}),await ta({address:u,network:o});const z=await Qn(A);s(""),t(z)}catch{se("Failed to encrypt vault. Please try again."),ae(!1)}},jn=async()=>{ae(!0),se(null);try{const A=await td(m,o,{mnemonicPassphrase:v||void 0}),z=it(A.derivation??Qe),ee={address:A.address,derivation:z,derivationPath:Lt(z),chainLabel:z.chain===1?"change":"receive"};x(A.address),f(z),S([ee]),re(ee.derivationPath),r("import_password")}catch(A){const z=A instanceof Error?A.message:String(A);se(z.toLowerCase().includes("bip39")||z.toLowerCase().includes("checksum")?"Invalid BIP39 phrase. Check word count, spelling, and passphrase.":"Failed to validate phrase.")}finally{ae(!1)}},ln=async()=>{ae(!0),se(null);let A=[],z=[],ee="";try{try{A=await et()}catch{A=[]}const we=kd(W,G,sl),R=kd(de,Re,ll),$=wt(),pe=ux(j),ct=ax(X);try{z=await j0(m,o,{mnemonicPassphrase:v||void 0,basePaths:pe,accountRange:we,indexRange:R,chains:$,limit:ct})}catch(dt){ee=dt instanceof Error?dt.message:String(dt)}const nt=xt(z,A);if(!nt.length)throw new Error(ee||"No derivation candidates found for the configured scan window.");z.length&&await ca(m,v||void 0,o,z),ee&&A.length&&se(`${ee} Showing remembered candidates only.`),S(nt),_(nt.map(dt=>Qr(dt)));const jt=nt[0];E||(x(jt.address),f(jt.derivation)),re(jt.derivationPath),r("import_discover")}catch(we){const R=we instanceof Error?we.message:String(we);se(R||"Failed to scan import paths.")}finally{ae(!1)}},tt=A=>{x(A.address),f(it(A.derivation)),re(A.derivationPath),r("import_password")},Gt=async A=>{ae(!0),se(null);try{const z=m.trim().toLowerCase().split(/\s+/).join(" ");await Xi(z,A,E,o,{mnemonicPassphrase:v||void 0,derivation:p}),await ta({address:E,network:o});try{await ix(z,v||void 0,o,{address:E,derivation:p,derivationPath:Lt(p),chainLabel:p.chain===1?"change":"receive"})}catch{}const ee=await Qn(A);h(""),k(""),S([]),_([]),t(ee)}catch{se("Failed to encrypt vault. Please try again."),ae(!1)}},B=i.split(" ");return n==="choose"?l.jsxs(Rn,{children:[l.jsx(nr,{title:"SET UP YOUR WALLET",sub:"Non-custodial  Your keys never leave your device"}),l.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:14},children:["KASPA L1  L2","NON-CUSTODIAL","BIP44"].map(A=>l.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em",background:`${a.accent}10`,border:`1px solid ${a.accent}22`,borderRadius:4,padding:"3px 7px"},children:A},A))}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:18,padding:"7px 12px",background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em"},children:"MAINNET"})]}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsx("button",{onClick:xe,disabled:F,style:{width:"100%",padding:"18px 16px",textAlign:"left",background:`linear-gradient(145deg, ${a.accent}1A, rgba(11,17,24,0.95))`,border:`1px solid ${a.accent}45`,borderRadius:12,marginBottom:10,cursor:F?"not-allowed":"pointer",...D},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:`${a.accent}18`,border:`1px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.accent,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.accent,marginBottom:4,letterSpacing:"0.06em"},children:F?"GENERATING":"CREATE NEW WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Generate a new wallet  24-word seed phrase  fully encrypted locally"})]})]})}),l.jsx("button",{onClick:()=>{se(null),h(""),k(""),x(""),S([]),_([]),f(Qe),re(Lt(Qe)),r("import_phrase")},style:{width:"100%",padding:"18px 16px",textAlign:"left",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:12,marginBottom:18,cursor:"pointer",...D},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.dim,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,marginBottom:4,letterSpacing:"0.06em"},children:"IMPORT WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Restore from a BIP39 seed phrase  supports 12/15/18/21/24 words"})]})]})}),l.jsx("div",{style:{marginTop:"auto",padding:"10px 12px",background:"rgba(5,7,10,0.5)",border:`1px solid ${a.border}`,borderRadius:8},children:["Your keys never leave your device.","Non-custodial  Forge-OS has zero access to your funds."].map((A,z)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:z===0?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:A})]},z))})]}):n==="create_view"?l.jsxs(Rn,{children:[l.jsx(nr,{title:"YOUR SEED PHRASE",sub:"Write these 24 words down in order and store them offline. Anyone with this phrase controls your wallet.",onBack:()=>{r("choose"),s(""),c(""),g(Qe)}}),l.jsx("div",{style:{background:a.wLow,border:`1px solid ${a.warn}40`,borderRadius:8,padding:"8px 12px",marginBottom:12},children:l.jsx("div",{style:{fontSize:8,color:a.warn,fontWeight:700},children:" NEVER share this phrase. Forge-OS will never ask for it."})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:14},children:B.map((A,z)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:5,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[z+1,"."]}),l.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:A})]},z))}),l.jsxs("label",{style:{display:"flex",gap:8,alignItems:"flex-start",cursor:"pointer",marginBottom:14},children:[l.jsx("input",{type:"checkbox",checked:J,onChange:A=>Oe(A.target.checked),style:{marginTop:2,accentColor:a.accent,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"I have written down my 24-word seed phrase and stored it securely offline."})]}),l.jsx("button",{onClick:()=>r("create_password"),disabled:!J,style:{width:"100%",padding:"11px 0",background:J?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:J?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:J?"pointer":"not-allowed",letterSpacing:"0.1em",...D},children:"I'VE SAVED MY PHRASE "})]}):n==="create_password"?l.jsxs(Rn,{children:[l.jsx(nr,{title:"ENCRYPT YOUR WALLET",sub:"Your seed phrase will be encrypted and stored locally. You'll need this password to unlock your wallet.",onBack:()=>r("create_view")}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsx(Ad,{onSubmit:Ut,loading:F,submitLabel:"CREATE WALLET"})]}):n==="import_phrase"?l.jsxs(Rn,{children:[l.jsx(nr,{title:"IMPORT SEED PHRASE",sub:"Enter a BIP39 seed phrase (12/15/18/21/24 words). Optional BIP39 passphrase supported.",onBack:()=>r("choose")}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"SEED PHRASE"}),l.jsx("textarea",{value:m,onChange:A=>{h(A.target.value),S([]),_([]),x(""),se(null)},placeholder:"word1 word2 word3  (space-separated)",rows:4,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,resize:"vertical",...D,outline:"none",marginBottom:10}}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"BIP39 PASSPHRASE (OPTIONAL)"}),l.jsx("input",{type:"password",value:v,onChange:A=>{k(A.target.value),S([]),_([]),x(""),se(null)},placeholder:"Optional passphrase / 25th word",style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,...D,outline:"none",marginBottom:10}}),m.trim()&&(()=>{const A=m.trim().split(/\s+/).filter(Boolean).length,z=[12,15,18,21,24].includes(A);return l.jsxs("div",{style:{fontSize:8,color:z?a.ok:a.warn,marginBottom:8},children:[A," words ",z?"":"(need 12/15/18/21/24)"]})})(),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"DISCOVERY SCAN OPTIONS"}),l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"BASE PATH ROOTS (ONE PER LINE)"}),l.jsx("textarea",{value:j,onChange:A=>C(A.target.value),rows:2,style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",color:a.text,fontSize:8,resize:"vertical",...D,outline:"none",marginBottom:8}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"ACCOUNT RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:W,onChange:A=>K(A.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:G,onChange:A=>ve(A.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"INDEX RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:de,onChange:A=>Ce(A.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:Re,onChange:A=>Ie(A.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"CHAINS"}),l.jsxs("div",{style:{display:"flex",gap:10},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:oe,onChange:A=>N(A.target.checked),style:{accentColor:a.accent}}),"RECEIVE (0)"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:b,onChange:A=>M(A.target.checked),style:{accentColor:a.accent}}),"CHANGE (1)"]})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"RESULT LIMIT"}),l.jsx("input",{type:"number",min:1,max:Gm,value:X,onChange:A=>V(A.target.value),style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}})]})]})]}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"MANUAL DERIVATION PATH"}),l.jsx("input",{value:U,onChange:A=>re(A.target.value),placeholder:"m/44'/111'/0'/0/0",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",color:a.text,fontSize:8,...D,outline:"none",marginBottom:8}}),l.jsx("button",{onClick:Q,disabled:!m.trim()||F,style:{width:"100%",padding:"9px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!F?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!F?"pointer":"not-allowed",letterSpacing:"0.08em",...D},children:F?"VALIDATING":"USE MANUAL PATH"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsx("button",{onClick:jn,disabled:!m.trim()||F,style:{width:"100%",padding:"11px 0",background:m.trim()&&!F?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:m.trim()&&!F?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:m.trim()&&!F?"pointer":"not-allowed",letterSpacing:"0.1em",...D},children:F?"VALIDATING":"VALIDATE PHRASE "}),l.jsx("button",{onClick:ln,disabled:!m.trim()||F,style:{width:"100%",padding:"11px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!F?a.text:a.dim,fontSize:9,fontWeight:700,cursor:m.trim()&&!F?"pointer":"not-allowed",letterSpacing:"0.08em",...D},children:F?"SCANNING":"SCAN PATHS"})]}),l.jsx("button",{onClick:P,disabled:!m.trim()||F,style:{width:"100%",padding:"10px 0",marginTop:8,background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!F?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!F?"pointer":"not-allowed",letterSpacing:"0.08em",...D},children:F?"LOADING":"LOAD REMEMBERED CANDIDATES"})]}):n==="import_discover"?l.jsxs(Rn,{children:[l.jsx(nr,{title:"SELECT DERIVATION",sub:"Choose the address/path that matches your existing wallet. This choice will be saved for signing.",onBack:()=>r("import_phrase")}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"Showing common derivation candidates for your phrase/passphrase. If unsure, compare with the address shown in your current wallet app and select the exact match."}),l.jsxs("div",{style:{fontSize:8,color:a.dim,marginTop:6},children:["Remembered candidates for this mnemonic fingerprint: ",I.length]})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,maxHeight:300,overflowY:"auto",paddingRight:2,marginBottom:12},children:y.map((A,z)=>{const ee=A.address.toLowerCase()===E.toLowerCase()&&Lt(A.derivation)===Lt(p),we=I.includes(Qr(A));return l.jsxs("button",{onClick:()=>tt(A),style:{width:"100%",textAlign:"left",background:ee?`${a.accent}10`:"rgba(8,13,20,0.8)",border:`1px solid ${ee?`${a.accent}55`:a.border}`,borderRadius:8,padding:"9px 10px",cursor:"pointer",...D},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginBottom:4},children:[l.jsxs("span",{style:{fontSize:8,color:ee?a.accent:a.text,fontWeight:700},children:["#",z+1,"  ",A.chainLabel.toUpperCase()]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[we&&l.jsx("span",{style:{fontSize:8,color:a.accent,border:`1px solid ${a.accent}44`,background:`${a.accent}14`,borderRadius:4,padding:"2px 4px",letterSpacing:"0.06em"},children:"REMEMBERED"}),l.jsx("span",{style:{fontSize:8,color:a.dim},children:A.derivation.account===0?"acct 0":`acct ${A.derivation.account}`})]})]}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.45,wordBreak:"break-all",marginBottom:4},children:A.address}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:A.derivationPath})]},`${A.address}-${A.derivationPath}`)})}),l.jsx("button",{onClick:()=>ln(),disabled:F,style:{width:"100%",padding:"10px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:F?a.dim:a.text,fontSize:9,fontWeight:700,cursor:F?"not-allowed":"pointer",letterSpacing:"0.08em",...D},children:F?"SCANNING":"RESCAN CANDIDATES"})]}):n==="import_password"?l.jsxs(Rn,{children:[l.jsx(nr,{title:"ENCRYPT YOUR WALLET",sub:"Your imported phrase will be encrypted and stored locally. Choose a strong password.",onBack:()=>r(y.length?"import_discover":"import_phrase")}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4,letterSpacing:"0.08em"},children:"SELECTED ADDRESS"}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.4,wordBreak:"break-all",marginBottom:4},children:E}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:Lt(p)})]}),Le&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Le}),l.jsx(Ad,{onSubmit:Gt,loading:F,submitLabel:"IMPORT WALLET"})]}):l.jsx(Rn,{children:l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",filter:"drop-shadow(0 0 12px rgba(57,221,182,0.7))",marginBottom:14}}),l.jsx("div",{style:{fontSize:10,color:a.accent,marginBottom:6,letterSpacing:"0.1em",fontWeight:700},children:"ENCRYPTING VAULT"}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:"Deriving key  This may take a moment"})]})})})}function dx({address:e,network:t,origin:n,onApprove:r,onReject:o}){const i=n??"forge-os.xyz";return l.jsxs("div",{style:{width:Fm,minHeight:Um,...Lr(),display:"flex",flexDirection:"column",...D,overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"24px 16px",gap:16},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}18`,border:`2px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 14px"},children:l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain"}})}),l.jsx("div",{style:{fontSize:13,fontWeight:700,color:a.text,marginBottom:4},children:"Connect to Site"}),l.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em",wordBreak:"break-word",overflowWrap:"anywhere"},children:i})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.8)",border:`1px solid ${a.border}`,borderRadius:10,padding:"12px 14px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:10},children:"THIS SITE WILL BE ABLE TO"}),[{icon:"",label:"View your wallet address"},{icon:"",label:"Request message signatures"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6,fontSize:10,color:a.text},children:[l.jsx("span",{style:{color:a.ok,fontSize:9,flexShrink:0},children:s.icon}),s.label]},s.label)),l.jsx("div",{style:{height:1,background:a.border,margin:"10px 0"}}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"THIS SITE WILL NOT BE ABLE TO"}),[{icon:"",label:"Access your private keys or seed phrase"},{icon:"",label:"Send transactions without your approval"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4,fontSize:10,color:a.muted},children:[l.jsx("span",{style:{color:a.danger,fontSize:9,flexShrink:0},children:s.icon}),s.label]},s.label))]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"CONNECTING WITH"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Fo(e)}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...D},children:"REJECT"}),l.jsx("button",{onClick:r,style:{flex:2,background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:"#04110E",fontSize:11,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...D},children:"CONNECT "})]})]})}function fx({address:e,network:t,origin:n,message:r,loading:o=!1,error:i,onApprove:s,onReject:u}){const c=n??"forge-os.xyz";return l.jsxs("div",{style:{width:Fm,minHeight:Um,...Lr(),display:"flex",flexDirection:"column",...D,overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"18px 16px",gap:12},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.warn}18`,border:`2px solid ${a.warn}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsx("div",{style:{fontSize:12,fontWeight:700,color:a.text,marginBottom:3},children:"Signature Request"}),l.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em"},children:c})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.9)",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",minWidth:0},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"MESSAGE TO SIGN"}),l.jsx("div",{style:{maxHeight:180,overflowY:"auto",background:"rgba(5,7,10,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px",fontSize:9,color:a.text,lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere"},children:r})]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10,minWidth:0},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{style:{minWidth:0},children:[l.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"SIGNING WITH"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Fo(e)}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]}),i&&l.jsx("div",{style:{fontSize:9,color:a.danger,lineHeight:1.5,textAlign:"center"},children:i})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:u,disabled:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...D},children:"REJECT"}),l.jsx("button",{onClick:s,disabled:o,style:{flex:2,background:o?`${a.accent}35`:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:o?a.dim:"#04110E",fontSize:11,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...D},children:o?"SIGNING":"SIGN MESSAGE "})]})]})}const Td="forgeos.connect.pending",Id="forgeos.sign.pending";function px(){const[e,t]=w.useState({type:"loading"}),[n,r]=w.useState(null),[o,i]=w.useState("mainnet"),[s,u]=w.useState(null),[c,d]=w.useState(0),[g,m]=w.useState(!1),[h,v]=w.useState("wallet"),[k,E]=w.useState(),[x,p]=w.useState(15),[f,y]=w.useState(!1),[S,I]=w.useState(!1),[_,j]=w.useState(null),[C,W]=w.useState(null),[K,G]=w.useState(!1),[ve,de]=w.useState(null),[Ce,Re]=w.useState(null),[Ie,oe]=w.useState(null),[N,b]=w.useState(null),[M,X]=w.useState(null),[V,U]=w.useState(null),[re,J]=w.useState(null),[Oe,F]=w.useState(null),ae=["mainnet","testnet-10","testnet-11","testnet-12"],Le={mainnet:"MAINNET","testnet-10":"TN10","testnet-11":"TN11","testnet-12":"TN12"},se=45e3,xt=45e3,wt=6e4;w.useEffect(()=>{(async()=>{try{const[L,H,Ee,Me,De]=await Promise.all([om(),lu(),Fy(),By(),Ky()]);if(i(H),p(Ee),y(Me===!0),I(De===!0),!L){const ft=await Yc();ft!=null&&ft.address?(r({mnemonic:"",address:ft.address,network:H,autoLockAt:1/0}),Q(ft.address,H),t({type:"unlocked"})):t({type:"first_run"});return}const Et=on()??await im();if(Et)r(Et),Q(Et.address,H),t({type:"unlocked"});else{const ft=await Yc();Re((ft==null?void 0:ft.address)??null),t({type:"locked"})}}catch{t({type:"first_run"})}})()},[]);const et=w.useCallback(()=>{var H;const L=(H=chrome.storage)==null?void 0:H.session;L!=null&&L.get&&L.get([Td,Id]).then(Ee=>{const Me=Ee==null?void 0:Ee[Td],De=Ee==null?void 0:Ee[Id];j(Me!=null&&Me.requestId?Me:null),W(De!=null&&De.requestId&&typeof(De==null?void 0:De.message)=="string"?De:null)}).catch(()=>{})},[]);w.useEffect(()=>{et()},[et]),w.useEffect(()=>{const L=(H,Ee)=>{Ee==="session"&&et()};return chrome.storage.onChanged.addListener(L),()=>chrome.storage.onChanged.removeListener(L)},[et]),w.useEffect(()=>{de(null)},[C==null?void 0:C.requestId]),w.useEffect(()=>{const L=H=>{(H==null?void 0:H.type)==="AUTOLOCK_FIRED"&&Ut()};return chrome.runtime.onMessage.addListener(L),()=>chrome.runtime.onMessage.removeListener(L)},[]),w.useEffect(()=>{if(e.type!=="unlocked"||!n)return;const L=setInterval(()=>{on()||Ut()},3e4);return()=>clearInterval(L)},[e.type,n]);const P=w.useCallback(L=>{var Me;const H=t0(L);if(!Array.isArray(H)||H.length===0){b(null);return}const Ee=[...H].sort((De,Et)=>De.lastOkAt!==Et.lastOkAt?Et.lastOkAt-De.lastOkAt:De.consecutiveFails!==Et.consecutiveFails?De.consecutiveFails-Et.consecutiveFails:Et.lastFailAt-De.lastFailAt);b(((Me=Ee[0])==null?void 0:Me.base)??null)},[]);w.useEffect(()=>{if(e.type!=="unlocked")return;const L=async()=>{const Ee=await d0(o);Ee!=null&&Ee.virtualDaaScore?(oe(Ee.virtualDaaScore),J(Date.now()),F(Me=>Me!=null&&Me.startsWith("Live BlockDAG feed")?null:Me)):F("Live BlockDAG feed unavailable  retrying"),P(o)};L();const H=setInterval(L,2e4);return()=>clearInterval(H)},[e.type,o,P]);const Q=w.useCallback(async(L,H)=>{try{const Ee=uo(L,H),[Me,De]=await Promise.allSettled([f0(Ee,H),p0(H)]),Et=Date.now();let ft=!1;Me.status==="fulfilled"?(u(Me.value),X(Et)):ft=!0,De.status==="fulfilled"?(d(De.value),U(Et)):ft=!0,F(Uo=>ft?"Live balance/price feed degraded  retrying":Uo!=null&&Uo.startsWith("Live balance/price feed")?null:Uo),P(H)}catch{}},[P]);w.useEffect(()=>{if(e.type!=="unlocked"||!(n!=null&&n.address))return;const L=()=>{Q(n.address,o)};L();const H=setInterval(L,15e3);return()=>clearInterval(H)},[e.type,n==null?void 0:n.address,o,Q]);const xe=L=>{Re(null),r(L),Q(L.address,o),t({type:"unlocked"})},Ut=()=>{Re((n==null?void 0:n.address)??null),lm(),r(null),u(null),d(0),oe(null),b(null),X(null),U(null),J(null),F(null),t({type:"locked"})},jn=async()=>{const{resetWallet:L}=await Vp(async()=>{const{resetWallet:H}=await Promise.resolve().then(()=>A0);return{resetWallet:H}},void 0);await L(),r(null),u(null),d(0),oe(null),b(null),X(null),U(null),J(null),F(null),t({type:"first_run"})},ln=L=>{r(L),Q(L.address,o),t({type:"unlocked"})},tt=(()=>{if(!(n!=null&&n.address))return null;try{return uo(n.address,o)}catch{return n.address}})(),Gt=async()=>{if(tt)try{await navigator.clipboard.writeText(tt),m(!0),setTimeout(()=>m(!1),2e3)}catch{}},B=async()=>{const L=ae.indexOf(o),H=ae[(L+1)%ae.length];if(i(H),await My(H),u(null),oe(null),b(null),X(null),U(null),J(null),F(null),n!=null&&n.address){try{await ta({address:uo(n.address,H),network:H})}catch{}Q(n.address,H)}},A=()=>{e.type==="unlocked"&&xi(x,{persistSession:f})},z=async L=>{p(L),await Uy(L),e.type==="unlocked"&&xi(L,{persistSession:f})},ee=async L=>{y(L),await $y(L),await sm(L),e.type==="unlocked"&&xi(x,{persistSession:L})},we=async()=>{const L=!S;I(L);try{await Wy(L)}catch{}};w.useEffect(()=>{e.type!=="unlocked"||!C||n!=null&&n.mnemonic||(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:C.requestId,error:"Managed wallet is required for site signing"}).catch(()=>{}),W(null))},[e.type,C,n==null?void 0:n.mnemonic]);const R=async()=>{const L=C;if(L){if(!(n!=null&&n.mnemonic)){de("Wallet is locked. Unlock to sign.");return}G(!0),de(null);try{const H=await R0(n.mnemonic,L.message,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation});await chrome.runtime.sendMessage({type:"FORGEOS_SIGN_APPROVE",requestId:L.requestId,signature:H}),W(null)}catch(H){const Ee=H instanceof Error?H.message:String(H);de(Ee||"Signing failed")}finally{G(!1)}}},$=()=>{C&&(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:C.requestId,error:"Signing rejected by user"}).catch(()=>{}),window.close())};if(e.type==="loading")return l.jsxs("div",{style:{width:Ji,height:qi,...Lr(),display:"flex",alignItems:"center",justifyContent:"center",...D,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%,-50%)",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}12 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{textAlign:"center",position:"relative"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",opacity:.7,filter:"drop-shadow(0 0 10px rgba(57,221,182,0.5))"}}),l.jsx("div",{style:{fontSize:9,color:a.dim,marginTop:10,letterSpacing:"0.14em"},children:"LOADING"})]})]});if(e.type==="first_run")return l.jsx(cx,{network:o,onComplete:ln});if(e.type==="locked")return l.jsx(HS,{walletAddress:Ce,autoLockMinutes:x,persistSession:f,onUnlock:xe,onReset:jn});const pe=!!(n!=null&&n.mnemonic);if(C&&tt&&pe)return l.jsx(fx,{address:tt,network:o,origin:C.origin,message:C.message,loading:K,error:ve,onApprove:R,onReject:$});if(_&&tt)return l.jsx(dx,{address:tt,network:o,origin:_.origin,onApprove:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_APPROVE",requestId:_.requestId,address:tt,network:o}).catch(()=>{}),j(null)},onReject:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_REJECT",requestId:_.requestId}).catch(()=>{}),window.close()}});const ct=tt,nt="USD",jt=s!==null&&c>0?s*c:null,dt=jt!==null?Ry(jt,nt):"",qn=S?"":dt,Ss=o==="mainnet",Xm=Date.now(),xs=(L,H)=>L!==null&&Xm-L<=H,Ou=xs(M,se),Lu=xs(V,xt),Du=xs(re,wt),bu=Ou&&Lu&&Du,zu=Ou||Lu||Du,Qm=bu?"LIVE FEED":zu?"PARTIAL FEED":"FEED OFFLINE",Ym=bu?a.ok:zu?a.warn:a.danger,Mu=Math.max(M??0,V??0,re??0),Zm=Mu>0?new Date(Mu).toLocaleTimeString([],{hour12:!1}):"never",Jm=(()=>{if(!N)return"endpoint unknown";try{return new URL(N).host}catch{return N}})(),ws=Ss?a.ok:a.warn;return l.jsxs("div",{onClick:A,style:{width:Ji,minHeight:qi,...Lr(),display:"flex",flexDirection:"column",...D,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:-60,left:"50%",transform:"translateX(-50%)",width:320,height:320,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0D 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsx("div",{style:{position:"absolute",bottom:40,right:-60,width:200,height:200,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}07 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsxs("div",{style:{padding:"13px 16px 11px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:9},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:24,height:24,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.55))"}}),l.jsxs("span",{style:{fontSize:14,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("button",{onClick:B,title:"Click to switch network",style:{fontSize:9,color:ws,fontWeight:700,letterSpacing:"0.1em",background:`${ws}15`,border:`1px solid ${ws}35`,borderRadius:4,padding:"3px 8px",cursor:"pointer",...D},children:Le[o]??o.toUpperCase()}),pe&&l.jsx("button",{onClick:Ut,title:"Lock wallet",style:{background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:4,padding:"3px 8px",color:a.dim,fontSize:10,cursor:"pointer",...D},children:""})]})]}),ct?l.jsxs("div",{style:{padding:"20px 16px 16px",borderBottom:`1px solid ${a.border}`,textAlign:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:16},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:a.ok,flexShrink:0,boxShadow:`0 0 6px ${a.ok}`}}),l.jsx("span",{style:{fontSize:10,color:a.dim,letterSpacing:"0.04em"},children:Fo(ct)}),l.jsx("button",{onClick:Gt,style:{...te(g?a.ok:a.dim,!0),padding:"3px 8px",fontSize:9,letterSpacing:"0.08em",color:g?a.ok:a.dim,minWidth:56},children:g?"COPIED":"COPY"}),l.jsx("button",{onClick:we,style:{...te(S?a.warn:a.dim,!0),padding:"3px 8px",fontSize:9,letterSpacing:"0.08em",color:S?a.warn:a.dim,minWidth:56},children:S?"SHOW":"HIDE"})]}),l.jsxs("div",{style:{marginBottom:6},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:6},children:"TOTAL PORTFOLIO VALUE"}),l.jsx("div",{style:{fontSize:38,fontWeight:700,color:a.text,letterSpacing:"0.005em",lineHeight:1},children:qn})]}),l.jsx("div",{style:{display:"flex",gap:8,marginTop:16},children:[{label:"SEND",action:()=>{v("wallet"),E("send")}},{label:"RECEIVE",action:()=>{v("wallet"),E("receive")}},{label:"SWAP",action:()=>v("swap")}].map(L=>l.jsx("button",{onClick:L.action,style:{flex:1,background:`linear-gradient(145deg, ${a.accent}1A, rgba(8,13,20,0.7))`,border:`1px solid ${a.accent}40`,borderRadius:10,padding:"9px 0",color:a.accent,fontSize:10,fontWeight:700,cursor:"pointer",...D,letterSpacing:"0.1em",transition:"background 0.15s, border-color 0.15s"},children:L.label},L.label))})]}):l.jsxs("div",{style:{padding:"28px 16px",textAlign:"center",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:[l.jsx("div",{style:{fontSize:11,color:a.dim,marginBottom:12},children:"No wallet connected"}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,color:"#04110E",border:"none",borderRadius:10,padding:"10px 20px",fontSize:11,fontWeight:700,cursor:"pointer",...D,letterSpacing:"0.08em"},children:"OPEN FORGE-OS "})]}),l.jsx("div",{style:{display:"flex",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:["wallet","swap","agents","security"].map(L=>l.jsx("button",{onClick:()=>v(L),style:{flex:1,background:h===L?`${a.accent}08`:"none",border:"none",borderBottom:`2px solid ${h===L?a.accent:"transparent"}`,color:h===L?a.accent:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",padding:"9px 0",letterSpacing:"0.1em",...D,textTransform:"uppercase",transition:"color 0.15s, border-color 0.15s, background 0.15s",boxShadow:h===L?`0 2px 12px ${a.accent}25`:"none"},children:L},L))}),l.jsxs("div",{style:{flex:1,overflow:"auto",position:"relative",zIndex:1},children:[h==="wallet"&&l.jsx(sv,{address:ct,balance:s,usdPrice:c,network:o,onOpenSwap:()=>v("swap"),mode:k,onModeConsumed:()=>E(void 0),onBalanceInvalidated:()=>(n==null?void 0:n.address)&&Q(n.address,o),hideBalances:S}),h==="swap"&&l.jsx(VS,{}),h==="agents"&&l.jsx(yv,{network:o}),h==="security"&&l.jsx(vv,{address:ct,network:o,isManagedWallet:pe,autoLockMinutes:x,persistUnlockSessionEnabled:f,onAutoLockMinutesChange:z,onPersistUnlockSessionChange:ee,onLock:Ut})]}),l.jsxs("div",{style:{padding:"7px 16px",borderTop:`1px solid ${a.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em"},children:"FORGE-OS"}),l.jsxs("span",{style:{fontSize:8,color:Ym,letterSpacing:"0.05em",fontWeight:700},children:[" ",Qm]}),Ie&&l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" ",i0[o]??10," BPS  DAA ",(parseInt(Ie,10)/1e6).toFixed(1),"M"]}),l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" RPC ",Jm]}),l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" UPDATE ",Zm]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...D,letterSpacing:"0.06em"},children:"OPEN SITE "})]}),Oe&&l.jsx("div",{style:{padding:"0 16px 7px",fontSize:8,color:a.warn,letterSpacing:"0.03em",position:"relative",zIndex:1},children:Oe})]})}Wp(document.getElementById("root")).render(l.jsx(w.StrictMode,{children:l.jsx(px,{})}));
